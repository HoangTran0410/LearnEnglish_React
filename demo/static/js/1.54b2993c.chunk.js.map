{"version":3,"sources":["../node_modules/mini-store/lib/PropTypes.js","../node_modules/shallowequal/index.js","../node_modules/rc-util/es/createChainedFunction.js","../node_modules/rc-util/es/Dom/contains.js","../node_modules/dom-scroll-into-view/lib/index.js","../node_modules/mini-store/lib/Provider.js","../node_modules/mini-store/lib/connect.js","../node_modules/mini-store/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","../node_modules/mini-store/lib/create.js","../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../node_modules/rc-util/es/ContainerRender.js","../node_modules/rc-util/es/Portal.js","../node_modules/rc-animate/es/util/motion.js","../node_modules/mutationobserver-shim/dist/mutationobserver.min.js","../node_modules/dom-scroll-into-view/lib/dom-scroll-into-view.js","../node_modules/dom-scroll-into-view/lib/util.js","../node_modules/dom-align/dist-web/index.js","../node_modules/rc-align/es/util.js","../node_modules/rc-align/es/Align.js","../node_modules/rc-align/es/index.js","../node_modules/rc-animate/es/CSSMotion.js","../node_modules/rc-util/es/Dom/findDOMNode.js","../node_modules/rc-menu/es/utils/isMobile.js","../node_modules/rc-menu/es/util.js","../node_modules/rc-menu/es/placements.js","../node_modules/rc-menu/es/SubMenu.js","../node_modules/rc-menu/es/DOMWrap.js","../node_modules/rc-menu/es/SubPopupMenu.js","../node_modules/rc-menu/es/utils/legacyUtil.js","../node_modules/rc-menu/es/Menu.js","../node_modules/rc-menu/es/MenuItem.js","../node_modules/rc-menu/es/MenuItemGroup.js","../node_modules/rc-menu/es/Divider.js","../node_modules/rc-menu/es/index.js","../node_modules/mini-store/lib/index.js","../node_modules/rc-util/es/KeyCode.js","../node_modules/rc-trigger/es/utils.js","../node_modules/rc-trigger/es/LazyRenderBox.js","../node_modules/rc-trigger/es/PopupInner.js","../node_modules/rc-trigger/es/Popup.js","../node_modules/rc-trigger/es/index.js"],"names":["Object","defineProperty","exports","value","storeShape","undefined","obj","_propTypes","_propTypes2","__esModule","default","shape","subscribe","func","isRequired","setState","getState","module","objA","objB","compare","compareContext","ret","call","keysA","keys","keysB","length","bHasOwnProperty","prototype","hasOwnProperty","bind","idx","key","valueA","valueB","createChainedFunction","args","slice","arguments","i","apply","this","contains","root","n","node","parentNode","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","_PropTypes","Provider","_Component","instance","TypeError","_classCallCheck","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","subClass","superClass","create","constructor","setPrototypeOf","_inherits","miniStore","store","Children","only","children","Component","propTypes","childContextTypes","_extends","assign","source","mapStateToProps","shouldSubscribe","finnalMapStateToProps","defaultMapStateToProps","WrappedComponent","Connect","context","_this","handleChange","unsubscribe","nextState","subscribed","state","prevState","trySubscribe","tryUnsubscribe","nextProps","_shallowequal2","wrappedInstance","_this2","render","ref","c","_react2","createElement","displayName","name","getDisplayName","contextTypes","_reactLifecyclesCompat","polyfill","_hoistNonReactStatics2","_interopRequireDefault","REACT_STATICS","defaultProps","getDefaultProps","getDerivedStateFromProps","mixins","type","KNOWN_STATICS","caller","callee","arity","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","concat","e","initialState","listeners","partial","listener","push","index","indexOf","splice","MapShim","Map","getIndex","arr","result","some","entry","class_1","__entries__","get","set","delete","entries","has","clear","forEach","callback","ctx","_i","_a","isBrowser","window","document","global$1","global","Math","Function","requestAnimationFrame$1","requestAnimationFrame","setTimeout","Date","now","trailingTimeout","REFRESH_DELAY","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","filter","gatherActive","hasActive","broadcastActive","addEventListener","observe","attributes","childList","characterData","subtree","removeEventListener","disconnect","_b","propertyName","getInstance","instance_","defineConfigurable","getWindowOf","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","reduce","size","position","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","left","right","vertPad","top","bottom","width","height","boxSizing","round","documentElement","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","x","y","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","rect","broadcastRect","ResizeObserverEntry","rectInit","contentRect","Constr","DOMRectReadOnly","createReadOnlyRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","observation","map","WeakMap","ResizeObserver","method","_typeof","Symbol","iterator","_defineProperties","_assertThisInitialized","_getPrototypeOf","o","_setPrototypeOf","p","ContainerRender","_React$Component","_getPrototypeOf2","_len","Array","_key","removeContainer","container","unmountComponentAtNode","removeChild","renderComponent","ready","_this$props","visible","getComponent","forceRender","getContainer","parent","_component","unstable_renderSubtreeIntoContainer","autoMount","autoDestroy","bool","any","Portal","createContainer","prevProps","didUpdate","_container","forceUpdate","createPortal","canUseDOM","makePrefixMap","styleProp","eventName","prefixes","toLowerCase","vendorPrefixes","domSupport","win","animationend","transitionend","animation","transition","getVendorPrefixes","style","prefixedEventNames","getVendorPrefixedEventName","prefixMap","stylePropList","len","animationEndName","transitionEndName","supportTransition","getTransitionName","transitionName","transitionType","replace","match","toUpperCase","w","v","a","m","b","addedNodes","removedNodes","previousSibling","nextSibling","attributeName","attributeNamespace","oldValue","J","C","d","f","nodeType","nodeValue","A","g","k","h","l","pop","j","t","childNodes","q","z","u","r","E","F","K","D","namespaceURI","G","N","id","mo_id","H","_period","attributeFilter","attributeOldValue","characterDataOldValue","s","takeRecords","I","clearTimeout","B","cssText","util","elem","config","getWindow","allowHorizontalScroll","onlyScrollIfNeeded","alignWithTop","alignWithLeft","offsetTop","offsetLeft","offsetBottom","offsetRight","isWin","isWindow","elemOffset","offset","eh","outerHeight","ew","outerWidth","containerOffset","ch","cw","containerScroll","diffTop","diffBottom","winScroll","ww","wh","scrollLeft","scrollTop","css","getScroll","body","getScrollLeft","getScrollTop","getOffset","el","pos","box","doc","docElem","getBoundingClientRect","clientLeft","clientTop","getClientPosition","parentWindow","_RE_NUM_NO_PX","RegExp","RE_POS","CURRENT_STYLE","RUNTIME_STYLE","LEFT","PX","getComputedStyleX","each","fn","isBorderBoxFn","computedStyle_","val","computedStyle","getPropertyValue","test","rsLeft","pixelLeft","BOX_MODELS","CONTENT_INDEX","PADDING_INDEX","BORDER_INDEX","getPBMWidth","which","prop","cssProp","domUtils","getWH","extra","viewportWidth","viewportHeight","docWidth","docHeight","borderBoxValue","offsetWidth","offsetHeight","isBorderBox","cssBoxValue","Number","borderBoxValueOrIsBorderBox","padding","refWin","max","documentElementProp","compatMode","cssShow","visibility","display","getWHIgnoreDisplay","options","old","swap","first","charAt","includeMargin","current","setOffset","clone","overflow","scrollTo","vendorPrefix","_defineProperty","ownKeys","object","enumerableOnly","symbols","sym","jsCssMap","Webkit","Moz","ms","O","getVendorPrefix","getTransformName","setTransitionProperty","transitionProperty","setTransform","transform","matrix2d","matrix3d","forceRelayout","originalStyle","getDocument","getOffsetDirection","dir","option","useCssRight","useCssBottom","oppositeOffsetDirection","setLeftTop","presetH","presetV","horizontalProperty","verticalProperty","oppositeHorizontalProperty","oppositeVerticalProperty","originalTransition","originalOffset","preset","off","_dir","_off","setTransform$1","originalXY","matrix","split","getTransformXY","resultXY","xy","match2d","item","join","setTransformXY","cs","getParent","element","host","ex","_key2","mix","to","from","utils","ignoreShake","oriOffset","oLeft","toFixed","oTop","tLeft","tTop","useCssTransform","getWindowScrollLeft","getWindowScrollTop","merge","getOffsetParent","positionStyle","nodeName","getParent$1","getVisibleRectForElement","visibleRect","Infinity","navigator","userAgent","min","originalPosition","scrollX","scrollY","documentWidth","scrollWidth","documentHeight","scrollHeight","bodyStyle","overflowX","innerWidth","overflowY","innerHeight","isAncestorFixed","maxVisibleWidth","maxVisibleHeight","getRegion","getAlignOffset","region","align","V","getElFuturePos","elRegion","refNodeRegion","points","targetOffset","p1","p2","diff","isFailX","elFuturePos","isFailY","flip","reg","flipOffset","convertOffset","str","offsetLen","parseInt","substring","normalizeOffset","doAlign","tgtRegion","isTgtRegionVisible","newOverflowCfg","fail","newElRegion","adjustX","adjustY","newPoints","newOffset","newTargetOffset","isCompleteFailX","_newPoints","_newOffset","_newTargetOffset","isCompleteFailY","isStillFailX","isStillFailY","resizeWidth","resizeHeight","adjustForViewport","alignElement","refNode","targetRegion","isOutOfVisibleRect","alignPoint","tgtPoint","pageX","pageY","clientX","clientY","pointInView","getOwnPropertyDescriptors","_objectSpread2","__getOffsetParent","__getVisibleRectForElement","isSimilarValue","val1","val2","int1","floor","int2","getElement","getPoint","point","Align","_ref","_temp","_ret","forceAlign","disabled","onAlign","findDOMNode","activeElement","focus","restoreFocus","monitorWindowResize","startMonitorWindowResize","prev","next","reAlign","sourceRect","lastElement","currentElement","lastPoint","currentPoint","preRect","stopMonitorWindowResize","resizeHandler","bufferMonitor","timer","bufferFn","buffer","monitorBufferTime","remove","_props","childrenProps","child","newProps","cloneElement","oneOfType","number","STATUS_NONE","STATUS_APPEAR","STATUS_ENTER","STATUS_LEAVE","MotionPropTypes","eventProps","motionName","string","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd","transitionSupport","forwardRef","isSupportTransition","CSSMotion","onDomUpdate","_this$state","status","newStatus","$ele","$cacheEle","updateStatus","updateActiveStatus","onMotionEnd","event","_this$state2","statusActive","_this$props2","setNodeRef","internalRef","HTMLElement","styleFunc","additionalState","statusStyle","_destroyed","nextStep","nextFrame","currentStatus","cancelNextFrame","raf","cancel","_classNames","_state","className","prevStatus","newState","_slicedToArray","isArray","_arrayWithHoles","toString","_arr","_n","_d","_e","_s","done","err","_iterableToArrayLimit","_nonIterableRest","applePhone","appleIpod","appleTablet","androidPhone","androidTablet","amazonPhone","amazonTablet","windowsPhone","windowsTablet","otherBlackberry","otherBlackberry10","otherOpera","otherChrome","otherFirefox","regex","isMobile","ua","tmp","apple","phone","ipod","tablet","device","amazon","android","windows","other","blackberry","blackberry10","opera","firefox","chrome","_objectSpread","noop","getKeyFromChildrenIndex","menuEventKey","prefix","getMenuIdFromSubMenuEventKey","eventKey","loopMenuItem","cb","isMenuItemGroup","c2","menuAllProps","getWidth","setStyle","styleProperty","autoAdjustOverflow","topLeft","bottomLeft","leftTop","rightTop","guid","popupPlacementMap","horizontal","vertical","defaultActiveFirst","menuId","SubMenu","onDestroy","onKeyDown","keyCode","menu","menuInstance","isOpen","KeyCode","ENTER","onTitleClick","RIGHT","triggerOpenChange","handled","UP","DOWN","onOpenChange","onPopupVisibleChange","onMouseEnter","domEvent","onMouseLeave","_this$props3","parentMenu","subMenuInstance","onTitleMouseEnter","_this$props4","onItemHover","hover","onTitleMouseLeave","_this$props5","triggerSubMenuAction","onSubMenuClick","info","onClick","addKeyPath","onSelect","onDeselect","getPrefixCls","rootPrefixCls","getActiveClassName","getDisabledClassName","getSelectedClassName","getOpenClassName","saveMenuInstance","keyPath","open","openChange","trigger","mouseenterTimeout","isChildrenSelected","find","loopMenuItemRecursively","construct","isSubMenu","isMenuItem","selectedKeys","openKeys","adjustWidth","subMenuTitle","popupMenu","minWidth","saveSubMenuTitle","isRootMenu","componentDidUpdate","_this$props6","mode","manualRef","minWidthTimeout","_this$props7","_this3","baseProps","level","inlineIndent","focusable","motion","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","builtinPlacements","multiple","prefixCls","internalMenuId","itemIcon","expandIcon","haveRendered","haveOpened","mergedMotion","mergedClassName","isInlineMode","active","mouseEvents","titleClickEvents","titleMouseEvents","paddingLeft","ariaOwns","icon","title","renderChildren","getPopupContainer","triggerNode","popupPlacement","popupAlign","popupOffset","popupClassName","role","popupVisible","popup","action","mouseEnterDelay","mouseLeaveDelay","connected","_ref2","_ref3","activeKey","subMenuKey","_toConsumableArray","arr2","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","MENUITEM_OVERFLOWED_CLASSNAME","FLOAT_PRECISION_ADJUST","DOMWrap","resizeObserver","mutationObserver","originalTotalWidth","overflowedItems","menuItemSizes","lastVisibleIndex","getMenuItemNodes","ul","getOverflowedSubMenuItem","keyPrefix","renderPlaceholder","overflowedIndicator","theme","_copy$props","propStyle","rest","setChildrenWidthAndResize","ulChildrenNodes","lastOverflowedIndicatorPlaceholder","menuItemNodes","overflowedIndicatorWidth","acc","cur","handleResize","currentSumWidth","liWidth","menuUl","subTree","childNode","overflowed","tag","Tag","updateActiveKey","getEventKey","getActiveKey","originalActiveKey","found","saveRef","instanceArray","SubPopupMenu","getFlatInstanceArray","activeItem","step","preventDefault","selectInfo","direction","reverse","activeIndex","every","ci","start","renderCommonMenuItem","extraProps","childProps","newChildProps","renderMenuItem","domProps","tabIndex","getMotion","openAnimation","openTransitionName","warning","Menu","selectable","_selectedKeys","selectedKey","innerMenu","getWrappedInstance","changed","processSingle","oneChanged","_selectedKeys2","getOpenTransitionName","animationName","setInnerMenu","defaultSelectedKeys","defaultOpenKeys","updateMiniStore","MenuItem","isSelected","saveNode","callRef","attrs","attribute","mouseEvent","MenuItemGroup","renderInnerMenuItem","_props$className","titleClassName","listClassName","connect","_Provider3","_connect3","_create3","MAC_ENTER","BACKSPACE","TAB","NUM_CENTER","SHIFT","CTRL","ALT","PAUSE","CAPS_LOCK","ESC","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","PRINT_SCREEN","INSERT","DELETE","ZERO","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","QUESTION_MARK","L","M","P","Q","R","S","T","U","W","X","Y","Z","META","WIN_KEY_RIGHT","CONTEXT_MENU","NUM_ZERO","NUM_ONE","NUM_TWO","NUM_THREE","NUM_FOUR","NUM_FIVE","NUM_SIX","NUM_SEVEN","NUM_EIGHT","NUM_NINE","NUM_MULTIPLY","NUM_PLUS","NUM_MINUS","NUM_PERIOD","NUM_DIVISION","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","NUMLOCK","SEMICOLON","DASH","EQUALS","COMMA","PERIOD","SLASH","APOSTROPHE","SINGLE_QUOTE","OPEN_SQUARE_BRACKET","BACKSLASH","CLOSE_SQUARE_BRACKET","WIN_KEY","MAC_FF_META","WIN_IME","altKey","ctrlKey","metaKey","navigation","isPointsEq","a1","a2","isAlignPoint","component","LazyRenderBox","shouldComponentUpdate","hiddenClassName","count","PopupInner","onMouseDown","onTouchStart","Popup","stretchChecked","targetWidth","targetHeight","savePopupRef","saveAlignRef","componentDidMount","rootNode","getPopupDomNode","setStretchSize","popupInstance","getMaskTransitionName","maskTransitionName","maskAnimation","getClassName","currentAlignClassName","getPopupElement","getClassNameFromAlign","destroyPopupOnHide","stretch","sizeStyle","minHeight","alignInstance","popupInnerProps","getZIndexStyle","Animate","exclusive","transitionAppear","getAlignTarget","showProp","xVisible","zIndex","getMaskElement","maskElement","mask","maskTransition","getRootDomNode","popupDomNode","_props2","_state2","getTargetElement","ALL_HANDLERS","IS_REACT_16","rcTrigger","onPopupMouseDown","Trigger","defaultPopupVisible","prevPopupVisible","fireEvents","getChildContext","_","afterPopupVisibleChange","currentDocument","clickOutsideHandler","isClickToHide","isContextMenuToShow","onDocumentClick","touchOutsideHandler","contextMenuOutsideHandler1","onContextMenuClose","contextMenuOutsideHandler2","clearOutsideHandler","componentWillUnmount","clearDelayTimer","mouseDownTimeout","getPopupAlign","placementStr","baseAlign","getAlignFromPlacement","setPopupVisible","setPoint","delaySetPopupVisible","delayS","delayTimer","createTwoChains","childPros","isClickToShow","showAction","_props3","hideAction","isMouseEnterToShow","_props4","isMouseLeaveToHide","_props5","isFocusToShow","_props6","isBlurToHide","_props7","forcePopupAlign","childCallback","close","_props8","onContextMenu","onMouseMove","onFocus","onBlur","childrenClassName","portal","handlePortalUpdate","arrayOf","getPopupClassNameFromAlign","popupStyle","popupTransitionName","popupAnimation","focusDelay","blurDelay","maskClosable","onPopupAlign","_this4","onPopupMouseEnter","onPopupMouseLeave","relatedTarget","focusTime","preClickTime","preTouchTime","preTime","nextVisible","_context$rcTrigger","hasPopupMouseDown","_props9","placement","getAlignPopupClassName","_props10","mouseProps","savePopup","popupContainer","appendChild"],"mappings":"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","file":"static/js/1.54b2993c.chunk.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.storeShape = undefined;\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar storeShape = exports.storeShape = _propTypes2.default.shape({\n  subscribe: _propTypes2.default.func.isRequired,\n  setState: _propTypes2.default.func.isRequired,\n  getState: _propTypes2.default.func.isRequired\n});","//\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB); // Test for A's keys different from B.\n\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || ret === void 0 && valueA !== valueB) {\n      return false;\n    }\n  }\n\n  return true;\n};","/**\n * Safe chained function\n *\n * Will only create a new function if needed,\n * otherwise will pass back existing functions or null.\n *\n * @returns {function|null}\n */\nexport default function createChainedFunction() {\n  var args = [].slice.call(arguments, 0);\n\n  if (args.length === 1) {\n    return args[0];\n  }\n\n  return function chainedFunction() {\n    for (var i = 0; i < args.length; i++) {\n      if (args[i] && args[i].apply) {\n        args[i].apply(this, arguments);\n      }\n    }\n  };\n}","export default function contains(root, n) {\n  var node = n;\n\n  while (node) {\n    if (node === root) {\n      return true;\n    }\n\n    node = node.parentNode;\n  }\n\n  return false;\n}","'use strict';\n\nmodule.exports = require('./dom-scroll-into-view');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _PropTypes = require('./PropTypes');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Provider = function (_Component) {\n  _inherits(Provider, _Component);\n\n  function Provider() {\n    _classCallCheck(this, Provider);\n\n    return _possibleConstructorReturn(this, (Provider.__proto__ || Object.getPrototypeOf(Provider)).apply(this, arguments));\n  }\n\n  _createClass(Provider, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        miniStore: this.props.store\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react.Children.only(this.props.children);\n    }\n  }]);\n\n  return Provider;\n}(_react.Component);\n\nProvider.propTypes = {\n  store: _PropTypes.storeShape.isRequired\n};\nProvider.childContextTypes = {\n  miniStore: _PropTypes.storeShape.isRequired\n};\nexports.default = Provider;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nexports.default = connect;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _shallowequal = require('shallowequal');\n\nvar _shallowequal2 = _interopRequireDefault(_shallowequal);\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _reactLifecyclesCompat = require('react-lifecycles-compat');\n\nvar _PropTypes = require('./PropTypes');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n\nfunction isStateless(Component) {\n  return !Component.prototype.render;\n}\n\nvar defaultMapStateToProps = function defaultMapStateToProps() {\n  return {};\n};\n\nfunction connect(mapStateToProps) {\n  var shouldSubscribe = !!mapStateToProps;\n  var finnalMapStateToProps = mapStateToProps || defaultMapStateToProps;\n  return function wrapWithConnect(WrappedComponent) {\n    var Connect = function (_Component) {\n      _inherits(Connect, _Component);\n\n      _createClass(Connect, null, [{\n        key: 'getDerivedStateFromProps',\n        value: function getDerivedStateFromProps(props, prevState) {\n          // using ownProps\n          if (mapStateToProps && mapStateToProps.length === 2 && props !== prevState.props) {\n            return {\n              subscribed: finnalMapStateToProps(prevState.store.getState(), props),\n              props: props\n            };\n          }\n\n          return {\n            props: props\n          };\n        }\n      }]);\n\n      function Connect(props, context) {\n        _classCallCheck(this, Connect);\n\n        var _this = _possibleConstructorReturn(this, (Connect.__proto__ || Object.getPrototypeOf(Connect)).call(this, props, context));\n\n        _this.handleChange = function () {\n          if (!_this.unsubscribe) {\n            return;\n          }\n\n          var nextState = finnalMapStateToProps(_this.store.getState(), _this.props);\n\n          _this.setState({\n            subscribed: nextState\n          });\n        };\n\n        _this.store = context.miniStore;\n        _this.state = {\n          subscribed: finnalMapStateToProps(_this.store.getState(), props),\n          store: _this.store,\n          props: props\n        };\n        return _this;\n      }\n\n      _createClass(Connect, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          this.trySubscribe();\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          this.tryUnsubscribe();\n        }\n      }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !(0, _shallowequal2.default)(this.props, nextProps) || !(0, _shallowequal2.default)(this.state.subscribed, nextState.subscribed);\n        }\n      }, {\n        key: 'trySubscribe',\n        value: function trySubscribe() {\n          if (shouldSubscribe) {\n            this.unsubscribe = this.store.subscribe(this.handleChange);\n            this.handleChange();\n          }\n        }\n      }, {\n        key: 'tryUnsubscribe',\n        value: function tryUnsubscribe() {\n          if (this.unsubscribe) {\n            this.unsubscribe();\n            this.unsubscribe = null;\n          }\n        }\n      }, {\n        key: 'getWrappedInstance',\n        value: function getWrappedInstance() {\n          return this.wrappedInstance;\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          var _this2 = this;\n\n          var props = _extends({}, this.props, this.state.subscribed, {\n            store: this.store\n          });\n\n          if (!isStateless(WrappedComponent)) {\n            props = _extends({}, props, {\n              ref: function ref(c) {\n                return _this2.wrappedInstance = c;\n              }\n            });\n          }\n\n          return _react2.default.createElement(WrappedComponent, props);\n        }\n      }]);\n\n      return Connect;\n    }(_react.Component);\n\n    Connect.displayName = 'Connect(' + getDisplayName(WrappedComponent) + ')';\n    Connect.contextTypes = {\n      miniStore: _PropTypes.storeShape.isRequired\n    };\n    (0, _reactLifecyclesCompat.polyfill)(Connect);\n    return (0, _hoistNonReactStatics2.default)(Connect, WrappedComponent);\n  };\n}","'use strict';\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = getPrototypeOf && getPrototypeOf(Object);\n\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!REACT_STATICS[key] && !KNOWN_STATICS[key] && (!blacklist || !blacklist[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n\n    return targetComponent;\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports.default = create;\n\nfunction create(initialState) {\n  var state = initialState;\n  var listeners = [];\n\n  function setState(partial) {\n    state = _extends({}, state, partial);\n\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i]();\n    }\n  }\n\n  function getState() {\n    return state;\n  }\n\n  function subscribe(listener) {\n    listeners.push(listener);\n    return function unsubscribe() {\n      var index = listeners.indexOf(listener);\n      listeners.splice(index, 1);\n    };\n  }\n\n  return {\n    setState: setState,\n    getState: getState,\n    subscribe: subscribe\n  };\n}","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\n\n/* eslint-disable require-jsdoc, valid-jsdoc */\nvar MapShim = function () {\n  if (typeof Map !== 'undefined') {\n    return Map;\n  }\n  /**\r\n   * Returns index in provided array that matches the specified key.\r\n   *\r\n   * @param {Array<Array>} arr\r\n   * @param {*} key\r\n   * @returns {number}\r\n   */\n\n\n  function getIndex(arr, key) {\n    var result = -1;\n    arr.some(function (entry, index) {\n      if (entry[0] === key) {\n        result = index;\n        return true;\n      }\n\n      return false;\n    });\n    return result;\n  }\n\n  return (\n    /** @class */\n    function () {\n      function class_1() {\n        this.__entries__ = [];\n      }\n\n      Object.defineProperty(class_1.prototype, \"size\", {\n        /**\r\n         * @returns {boolean}\r\n         */\n        get: function get() {\n          return this.__entries__.length;\n        },\n        enumerable: true,\n        configurable: true\n      });\n      /**\r\n       * @param {*} key\r\n       * @returns {*}\r\n       */\n\n      class_1.prototype.get = function (key) {\n        var index = getIndex(this.__entries__, key);\n        var entry = this.__entries__[index];\n        return entry && entry[1];\n      };\n      /**\r\n       * @param {*} key\r\n       * @param {*} value\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.set = function (key, value) {\n        var index = getIndex(this.__entries__, key);\n\n        if (~index) {\n          this.__entries__[index][1] = value;\n        } else {\n          this.__entries__.push([key, value]);\n        }\n      };\n      /**\r\n       * @param {*} key\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.delete = function (key) {\n        var entries = this.__entries__;\n        var index = getIndex(entries, key);\n\n        if (~index) {\n          entries.splice(index, 1);\n        }\n      };\n      /**\r\n       * @param {*} key\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.has = function (key) {\n        return !!~getIndex(this.__entries__, key);\n      };\n      /**\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.clear = function () {\n        this.__entries__.splice(0);\n      };\n      /**\r\n       * @param {Function} callback\r\n       * @param {*} [ctx=null]\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.forEach = function (callback, ctx) {\n        if (ctx === void 0) {\n          ctx = null;\n        }\n\n        for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\n          var entry = _a[_i];\n          callback.call(ctx, entry[1], entry[0]);\n        }\n      };\n\n      return class_1;\n    }()\n  );\n}();\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\n\n\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document; // Returns global object of a current environment.\n\nvar global$1 = function () {\n  if (typeof global !== 'undefined' && global.Math === Math) {\n    return global;\n  }\n\n  if (typeof self !== 'undefined' && self.Math === Math) {\n    return self;\n  }\n\n  if (typeof window !== 'undefined' && window.Math === Math) {\n    return window;\n  } // eslint-disable-next-line no-new-func\n\n\n  return Function('return this')();\n}();\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\n\n\nvar requestAnimationFrame$1 = function () {\n  if (typeof requestAnimationFrame === 'function') {\n    // It's required to use a bounded function because IE sometimes throws\n    // an \"Invalid calling object\" error if rAF is invoked without the global\n    // object on the left hand side.\n    return requestAnimationFrame.bind(global$1);\n  }\n\n  return function (callback) {\n    return setTimeout(function () {\n      return callback(Date.now());\n    }, 1000 / 60);\n  };\n}(); // Defines minimum timeout before adding a trailing call.\n\n\nvar trailingTimeout = 2;\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\n\nfunction throttle(callback, delay) {\n  var leadingCall = false,\n      trailingCall = false,\n      lastCallTime = 0;\n  /**\r\n   * Invokes the original callback function and schedules new invocation if\r\n   * the \"proxy\" was called during current request.\r\n   *\r\n   * @returns {void}\r\n   */\n\n  function resolvePending() {\n    if (leadingCall) {\n      leadingCall = false;\n      callback();\n    }\n\n    if (trailingCall) {\n      proxy();\n    }\n  }\n  /**\r\n   * Callback invoked after the specified delay. It will further postpone\r\n   * invocation of the original function delegating it to the\r\n   * requestAnimationFrame.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  function timeoutCallback() {\n    requestAnimationFrame$1(resolvePending);\n  }\n  /**\r\n   * Schedules invocation of the original function.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  function proxy() {\n    var timeStamp = Date.now();\n\n    if (leadingCall) {\n      // Reject immediately following calls.\n      if (timeStamp - lastCallTime < trailingTimeout) {\n        return;\n      } // Schedule new call to be in invoked when the pending one is resolved.\n      // This is important for \"transitions\" which never actually start\n      // immediately so there is a chance that we might miss one if change\n      // happens amids the pending invocation.\n\n\n      trailingCall = true;\n    } else {\n      leadingCall = true;\n      trailingCall = false;\n      setTimeout(timeoutCallback, delay);\n    }\n\n    lastCallTime = timeStamp;\n  }\n\n  return proxy;\n} // Minimum delay before invoking the update of observers.\n\n\nvar REFRESH_DELAY = 20; // A list of substrings of CSS properties used to find transition events that\n// might affect dimensions of observed elements.\n\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight']; // Check if MutationObserver is available.\n\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\n\nvar ResizeObserverController =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserverController.\r\n   *\r\n   * @private\r\n   */\n  function ResizeObserverController() {\n    /**\r\n     * Indicates whether DOM listeners have been added.\r\n     *\r\n     * @private {boolean}\r\n     */\n    this.connected_ = false;\n    /**\r\n     * Tells that controller has subscribed for Mutation Events.\r\n     *\r\n     * @private {boolean}\r\n     */\n\n    this.mutationEventsAdded_ = false;\n    /**\r\n     * Keeps reference to the instance of MutationObserver.\r\n     *\r\n     * @private {MutationObserver}\r\n     */\n\n    this.mutationsObserver_ = null;\n    /**\r\n     * A list of connected observers.\r\n     *\r\n     * @private {Array<ResizeObserverSPI>}\r\n     */\n\n    this.observers_ = [];\n    this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\n    this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\n  }\n  /**\r\n   * Adds observer to observers list.\r\n   *\r\n   * @param {ResizeObserverSPI} observer - Observer to be added.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.addObserver = function (observer) {\n    if (!~this.observers_.indexOf(observer)) {\n      this.observers_.push(observer);\n    } // Add listeners if they haven't been added yet.\n\n\n    if (!this.connected_) {\n      this.connect_();\n    }\n  };\n  /**\r\n   * Removes observer from observers list.\r\n   *\r\n   * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.removeObserver = function (observer) {\n    var observers = this.observers_;\n    var index = observers.indexOf(observer); // Remove observer if it's present in registry.\n\n    if (~index) {\n      observers.splice(index, 1);\n    } // Remove listeners if controller has no connected observers.\n\n\n    if (!observers.length && this.connected_) {\n      this.disconnect_();\n    }\n  };\n  /**\r\n   * Invokes the update of observers. It will continue running updates insofar\r\n   * it detects changes.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.refresh = function () {\n    var changesDetected = this.updateObservers_(); // Continue running updates if changes have been detected as there might\n    // be future ones caused by CSS transitions.\n\n    if (changesDetected) {\n      this.refresh();\n    }\n  };\n  /**\r\n   * Updates every observer from observers list and notifies them of queued\r\n   * entries.\r\n   *\r\n   * @private\r\n   * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n   *      dimensions of it's elements.\r\n   */\n\n\n  ResizeObserverController.prototype.updateObservers_ = function () {\n    // Collect observers that have active observations.\n    var activeObservers = this.observers_.filter(function (observer) {\n      return observer.gatherActive(), observer.hasActive();\n    }); // Deliver notifications in a separate cycle in order to avoid any\n    // collisions between observers, e.g. when multiple instances of\n    // ResizeObserver are tracking the same element and the callback of one\n    // of them changes content dimensions of the observed target. Sometimes\n    // this may result in notifications being blocked for the rest of observers.\n\n    activeObservers.forEach(function (observer) {\n      return observer.broadcastActive();\n    });\n    return activeObservers.length > 0;\n  };\n  /**\r\n   * Initializes DOM listeners.\r\n   *\r\n   * @private\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.connect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already added.\n    if (!isBrowser || this.connected_) {\n      return;\n    } // Subscription to the \"Transitionend\" event is used as a workaround for\n    // delayed transitions. This way it's possible to capture at least the\n    // final state of an element.\n\n\n    document.addEventListener('transitionend', this.onTransitionEnd_);\n    window.addEventListener('resize', this.refresh);\n\n    if (mutationObserverSupported) {\n      this.mutationsObserver_ = new MutationObserver(this.refresh);\n      this.mutationsObserver_.observe(document, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    } else {\n      document.addEventListener('DOMSubtreeModified', this.refresh);\n      this.mutationEventsAdded_ = true;\n    }\n\n    this.connected_ = true;\n  };\n  /**\r\n   * Removes DOM listeners.\r\n   *\r\n   * @private\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.disconnect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already removed.\n    if (!isBrowser || !this.connected_) {\n      return;\n    }\n\n    document.removeEventListener('transitionend', this.onTransitionEnd_);\n    window.removeEventListener('resize', this.refresh);\n\n    if (this.mutationsObserver_) {\n      this.mutationsObserver_.disconnect();\n    }\n\n    if (this.mutationEventsAdded_) {\n      document.removeEventListener('DOMSubtreeModified', this.refresh);\n    }\n\n    this.mutationsObserver_ = null;\n    this.mutationEventsAdded_ = false;\n    this.connected_ = false;\n  };\n  /**\r\n   * \"Transitionend\" event handler.\r\n   *\r\n   * @private\r\n   * @param {TransitionEvent} event\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\n    var _b = _a.propertyName,\n        propertyName = _b === void 0 ? '' : _b; // Detect whether transition may affect dimensions of an element.\n\n    var isReflowProperty = transitionKeys.some(function (key) {\n      return !!~propertyName.indexOf(key);\n    });\n\n    if (isReflowProperty) {\n      this.refresh();\n    }\n  };\n  /**\r\n   * Returns instance of the ResizeObserverController.\r\n   *\r\n   * @returns {ResizeObserverController}\r\n   */\n\n\n  ResizeObserverController.getInstance = function () {\n    if (!this.instance_) {\n      this.instance_ = new ResizeObserverController();\n    }\n\n    return this.instance_;\n  };\n  /**\r\n   * Holds reference to the controller's instance.\r\n   *\r\n   * @private {ResizeObserverController}\r\n   */\n\n\n  ResizeObserverController.instance_ = null;\n  return ResizeObserverController;\n}();\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\n\n\nvar defineConfigurable = function defineConfigurable(target, props) {\n  for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n    var key = _a[_i];\n    Object.defineProperty(target, key, {\n      value: props[key],\n      enumerable: false,\n      writable: false,\n      configurable: true\n    });\n  }\n\n  return target;\n};\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\n\n\nvar getWindowOf = function getWindowOf(target) {\n  // Assume that the element is an instance of Node, which means that it\n  // has the \"ownerDocument\" property from which we can retrieve a\n  // corresponding global object.\n  var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView; // Return the local global object if it's not possible extract one from\n  // provided element.\n\n  return ownerGlobal || global$1;\n}; // Placeholder of an empty content rectangle.\n\n\nvar emptyRect = createRectInit(0, 0, 0, 0);\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\n\nfunction toFloat(value) {\n  return parseFloat(value) || 0;\n}\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\n\n\nfunction getBordersSize(styles) {\n  var positions = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    positions[_i - 1] = arguments[_i];\n  }\n\n  return positions.reduce(function (size, position) {\n    var value = styles['border-' + position + '-width'];\n    return size + toFloat(value);\n  }, 0);\n}\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\n\n\nfunction getPaddings(styles) {\n  var positions = ['top', 'right', 'bottom', 'left'];\n  var paddings = {};\n\n  for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\n    var position = positions_1[_i];\n    var value = styles['padding-' + position];\n    paddings[position] = toFloat(value);\n  }\n\n  return paddings;\n}\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getSVGContentRect(target) {\n  var bbox = target.getBBox();\n  return createRectInit(0, 0, bbox.width, bbox.height);\n}\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getHTMLElementContentRect(target) {\n  // Client width & height properties can't be\n  // used exclusively as they provide rounded values.\n  var clientWidth = target.clientWidth,\n      clientHeight = target.clientHeight; // By this condition we can catch all non-replaced inline, hidden and\n  // detached elements. Though elements with width & height properties less\n  // than 0.5 will be discarded as well.\n  //\n  // Without it we would need to implement separate methods for each of\n  // those cases and it's not possible to perform a precise and performance\n  // effective test for hidden elements. E.g. even jQuery's ':visible' filter\n  // gives wrong results for elements with width & height less than 0.5.\n\n  if (!clientWidth && !clientHeight) {\n    return emptyRect;\n  }\n\n  var styles = getWindowOf(target).getComputedStyle(target);\n  var paddings = getPaddings(styles);\n  var horizPad = paddings.left + paddings.right;\n  var vertPad = paddings.top + paddings.bottom; // Computed styles of width & height are being used because they are the\n  // only dimensions available to JS that contain non-rounded values. It could\n  // be possible to utilize the getBoundingClientRect if only it's data wasn't\n  // affected by CSS transformations let alone paddings, borders and scroll bars.\n\n  var width = toFloat(styles.width),\n      height = toFloat(styles.height); // Width & height include paddings and borders when the 'border-box' box\n  // model is applied (except for IE).\n\n  if (styles.boxSizing === 'border-box') {\n    // Following conditions are required to handle Internet Explorer which\n    // doesn't include paddings and borders to computed CSS dimensions.\n    //\n    // We can say that if CSS dimensions + paddings are equal to the \"client\"\n    // properties then it's either IE, and thus we don't need to subtract\n    // anything, or an element merely doesn't have paddings/borders styles.\n    if (Math.round(width + horizPad) !== clientWidth) {\n      width -= getBordersSize(styles, 'left', 'right') + horizPad;\n    }\n\n    if (Math.round(height + vertPad) !== clientHeight) {\n      height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\n    }\n  } // Following steps can't be applied to the document's root element as its\n  // client[Width/Height] properties represent viewport area of the window.\n  // Besides, it's as well not necessary as the <html> itself neither has\n  // rendered scroll bars nor it can be clipped.\n\n\n  if (!isDocumentElement(target)) {\n    // In some browsers (only in Firefox, actually) CSS width & height\n    // include scroll bars size which can be removed at this step as scroll\n    // bars are the only difference between rounded dimensions + paddings\n    // and \"client\" properties, though that is not always true in Chrome.\n    var vertScrollbar = Math.round(width + horizPad) - clientWidth;\n    var horizScrollbar = Math.round(height + vertPad) - clientHeight; // Chrome has a rather weird rounding of \"client\" properties.\n    // E.g. for an element with content width of 314.2px it sometimes gives\n    // the client width of 315px and for the width of 314.7px it may give\n    // 314px. And it doesn't happen all the time. So just ignore this delta\n    // as a non-relevant.\n\n    if (Math.abs(vertScrollbar) !== 1) {\n      width -= vertScrollbar;\n    }\n\n    if (Math.abs(horizScrollbar) !== 1) {\n      height -= horizScrollbar;\n    }\n  }\n\n  return createRectInit(paddings.left, paddings.top, width, height);\n}\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\n\n\nvar isSVGGraphicsElement = function () {\n  // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\n  // interface.\n  if (typeof SVGGraphicsElement !== 'undefined') {\n    return function (target) {\n      return target instanceof getWindowOf(target).SVGGraphicsElement;\n    };\n  } // If it's so, then check that element is at least an instance of the\n  // SVGElement and that it has the \"getBBox\" method.\n  // eslint-disable-next-line no-extra-parens\n\n\n  return function (target) {\n    return target instanceof getWindowOf(target).SVGElement && typeof target.getBBox === 'function';\n  };\n}();\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\n\n\nfunction isDocumentElement(target) {\n  return target === getWindowOf(target).document.documentElement;\n}\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getContentRect(target) {\n  if (!isBrowser) {\n    return emptyRect;\n  }\n\n  if (isSVGGraphicsElement(target)) {\n    return getSVGContentRect(target);\n  }\n\n  return getHTMLElementContentRect(target);\n}\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\n\n\nfunction createReadOnlyRect(_a) {\n  var x = _a.x,\n      y = _a.y,\n      width = _a.width,\n      height = _a.height; // If DOMRectReadOnly is available use it as a prototype for the rectangle.\n\n  var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\n  var rect = Object.create(Constr.prototype); // Rectangle's properties are not writable and non-enumerable.\n\n  defineConfigurable(rect, {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: height + y,\n    left: x\n  });\n  return rect;\n}\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction createRectInit(x, y, width, height) {\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  };\n}\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\n\n\nvar ResizeObservation =\n/** @class */\nfunction () {\n  /**\r\n   * Creates an instance of ResizeObservation.\r\n   *\r\n   * @param {Element} target - Element to be observed.\r\n   */\n  function ResizeObservation(target) {\n    /**\r\n     * Broadcasted width of content rectangle.\r\n     *\r\n     * @type {number}\r\n     */\n    this.broadcastWidth = 0;\n    /**\r\n     * Broadcasted height of content rectangle.\r\n     *\r\n     * @type {number}\r\n     */\n\n    this.broadcastHeight = 0;\n    /**\r\n     * Reference to the last observed content rectangle.\r\n     *\r\n     * @private {DOMRectInit}\r\n     */\n\n    this.contentRect_ = createRectInit(0, 0, 0, 0);\n    this.target = target;\n  }\n  /**\r\n   * Updates content rectangle and tells whether it's width or height properties\r\n   * have changed since the last broadcast.\r\n   *\r\n   * @returns {boolean}\r\n   */\n\n\n  ResizeObservation.prototype.isActive = function () {\n    var rect = getContentRect(this.target);\n    this.contentRect_ = rect;\n    return rect.width !== this.broadcastWidth || rect.height !== this.broadcastHeight;\n  };\n  /**\r\n   * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n   * from the corresponding properties of the last observed content rectangle.\r\n   *\r\n   * @returns {DOMRectInit} Last observed content rectangle.\r\n   */\n\n\n  ResizeObservation.prototype.broadcastRect = function () {\n    var rect = this.contentRect_;\n    this.broadcastWidth = rect.width;\n    this.broadcastHeight = rect.height;\n    return rect;\n  };\n\n  return ResizeObservation;\n}();\n\nvar ResizeObserverEntry =\n/** @class */\nfunction () {\n  /**\r\n   * Creates an instance of ResizeObserverEntry.\r\n   *\r\n   * @param {Element} target - Element that is being observed.\r\n   * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n   */\n  function ResizeObserverEntry(target, rectInit) {\n    var contentRect = createReadOnlyRect(rectInit); // According to the specification following properties are not writable\n    // and are also not enumerable in the native implementation.\n    //\n    // Property accessors are not being used as they'd require to define a\n    // private WeakMap storage which may cause memory leaks in browsers that\n    // don't support this type of collections.\n\n    defineConfigurable(this, {\n      target: target,\n      contentRect: contentRect\n    });\n  }\n\n  return ResizeObserverEntry;\n}();\n\nvar ResizeObserverSPI =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserver.\r\n   *\r\n   * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n   *      when one of the observed elements changes it's content dimensions.\r\n   * @param {ResizeObserverController} controller - Controller instance which\r\n   *      is responsible for the updates of observer.\r\n   * @param {ResizeObserver} callbackCtx - Reference to the public\r\n   *      ResizeObserver instance which will be passed to callback function.\r\n   */\n  function ResizeObserverSPI(callback, controller, callbackCtx) {\n    /**\r\n     * Collection of resize observations that have detected changes in dimensions\r\n     * of elements.\r\n     *\r\n     * @private {Array<ResizeObservation>}\r\n     */\n    this.activeObservations_ = [];\n    /**\r\n     * Registry of the ResizeObservation instances.\r\n     *\r\n     * @private {Map<Element, ResizeObservation>}\r\n     */\n\n    this.observations_ = new MapShim();\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('The callback provided as parameter 1 is not a function.');\n    }\n\n    this.callback_ = callback;\n    this.controller_ = controller;\n    this.callbackCtx_ = callbackCtx;\n  }\n  /**\r\n   * Starts observing provided element.\r\n   *\r\n   * @param {Element} target - Element to be observed.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.observe = function (target) {\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    } // Do nothing if current environment doesn't have the Element interface.\n\n\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n      return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n      throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_; // Do nothing if element is already being observed.\n\n    if (observations.has(target)) {\n      return;\n    }\n\n    observations.set(target, new ResizeObservation(target));\n    this.controller_.addObserver(this); // Force the update of observations.\n\n    this.controller_.refresh();\n  };\n  /**\r\n   * Stops observing provided element.\r\n   *\r\n   * @param {Element} target - Element to stop observing.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.unobserve = function (target) {\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    } // Do nothing if current environment doesn't have the Element interface.\n\n\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n      return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n      throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_; // Do nothing if element is not being observed.\n\n    if (!observations.has(target)) {\n      return;\n    }\n\n    observations.delete(target);\n\n    if (!observations.size) {\n      this.controller_.removeObserver(this);\n    }\n  };\n  /**\r\n   * Stops observing all elements.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.disconnect = function () {\n    this.clearActive();\n    this.observations_.clear();\n    this.controller_.removeObserver(this);\n  };\n  /**\r\n   * Collects observation instances the associated element of which has changed\r\n   * it's content rectangle.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.gatherActive = function () {\n    var _this = this;\n\n    this.clearActive();\n    this.observations_.forEach(function (observation) {\n      if (observation.isActive()) {\n        _this.activeObservations_.push(observation);\n      }\n    });\n  };\n  /**\r\n   * Invokes initial callback function with a list of ResizeObserverEntry\r\n   * instances collected from active resize observations.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.broadcastActive = function () {\n    // Do nothing if observer doesn't have active observations.\n    if (!this.hasActive()) {\n      return;\n    }\n\n    var ctx = this.callbackCtx_; // Create ResizeObserverEntry instance for every active observation.\n\n    var entries = this.activeObservations_.map(function (observation) {\n      return new ResizeObserverEntry(observation.target, observation.broadcastRect());\n    });\n    this.callback_.call(ctx, entries, ctx);\n    this.clearActive();\n  };\n  /**\r\n   * Clears the collection of active observations.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.clearActive = function () {\n    this.activeObservations_.splice(0);\n  };\n  /**\r\n   * Tells whether observer has active observations.\r\n   *\r\n   * @returns {boolean}\r\n   */\n\n\n  ResizeObserverSPI.prototype.hasActive = function () {\n    return this.activeObservations_.length > 0;\n  };\n\n  return ResizeObserverSPI;\n}(); // Registry of internal observers. If WeakMap is not available use current shim\n// for the Map collection as it has all required methods and because WeakMap\n// can't be fully polyfilled anyway.\n\n\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\n\nvar ResizeObserver =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserver.\r\n   *\r\n   * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n   *      dimensions of the observed elements change.\r\n   */\n  function ResizeObserver(callback) {\n    if (!(this instanceof ResizeObserver)) {\n      throw new TypeError('Cannot call a class as a function.');\n    }\n\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    var controller = ResizeObserverController.getInstance();\n    var observer = new ResizeObserverSPI(callback, controller, this);\n    observers.set(this, observer);\n  }\n\n  return ResizeObserver;\n}(); // Expose public methods of ResizeObserver.\n\n\n['observe', 'unobserve', 'disconnect'].forEach(function (method) {\n  ResizeObserver.prototype[method] = function () {\n    var _a;\n\n    return (_a = observers.get(this))[method].apply(_a, arguments);\n  };\n});\n\nvar index = function () {\n  // Export existing implementation if available.\n  if (typeof global$1.ResizeObserver !== 'undefined') {\n    return global$1.ResizeObserver;\n  }\n\n  return ResizeObserver;\n}();\n\nexport default index;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nvar ContainerRender =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ContainerRender, _React$Component);\n\n  function ContainerRender() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ContainerRender);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ContainerRender)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.removeContainer = function () {\n      if (_this.container) {\n        ReactDOM.unmountComponentAtNode(_this.container);\n\n        _this.container.parentNode.removeChild(_this.container);\n\n        _this.container = null;\n      }\n    };\n\n    _this.renderComponent = function (props, ready) {\n      var _this$props = _this.props,\n          visible = _this$props.visible,\n          getComponent = _this$props.getComponent,\n          forceRender = _this$props.forceRender,\n          getContainer = _this$props.getContainer,\n          parent = _this$props.parent;\n\n      if (visible || parent._component || forceRender) {\n        if (!_this.container) {\n          _this.container = getContainer();\n        }\n\n        ReactDOM.unstable_renderSubtreeIntoContainer(parent, getComponent(props), _this.container, function callback() {\n          if (ready) {\n            ready.call(this);\n          }\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(ContainerRender, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.autoMount) {\n        this.renderComponent();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.autoMount) {\n        this.renderComponent();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.props.autoDestroy) {\n        this.removeContainer();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.children({\n        renderComponent: this.renderComponent,\n        removeContainer: this.removeContainer\n      });\n    }\n  }]);\n\n  return ContainerRender;\n}(React.Component);\n\nContainerRender.propTypes = {\n  autoMount: PropTypes.bool,\n  autoDestroy: PropTypes.bool,\n  visible: PropTypes.bool,\n  forceRender: PropTypes.bool,\n  parent: PropTypes.any,\n  getComponent: PropTypes.func.isRequired,\n  getContainer: PropTypes.func.isRequired,\n  children: PropTypes.func.isRequired\n};\nContainerRender.defaultProps = {\n  autoMount: true,\n  autoDestroy: true,\n  forceRender: false\n};\nexport { ContainerRender as default };","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nvar Portal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Portal).apply(this, arguments));\n  }\n\n  _createClass(Portal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.createContainer();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var didUpdate = this.props.didUpdate;\n\n      if (didUpdate) {\n        didUpdate(prevProps);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeContainer();\n    }\n  }, {\n    key: \"createContainer\",\n    value: function createContainer() {\n      this._container = this.props.getContainer();\n      this.forceUpdate();\n    }\n  }, {\n    key: \"removeContainer\",\n    value: function removeContainer() {\n      if (this._container) {\n        this._container.parentNode.removeChild(this._container);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this._container) {\n        return ReactDOM.createPortal(this.props.children, this._container);\n      }\n\n      return null;\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nPortal.propTypes = {\n  getContainer: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n  didUpdate: PropTypes.func\n};\nexport { Portal as default };","var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement); // ================= Transition =================\n// Event wrapper. Copy from react source code\n\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes['Webkit' + styleProp] = 'webkit' + eventName;\n  prefixes['Moz' + styleProp] = 'moz' + eventName;\n  prefixes['ms' + styleProp] = 'MS' + eventName;\n  prefixes['O' + styleProp] = 'o' + eventName.toLowerCase();\n  return prefixes;\n}\n\nexport function getVendorPrefixes(domSupport, win) {\n  var prefixes = {\n    animationend: makePrefixMap('Animation', 'AnimationEnd'),\n    transitionend: makePrefixMap('Transition', 'TransitionEnd')\n  };\n\n  if (domSupport) {\n    if (!('AnimationEvent' in win)) {\n      delete prefixes.animationend.animation;\n    }\n\n    if (!('TransitionEvent' in win)) {\n      delete prefixes.transitionend.transition;\n    }\n  }\n\n  return prefixes;\n}\nvar vendorPrefixes = getVendorPrefixes(canUseDOM, typeof window !== 'undefined' ? window : {});\nvar style = {};\n\nif (canUseDOM) {\n  style = document.createElement('div').style;\n}\n\nvar prefixedEventNames = {};\nexport function getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) {\n    return prefixedEventNames[eventName];\n  }\n\n  var prefixMap = vendorPrefixes[eventName];\n\n  if (prefixMap) {\n    var stylePropList = Object.keys(prefixMap);\n    var len = stylePropList.length;\n\n    for (var i = 0; i < len; i += 1) {\n      var styleProp = stylePropList[i];\n\n      if (Object.prototype.hasOwnProperty.call(prefixMap, styleProp) && styleProp in style) {\n        prefixedEventNames[eventName] = prefixMap[styleProp];\n        return prefixedEventNames[eventName];\n      }\n    }\n  }\n\n  return '';\n}\nexport var animationEndName = getVendorPrefixedEventName('animationend');\nexport var transitionEndName = getVendorPrefixedEventName('transitionend');\nexport var supportTransition = !!(animationEndName && transitionEndName);\nexport function getTransitionName(transitionName, transitionType) {\n  if (!transitionName) return null;\n\n  if (typeof transitionName === 'object') {\n    var type = transitionType.replace(/-\\w/g, function (match) {\n      return match[1].toUpperCase();\n    });\n    return transitionName[type];\n  }\n\n  return transitionName + '-' + transitionType;\n}","// mutationobserver-shim v0.3.2 (github.com/megawac/MutationObserver.js)\n// Authors: Graeme Yeates (github.com/megawac) \nwindow.MutationObserver = window.MutationObserver || function (w) {\n  function v(a) {\n    this.i = [];\n    this.m = a;\n  }\n\n  function I(a) {\n    (function c() {\n      var d = a.takeRecords();\n      d.length && a.m(d, a);\n      a.h = setTimeout(c, v._period);\n    })();\n  }\n\n  function p(a) {\n    var b = {\n      type: null,\n      target: null,\n      addedNodes: [],\n      removedNodes: [],\n      previousSibling: null,\n      nextSibling: null,\n      attributeName: null,\n      attributeNamespace: null,\n      oldValue: null\n    },\n        c;\n\n    for (c in a) {\n      b[c] !== w && a[c] !== w && (b[c] = a[c]);\n    }\n\n    return b;\n  }\n\n  function J(a, b) {\n    var c = C(a, b);\n    return function (d) {\n      var f = d.length,\n          n;\n      b.a && 3 === a.nodeType && a.nodeValue !== c.a && d.push(new p({\n        type: \"characterData\",\n        target: a,\n        oldValue: c.a\n      }));\n      b.b && c.b && A(d, a, c.b, b.f);\n      if (b.c || b.g) n = K(d, a, c, b);\n      if (n || d.length !== f) c = C(a, b);\n    };\n  }\n\n  function L(a, b) {\n    return b.value;\n  }\n\n  function M(a, b) {\n    return \"style\" !== b.name ? b.value : a.style.cssText;\n  }\n\n  function A(a, b, c, d) {\n    for (var f = {}, n = b.attributes, k, g, x = n.length; x--;) {\n      k = n[x], g = k.name, d && d[g] === w || (D(b, k) !== c[g] && a.push(p({\n        type: \"attributes\",\n        target: b,\n        attributeName: g,\n        oldValue: c[g],\n        attributeNamespace: k.namespaceURI\n      })), f[g] = !0);\n    }\n\n    for (g in c) {\n      f[g] || a.push(p({\n        target: b,\n        type: \"attributes\",\n        attributeName: g,\n        oldValue: c[g]\n      }));\n    }\n  }\n\n  function K(a, b, c, d) {\n    function f(b, c, f, k, y) {\n      var g = b.length - 1;\n      y = -~((g - y) / 2);\n\n      for (var h, l, e; e = b.pop();) {\n        h = f[e.j], l = k[e.l], d.c && y && Math.abs(e.j - e.l) >= g && (a.push(p({\n          type: \"childList\",\n          target: c,\n          addedNodes: [h],\n          removedNodes: [h],\n          nextSibling: h.nextSibling,\n          previousSibling: h.previousSibling\n        })), y--), d.b && l.b && A(a, h, l.b, d.f), d.a && 3 === h.nodeType && h.nodeValue !== l.a && a.push(p({\n          type: \"characterData\",\n          target: h,\n          oldValue: l.a\n        })), d.g && n(h, l);\n      }\n    }\n\n    function n(b, c) {\n      for (var g = b.childNodes, q = c.c, x = g.length, v = q ? q.length : 0, h, l, e, m, t, z = 0, u = 0, r = 0; u < x || r < v;) {\n        m = g[u], t = (e = q[r]) && e.node, m === t ? (d.b && e.b && A(a, m, e.b, d.f), d.a && e.a !== w && m.nodeValue !== e.a && a.push(p({\n          type: \"characterData\",\n          target: m,\n          oldValue: e.a\n        })), l && f(l, b, g, q, z), d.g && (m.childNodes.length || e.c && e.c.length) && n(m, e), u++, r++) : (k = !0, h || (h = {}, l = []), m && (h[e = E(m)] || (h[e] = !0, -1 === (e = F(q, m, r, \"node\")) ? d.c && (a.push(p({\n          type: \"childList\",\n          target: b,\n          addedNodes: [m],\n          nextSibling: m.nextSibling,\n          previousSibling: m.previousSibling\n        })), z++) : l.push({\n          j: u,\n          l: e\n        })), u++), t && t !== g[u] && (h[e = E(t)] || (h[e] = !0, -1 === (e = F(g, t, u)) ? d.c && (a.push(p({\n          type: \"childList\",\n          target: c.node,\n          removedNodes: [t],\n          nextSibling: q[r + 1],\n          previousSibling: q[r - 1]\n        })), z--) : l.push({\n          j: e,\n          l: r\n        })), r++));\n      }\n\n      l && f(l, b, g, q, z);\n    }\n\n    var k;\n    n(b, c);\n    return k;\n  }\n\n  function C(a, b) {\n    var c = !0;\n    return function f(a) {\n      var k = {\n        node: a\n      };\n      !b.a || 3 !== a.nodeType && 8 !== a.nodeType ? (b.b && c && 1 === a.nodeType && (k.b = G(a.attributes, function (c, f) {\n        if (!b.f || b.f[f.name]) c[f.name] = D(a, f);\n        return c;\n      })), c && (b.c || b.a || b.b && b.g) && (k.c = N(a.childNodes, f)), c = b.g) : k.a = a.nodeValue;\n      return k;\n    }(a);\n  }\n\n  function E(a) {\n    try {\n      return a.id || (a.mo_id = a.mo_id || H++);\n    } catch (b) {\n      try {\n        return a.nodeValue;\n      } catch (c) {\n        return H++;\n      }\n    }\n  }\n\n  function N(a, b) {\n    for (var c = [], d = 0; d < a.length; d++) {\n      c[d] = b(a[d], d, a);\n    }\n\n    return c;\n  }\n\n  function G(a, b) {\n    for (var c = {}, d = 0; d < a.length; d++) {\n      c = b(c, a[d], d, a);\n    }\n\n    return c;\n  }\n\n  function F(a, b, c, d) {\n    for (; c < a.length; c++) {\n      if ((d ? a[c][d] : a[c]) === b) return c;\n    }\n\n    return -1;\n  }\n\n  v._period = 30;\n  v.prototype = {\n    observe: function observe(a, b) {\n      for (var c = {\n        b: !!(b.attributes || b.attributeFilter || b.attributeOldValue),\n        c: !!b.childList,\n        g: !!b.subtree,\n        a: !(!b.characterData && !b.characterDataOldValue)\n      }, d = this.i, f = 0; f < d.length; f++) {\n        d[f].s === a && d.splice(f, 1);\n      }\n\n      b.attributeFilter && (c.f = G(b.attributeFilter, function (a, b) {\n        a[b] = !0;\n        return a;\n      }));\n      d.push({\n        s: a,\n        o: J(a, c)\n      });\n      this.h || I(this);\n    },\n    takeRecords: function takeRecords() {\n      for (var a = [], b = this.i, c = 0; c < b.length; c++) {\n        b[c].o(a);\n      }\n\n      return a;\n    },\n    disconnect: function disconnect() {\n      this.i = [];\n      clearTimeout(this.h);\n      this.h = null;\n    }\n  };\n  var B = document.createElement(\"i\");\n  B.style.top = 0;\n  var D = (B = \"null\" != B.attributes.style.value) ? L : M,\n      H = 1;\n  return v;\n}(void 0);","'use strict';\n\nvar util = require('./util');\n\nfunction scrollIntoView(elem, container, config) {\n  config = config || {}; // document 归一化到 window\n\n  if (container.nodeType === 9) {\n    container = util.getWindow(container);\n  }\n\n  var allowHorizontalScroll = config.allowHorizontalScroll;\n  var onlyScrollIfNeeded = config.onlyScrollIfNeeded;\n  var alignWithTop = config.alignWithTop;\n  var alignWithLeft = config.alignWithLeft;\n  var offsetTop = config.offsetTop || 0;\n  var offsetLeft = config.offsetLeft || 0;\n  var offsetBottom = config.offsetBottom || 0;\n  var offsetRight = config.offsetRight || 0;\n  allowHorizontalScroll = allowHorizontalScroll === undefined ? true : allowHorizontalScroll;\n  var isWin = util.isWindow(container);\n  var elemOffset = util.offset(elem);\n  var eh = util.outerHeight(elem);\n  var ew = util.outerWidth(elem);\n  var containerOffset = undefined;\n  var ch = undefined;\n  var cw = undefined;\n  var containerScroll = undefined;\n  var diffTop = undefined;\n  var diffBottom = undefined;\n  var win = undefined;\n  var winScroll = undefined;\n  var ww = undefined;\n  var wh = undefined;\n\n  if (isWin) {\n    win = container;\n    wh = util.height(win);\n    ww = util.width(win);\n    winScroll = {\n      left: util.scrollLeft(win),\n      top: util.scrollTop(win)\n    }; // elem 相对 container 可视视窗的距离\n\n    diffTop = {\n      left: elemOffset.left - winScroll.left - offsetLeft,\n      top: elemOffset.top - winScroll.top - offsetTop\n    };\n    diffBottom = {\n      left: elemOffset.left + ew - (winScroll.left + ww) + offsetRight,\n      top: elemOffset.top + eh - (winScroll.top + wh) + offsetBottom\n    };\n    containerScroll = winScroll;\n  } else {\n    containerOffset = util.offset(container);\n    ch = container.clientHeight;\n    cw = container.clientWidth;\n    containerScroll = {\n      left: container.scrollLeft,\n      top: container.scrollTop\n    }; // elem 相对 container 可视视窗的距离\n    // 注意边框, offset 是边框到根节点\n\n    diffTop = {\n      left: elemOffset.left - (containerOffset.left + (parseFloat(util.css(container, 'borderLeftWidth')) || 0)) - offsetLeft,\n      top: elemOffset.top - (containerOffset.top + (parseFloat(util.css(container, 'borderTopWidth')) || 0)) - offsetTop\n    };\n    diffBottom = {\n      left: elemOffset.left + ew - (containerOffset.left + cw + (parseFloat(util.css(container, 'borderRightWidth')) || 0)) + offsetRight,\n      top: elemOffset.top + eh - (containerOffset.top + ch + (parseFloat(util.css(container, 'borderBottomWidth')) || 0)) + offsetBottom\n    };\n  }\n\n  if (diffTop.top < 0 || diffBottom.top > 0) {\n    // 强制向上\n    if (alignWithTop === true) {\n      util.scrollTop(container, containerScroll.top + diffTop.top);\n    } else if (alignWithTop === false) {\n      util.scrollTop(container, containerScroll.top + diffBottom.top);\n    } else {\n      // 自动调整\n      if (diffTop.top < 0) {\n        util.scrollTop(container, containerScroll.top + diffTop.top);\n      } else {\n        util.scrollTop(container, containerScroll.top + diffBottom.top);\n      }\n    }\n  } else {\n    if (!onlyScrollIfNeeded) {\n      alignWithTop = alignWithTop === undefined ? true : !!alignWithTop;\n\n      if (alignWithTop) {\n        util.scrollTop(container, containerScroll.top + diffTop.top);\n      } else {\n        util.scrollTop(container, containerScroll.top + diffBottom.top);\n      }\n    }\n  }\n\n  if (allowHorizontalScroll) {\n    if (diffTop.left < 0 || diffBottom.left > 0) {\n      // 强制向上\n      if (alignWithLeft === true) {\n        util.scrollLeft(container, containerScroll.left + diffTop.left);\n      } else if (alignWithLeft === false) {\n        util.scrollLeft(container, containerScroll.left + diffBottom.left);\n      } else {\n        // 自动调整\n        if (diffTop.left < 0) {\n          util.scrollLeft(container, containerScroll.left + diffTop.left);\n        } else {\n          util.scrollLeft(container, containerScroll.left + diffBottom.left);\n        }\n      }\n    } else {\n      if (!onlyScrollIfNeeded) {\n        alignWithLeft = alignWithLeft === undefined ? true : !!alignWithLeft;\n\n        if (alignWithLeft) {\n          util.scrollLeft(container, containerScroll.left + diffTop.left);\n        } else {\n          util.scrollLeft(container, containerScroll.left + diffBottom.left);\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = scrollIntoView;","'use strict';\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n};\n\nvar RE_NUM = /[\\-+]?(?:\\d*\\.|)\\d+(?:[eE][\\-+]?\\d+|)/.source;\n\nfunction getClientPosition(elem) {\n  var box = undefined;\n  var x = undefined;\n  var y = undefined;\n  var doc = elem.ownerDocument;\n  var body = doc.body;\n  var docElem = doc && doc.documentElement; // 根据 GBS 最新数据，A-Grade Browsers 都已支持 getBoundingClientRect 方法，不用再考虑传统的实现方式\n\n  box = elem.getBoundingClientRect(); // 注：jQuery 还考虑减去 docElem.clientLeft/clientTop\n  // 但测试发现，这样反而会导致当 html 和 body 有边距/边框样式时，获取的值不正确\n  // 此外，ie6 会忽略 html 的 margin 值，幸运地是没有谁会去设置 html 的 margin\n\n  x = box.left;\n  y = box.top; // In IE, most of the time, 2 extra pixels are added to the top and left\n  // due to the implicit 2-pixel inset border.  In IE6/7 quirks mode and\n  // IE6 standards mode, this border can be overridden by setting the\n  // document element's border to zero -- thus, we cannot rely on the\n  // offset always being 2 pixels.\n  // In quirks mode, the offset can be determined by querying the body's\n  // clientLeft/clientTop, but in standards mode, it is found by querying\n  // the document element's clientLeft/clientTop.  Since we already called\n  // getClientBoundingRect we have already forced a reflow, so it is not\n  // too expensive just to query them all.\n  // ie 下应该减去窗口的边框吧，毕竟默认 absolute 都是相对窗口定位的\n  // 窗口边框标准是设 documentElement ,quirks 时设置 body\n  // 最好禁止在 body 和 html 上边框 ，但 ie < 9 html 默认有 2px ，减去\n  // 但是非 ie 不可能设置窗口边框，body html 也不是窗口 ,ie 可以通过 html,body 设置\n  // 标准 ie 下 docElem.clientTop 就是 border-top\n  // ie7 html 即窗口边框改变不了。永远为 2\n  // 但标准 firefox/chrome/ie9 下 docElem.clientTop 是窗口边框，即使设了 border-top 也为 0\n\n  x -= docElem.clientLeft || body.clientLeft || 0;\n  y -= docElem.clientTop || body.clientTop || 0;\n  return {\n    left: x,\n    top: y\n  };\n}\n\nfunction getScroll(w, top) {\n  var ret = w['page' + (top ? 'Y' : 'X') + 'Offset'];\n  var method = 'scroll' + (top ? 'Top' : 'Left');\n\n  if (typeof ret !== 'number') {\n    var d = w.document; // ie6,7,8 standard mode\n\n    ret = d.documentElement[method];\n\n    if (typeof ret !== 'number') {\n      // quirks mode\n      ret = d.body[method];\n    }\n  }\n\n  return ret;\n}\n\nfunction getScrollLeft(w) {\n  return getScroll(w);\n}\n\nfunction getScrollTop(w) {\n  return getScroll(w, true);\n}\n\nfunction getOffset(el) {\n  var pos = getClientPosition(el);\n  var doc = el.ownerDocument;\n  var w = doc.defaultView || doc.parentWindow;\n  pos.left += getScrollLeft(w);\n  pos.top += getScrollTop(w);\n  return pos;\n}\n\nfunction _getComputedStyle(elem, name, computedStyle_) {\n  var val = '';\n  var d = elem.ownerDocument;\n  var computedStyle = computedStyle_ || d.defaultView.getComputedStyle(elem, null); // https://github.com/kissyteam/kissy/issues/61\n\n  if (computedStyle) {\n    val = computedStyle.getPropertyValue(name) || computedStyle[name];\n  }\n\n  return val;\n}\n\nvar _RE_NUM_NO_PX = new RegExp('^(' + RE_NUM + ')(?!px)[a-z%]+$', 'i');\n\nvar RE_POS = /^(top|right|bottom|left)$/;\nvar CURRENT_STYLE = 'currentStyle';\nvar RUNTIME_STYLE = 'runtimeStyle';\nvar LEFT = 'left';\nvar PX = 'px';\n\nfunction _getComputedStyleIE(elem, name) {\n  // currentStyle maybe null\n  // http://msdn.microsoft.com/en-us/library/ms535231.aspx\n  var ret = elem[CURRENT_STYLE] && elem[CURRENT_STYLE][name]; // 当 width/height 设置为百分比时，通过 pixelLeft 方式转换的 width/height 值\n  // 一开始就处理了! CUSTOM_STYLE.height,CUSTOM_STYLE.width ,cssHook 解决@2011-08-19\n  // 在 ie 下不对，需要直接用 offset 方式\n  // borderWidth 等值也有问题，但考虑到 borderWidth 设为百分比的概率很小，这里就不考虑了\n  // From the awesome hack by Dean Edwards\n  // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\n  // If we're not dealing with a regular pixel number\n  // but a number that has a weird ending, we need to convert it to pixels\n  // exclude left right for relativity\n\n  if (_RE_NUM_NO_PX.test(ret) && !RE_POS.test(name)) {\n    // Remember the original values\n    var style = elem.style;\n    var left = style[LEFT];\n    var rsLeft = elem[RUNTIME_STYLE][LEFT]; // prevent flashing of content\n\n    elem[RUNTIME_STYLE][LEFT] = elem[CURRENT_STYLE][LEFT]; // Put in the new values to get a computed value out\n\n    style[LEFT] = name === 'fontSize' ? '1em' : ret || 0;\n    ret = style.pixelLeft + PX; // Revert the changed values\n\n    style[LEFT] = left;\n    elem[RUNTIME_STYLE][LEFT] = rsLeft;\n  }\n\n  return ret === '' ? 'auto' : ret;\n}\n\nvar getComputedStyleX = undefined;\n\nif (typeof window !== 'undefined') {\n  getComputedStyleX = window.getComputedStyle ? _getComputedStyle : _getComputedStyleIE;\n}\n\nfunction each(arr, fn) {\n  for (var i = 0; i < arr.length; i++) {\n    fn(arr[i]);\n  }\n}\n\nfunction isBorderBoxFn(elem) {\n  return getComputedStyleX(elem, 'boxSizing') === 'border-box';\n}\n\nvar BOX_MODELS = ['margin', 'border', 'padding'];\nvar CONTENT_INDEX = -1;\nvar PADDING_INDEX = 2;\nvar BORDER_INDEX = 1;\nvar MARGIN_INDEX = 0;\n\nfunction swap(elem, options, callback) {\n  var old = {};\n  var style = elem.style;\n  var name = undefined; // Remember the old values, and insert the new ones\n\n  for (name in options) {\n    if (options.hasOwnProperty(name)) {\n      old[name] = style[name];\n      style[name] = options[name];\n    }\n  }\n\n  callback.call(elem); // Revert the old values\n\n  for (name in options) {\n    if (options.hasOwnProperty(name)) {\n      style[name] = old[name];\n    }\n  }\n}\n\nfunction getPBMWidth(elem, props, which) {\n  var value = 0;\n  var prop = undefined;\n  var j = undefined;\n  var i = undefined;\n\n  for (j = 0; j < props.length; j++) {\n    prop = props[j];\n\n    if (prop) {\n      for (i = 0; i < which.length; i++) {\n        var cssProp = undefined;\n\n        if (prop === 'border') {\n          cssProp = prop + which[i] + 'Width';\n        } else {\n          cssProp = prop + which[i];\n        }\n\n        value += parseFloat(getComputedStyleX(elem, cssProp)) || 0;\n      }\n    }\n  }\n\n  return value;\n}\n/**\n * A crude way of determining if an object is a window\n * @member util\n */\n\n\nfunction isWindow(obj) {\n  // must use == for ie8\n\n  /* eslint eqeqeq:0 */\n  return obj != null && obj == obj.window;\n}\n\nvar domUtils = {};\neach(['Width', 'Height'], function (name) {\n  domUtils['doc' + name] = function (refWin) {\n    var d = refWin.document;\n    return Math.max( // firefox chrome documentElement.scrollHeight< body.scrollHeight\n    // ie standard mode : documentElement.scrollHeight> body.scrollHeight\n    d.documentElement['scroll' + name], // quirks : documentElement.scrollHeight 最大等于可视窗口多一点？\n    d.body['scroll' + name], domUtils['viewport' + name](d));\n  };\n\n  domUtils['viewport' + name] = function (win) {\n    // pc browser includes scrollbar in window.innerWidth\n    var prop = 'client' + name;\n    var doc = win.document;\n    var body = doc.body;\n    var documentElement = doc.documentElement;\n    var documentElementProp = documentElement[prop]; // 标准模式取 documentElement\n    // backcompat 取 body\n\n    return doc.compatMode === 'CSS1Compat' && documentElementProp || body && body[prop] || documentElementProp;\n  };\n});\n/*\n 得到元素的大小信息\n @param elem\n @param name\n @param {String} [extra]  'padding' : (css width) + padding\n 'border' : (css width) + padding + border\n 'margin' : (css width) + padding + border + margin\n */\n\nfunction getWH(elem, name, extra) {\n  if (isWindow(elem)) {\n    return name === 'width' ? domUtils.viewportWidth(elem) : domUtils.viewportHeight(elem);\n  } else if (elem.nodeType === 9) {\n    return name === 'width' ? domUtils.docWidth(elem) : domUtils.docHeight(elem);\n  }\n\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n  var borderBoxValue = name === 'width' ? elem.offsetWidth : elem.offsetHeight;\n  var computedStyle = getComputedStyleX(elem);\n  var isBorderBox = isBorderBoxFn(elem, computedStyle);\n  var cssBoxValue = 0;\n\n  if (borderBoxValue == null || borderBoxValue <= 0) {\n    borderBoxValue = undefined; // Fall back to computed then un computed css if necessary\n\n    cssBoxValue = getComputedStyleX(elem, name);\n\n    if (cssBoxValue == null || Number(cssBoxValue) < 0) {\n      cssBoxValue = elem.style[name] || 0;\n    } // Normalize '', auto, and prepare for extra\n\n\n    cssBoxValue = parseFloat(cssBoxValue) || 0;\n  }\n\n  if (extra === undefined) {\n    extra = isBorderBox ? BORDER_INDEX : CONTENT_INDEX;\n  }\n\n  var borderBoxValueOrIsBorderBox = borderBoxValue !== undefined || isBorderBox;\n  var val = borderBoxValue || cssBoxValue;\n\n  if (extra === CONTENT_INDEX) {\n    if (borderBoxValueOrIsBorderBox) {\n      return val - getPBMWidth(elem, ['border', 'padding'], which, computedStyle);\n    }\n\n    return cssBoxValue;\n  }\n\n  if (borderBoxValueOrIsBorderBox) {\n    var padding = extra === PADDING_INDEX ? -getPBMWidth(elem, ['border'], which, computedStyle) : getPBMWidth(elem, ['margin'], which, computedStyle);\n    return val + (extra === BORDER_INDEX ? 0 : padding);\n  }\n\n  return cssBoxValue + getPBMWidth(elem, BOX_MODELS.slice(extra), which, computedStyle);\n}\n\nvar cssShow = {\n  position: 'absolute',\n  visibility: 'hidden',\n  display: 'block'\n}; // fix #119 : https://github.com/kissyteam/kissy/issues/119\n\nfunction getWHIgnoreDisplay(elem) {\n  var val = undefined;\n  var args = arguments; // in case elem is window\n  // elem.offsetWidth === undefined\n\n  if (elem.offsetWidth !== 0) {\n    val = getWH.apply(undefined, args);\n  } else {\n    swap(elem, cssShow, function () {\n      val = getWH.apply(undefined, args);\n    });\n  }\n\n  return val;\n}\n\nfunction css(el, name, v) {\n  var value = v;\n\n  if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n    for (var i in name) {\n      if (name.hasOwnProperty(i)) {\n        css(el, i, name[i]);\n      }\n    }\n\n    return undefined;\n  }\n\n  if (typeof value !== 'undefined') {\n    if (typeof value === 'number') {\n      value += 'px';\n    }\n\n    el.style[name] = value;\n    return undefined;\n  }\n\n  return getComputedStyleX(el, name);\n}\n\neach(['width', 'height'], function (name) {\n  var first = name.charAt(0).toUpperCase() + name.slice(1);\n\n  domUtils['outer' + first] = function (el, includeMargin) {\n    return el && getWHIgnoreDisplay(el, name, includeMargin ? MARGIN_INDEX : BORDER_INDEX);\n  };\n\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n\n  domUtils[name] = function (elem, val) {\n    if (val !== undefined) {\n      if (elem) {\n        var computedStyle = getComputedStyleX(elem);\n        var isBorderBox = isBorderBoxFn(elem);\n\n        if (isBorderBox) {\n          val += getPBMWidth(elem, ['padding', 'border'], which, computedStyle);\n        }\n\n        return css(elem, name, val);\n      }\n\n      return undefined;\n    }\n\n    return elem && getWHIgnoreDisplay(elem, name, CONTENT_INDEX);\n  };\n}); // 设置 elem 相对 elem.ownerDocument 的坐标\n\nfunction setOffset(elem, offset) {\n  // set position first, in-case top/left are set even on static elem\n  if (css(elem, 'position') === 'static') {\n    elem.style.position = 'relative';\n  }\n\n  var old = getOffset(elem);\n  var ret = {};\n  var current = undefined;\n  var key = undefined;\n\n  for (key in offset) {\n    if (offset.hasOwnProperty(key)) {\n      current = parseFloat(css(elem, key)) || 0;\n      ret[key] = current + offset[key] - old[key];\n    }\n  }\n\n  css(elem, ret);\n}\n\nmodule.exports = _extends({\n  getWindow: function getWindow(node) {\n    var doc = node.ownerDocument || node;\n    return doc.defaultView || doc.parentWindow;\n  },\n  offset: function offset(el, value) {\n    if (typeof value !== 'undefined') {\n      setOffset(el, value);\n    } else {\n      return getOffset(el);\n    }\n  },\n  isWindow: isWindow,\n  each: each,\n  css: css,\n  clone: function clone(obj) {\n    var ret = {};\n\n    for (var i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        ret[i] = obj[i];\n      }\n    }\n\n    var overflow = obj.overflow;\n\n    if (overflow) {\n      for (var i in obj) {\n        if (obj.hasOwnProperty(i)) {\n          ret.overflow[i] = obj.overflow[i];\n        }\n      }\n    }\n\n    return ret;\n  },\n  scrollLeft: function scrollLeft(w, v) {\n    if (isWindow(w)) {\n      if (v === undefined) {\n        return getScrollLeft(w);\n      }\n\n      window.scrollTo(v, getScrollTop(w));\n    } else {\n      if (v === undefined) {\n        return w.scrollLeft;\n      }\n\n      w.scrollLeft = v;\n    }\n  },\n  scrollTop: function scrollTop(w, v) {\n    if (isWindow(w)) {\n      if (v === undefined) {\n        return getScrollTop(w);\n      }\n\n      window.scrollTo(getScrollLeft(w), v);\n    } else {\n      if (v === undefined) {\n        return w.scrollTop;\n      }\n\n      w.scrollTop = v;\n    }\n  },\n  viewportWidth: 0,\n  viewportHeight: 0\n}, domUtils);","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar vendorPrefix;\nvar jsCssMap = {\n  Webkit: '-webkit-',\n  Moz: '-moz-',\n  // IE did it wrong again ...\n  ms: '-ms-',\n  O: '-o-'\n};\n\nfunction getVendorPrefix() {\n  if (vendorPrefix !== undefined) {\n    return vendorPrefix;\n  }\n\n  vendorPrefix = '';\n  var style = document.createElement('p').style;\n  var testProp = 'Transform';\n\n  for (var key in jsCssMap) {\n    if (key + testProp in style) {\n      vendorPrefix = key;\n    }\n  }\n\n  return vendorPrefix;\n}\n\nfunction getTransitionName() {\n  return getVendorPrefix() ? \"\".concat(getVendorPrefix(), \"TransitionProperty\") : 'transitionProperty';\n}\n\nfunction getTransformName() {\n  return getVendorPrefix() ? \"\".concat(getVendorPrefix(), \"Transform\") : 'transform';\n}\n\nfunction setTransitionProperty(node, value) {\n  var name = getTransitionName();\n\n  if (name) {\n    node.style[name] = value;\n\n    if (name !== 'transitionProperty') {\n      node.style.transitionProperty = value;\n    }\n  }\n}\n\nfunction setTransform(node, value) {\n  var name = getTransformName();\n\n  if (name) {\n    node.style[name] = value;\n\n    if (name !== 'transform') {\n      node.style.transform = value;\n    }\n  }\n}\n\nfunction getTransitionProperty(node) {\n  return node.style.transitionProperty || node.style[getTransitionName()];\n}\n\nfunction getTransformXY(node) {\n  var style = window.getComputedStyle(node, null);\n  var transform = style.getPropertyValue('transform') || style.getPropertyValue(getTransformName());\n\n  if (transform && transform !== 'none') {\n    var matrix = transform.replace(/[^0-9\\-.,]/g, '').split(',');\n    return {\n      x: parseFloat(matrix[12] || matrix[4], 0),\n      y: parseFloat(matrix[13] || matrix[5], 0)\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0\n  };\n}\n\nvar matrix2d = /matrix\\((.*)\\)/;\nvar matrix3d = /matrix3d\\((.*)\\)/;\n\nfunction setTransformXY(node, xy) {\n  var style = window.getComputedStyle(node, null);\n  var transform = style.getPropertyValue('transform') || style.getPropertyValue(getTransformName());\n\n  if (transform && transform !== 'none') {\n    var arr;\n    var match2d = transform.match(matrix2d);\n\n    if (match2d) {\n      match2d = match2d[1];\n      arr = match2d.split(',').map(function (item) {\n        return parseFloat(item, 10);\n      });\n      arr[4] = xy.x;\n      arr[5] = xy.y;\n      setTransform(node, \"matrix(\".concat(arr.join(','), \")\"));\n    } else {\n      var match3d = transform.match(matrix3d)[1];\n      arr = match3d.split(',').map(function (item) {\n        return parseFloat(item, 10);\n      });\n      arr[12] = xy.x;\n      arr[13] = xy.y;\n      setTransform(node, \"matrix3d(\".concat(arr.join(','), \")\"));\n    }\n  } else {\n    setTransform(node, \"translateX(\".concat(xy.x, \"px) translateY(\").concat(xy.y, \"px) translateZ(0)\"));\n  }\n}\n\nvar RE_NUM = /[\\-+]?(?:\\d*\\.|)\\d+(?:[eE][\\-+]?\\d+|)/.source;\nvar getComputedStyleX; // https://stackoverflow.com/a/3485654/3040605\n\nfunction forceRelayout(elem) {\n  var originalStyle = elem.style.display;\n  elem.style.display = 'none';\n  elem.offsetHeight; // eslint-disable-line\n\n  elem.style.display = originalStyle;\n}\n\nfunction css(el, name, v) {\n  var value = v;\n\n  if (_typeof(name) === 'object') {\n    for (var i in name) {\n      if (name.hasOwnProperty(i)) {\n        css(el, i, name[i]);\n      }\n    }\n\n    return undefined;\n  }\n\n  if (typeof value !== 'undefined') {\n    if (typeof value === 'number') {\n      value = \"\".concat(value, \"px\");\n    }\n\n    el.style[name] = value;\n    return undefined;\n  }\n\n  return getComputedStyleX(el, name);\n}\n\nfunction getClientPosition(elem) {\n  var box;\n  var x;\n  var y;\n  var doc = elem.ownerDocument;\n  var body = doc.body;\n  var docElem = doc && doc.documentElement; // 根据 GBS 最新数据，A-Grade Browsers 都已支持 getBoundingClientRect 方法，不用再考虑传统的实现方式\n\n  box = elem.getBoundingClientRect(); // 注：jQuery 还考虑减去 docElem.clientLeft/clientTop\n  // 但测试发现，这样反而会导致当 html 和 body 有边距/边框样式时，获取的值不正确\n  // 此外，ie6 会忽略 html 的 margin 值，幸运地是没有谁会去设置 html 的 margin\n\n  x = box.left;\n  y = box.top; // In IE, most of the time, 2 extra pixels are added to the top and left\n  // due to the implicit 2-pixel inset border.  In IE6/7 quirks mode and\n  // IE6 standards mode, this border can be overridden by setting the\n  // document element's border to zero -- thus, we cannot rely on the\n  // offset always being 2 pixels.\n  // In quirks mode, the offset can be determined by querying the body's\n  // clientLeft/clientTop, but in standards mode, it is found by querying\n  // the document element's clientLeft/clientTop.  Since we already called\n  // getClientBoundingRect we have already forced a reflow, so it is not\n  // too expensive just to query them all.\n  // ie 下应该减去窗口的边框吧，毕竟默认 absolute 都是相对窗口定位的\n  // 窗口边框标准是设 documentElement ,quirks 时设置 body\n  // 最好禁止在 body 和 html 上边框 ，但 ie < 9 html 默认有 2px ，减去\n  // 但是非 ie 不可能设置窗口边框，body html 也不是窗口 ,ie 可以通过 html,body 设置\n  // 标准 ie 下 docElem.clientTop 就是 border-top\n  // ie7 html 即窗口边框改变不了。永远为 2\n  // 但标准 firefox/chrome/ie9 下 docElem.clientTop 是窗口边框，即使设了 border-top 也为 0\n\n  x -= docElem.clientLeft || body.clientLeft || 0;\n  y -= docElem.clientTop || body.clientTop || 0;\n  return {\n    left: x,\n    top: y\n  };\n}\n\nfunction getScroll(w, top) {\n  var ret = w[\"page\".concat(top ? 'Y' : 'X', \"Offset\")];\n  var method = \"scroll\".concat(top ? 'Top' : 'Left');\n\n  if (typeof ret !== 'number') {\n    var d = w.document; // ie6,7,8 standard mode\n\n    ret = d.documentElement[method];\n\n    if (typeof ret !== 'number') {\n      // quirks mode\n      ret = d.body[method];\n    }\n  }\n\n  return ret;\n}\n\nfunction getScrollLeft(w) {\n  return getScroll(w);\n}\n\nfunction getScrollTop(w) {\n  return getScroll(w, true);\n}\n\nfunction getOffset(el) {\n  var pos = getClientPosition(el);\n  var doc = el.ownerDocument;\n  var w = doc.defaultView || doc.parentWindow;\n  pos.left += getScrollLeft(w);\n  pos.top += getScrollTop(w);\n  return pos;\n}\n/**\n * A crude way of determining if an object is a window\n * @member util\n */\n\n\nfunction isWindow(obj) {\n  // must use == for ie8\n\n  /* eslint eqeqeq:0 */\n  return obj !== null && obj !== undefined && obj == obj.window;\n}\n\nfunction getDocument(node) {\n  if (isWindow(node)) {\n    return node.document;\n  }\n\n  if (node.nodeType === 9) {\n    return node;\n  }\n\n  return node.ownerDocument;\n}\n\nfunction _getComputedStyle(elem, name, cs) {\n  var computedStyle = cs;\n  var val = '';\n  var d = getDocument(elem);\n  computedStyle = computedStyle || d.defaultView.getComputedStyle(elem, null); // https://github.com/kissyteam/kissy/issues/61\n\n  if (computedStyle) {\n    val = computedStyle.getPropertyValue(name) || computedStyle[name];\n  }\n\n  return val;\n}\n\nvar _RE_NUM_NO_PX = new RegExp(\"^(\".concat(RE_NUM, \")(?!px)[a-z%]+$\"), 'i');\n\nvar RE_POS = /^(top|right|bottom|left)$/;\nvar CURRENT_STYLE = 'currentStyle';\nvar RUNTIME_STYLE = 'runtimeStyle';\nvar LEFT = 'left';\nvar PX = 'px';\n\nfunction _getComputedStyleIE(elem, name) {\n  // currentStyle maybe null\n  // http://msdn.microsoft.com/en-us/library/ms535231.aspx\n  var ret = elem[CURRENT_STYLE] && elem[CURRENT_STYLE][name]; // 当 width/height 设置为百分比时，通过 pixelLeft 方式转换的 width/height 值\n  // 一开始就处理了! CUSTOM_STYLE.height,CUSTOM_STYLE.width ,cssHook 解决@2011-08-19\n  // 在 ie 下不对，需要直接用 offset 方式\n  // borderWidth 等值也有问题，但考虑到 borderWidth 设为百分比的概率很小，这里就不考虑了\n  // From the awesome hack by Dean Edwards\n  // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\n  // If we're not dealing with a regular pixel number\n  // but a number that has a weird ending, we need to convert it to pixels\n  // exclude left right for relativity\n\n  if (_RE_NUM_NO_PX.test(ret) && !RE_POS.test(name)) {\n    // Remember the original values\n    var style = elem.style;\n    var left = style[LEFT];\n    var rsLeft = elem[RUNTIME_STYLE][LEFT]; // prevent flashing of content\n\n    elem[RUNTIME_STYLE][LEFT] = elem[CURRENT_STYLE][LEFT]; // Put in the new values to get a computed value out\n\n    style[LEFT] = name === 'fontSize' ? '1em' : ret || 0;\n    ret = style.pixelLeft + PX; // Revert the changed values\n\n    style[LEFT] = left;\n    elem[RUNTIME_STYLE][LEFT] = rsLeft;\n  }\n\n  return ret === '' ? 'auto' : ret;\n}\n\nif (typeof window !== 'undefined') {\n  getComputedStyleX = window.getComputedStyle ? _getComputedStyle : _getComputedStyleIE;\n}\n\nfunction getOffsetDirection(dir, option) {\n  if (dir === 'left') {\n    return option.useCssRight ? 'right' : dir;\n  }\n\n  return option.useCssBottom ? 'bottom' : dir;\n}\n\nfunction oppositeOffsetDirection(dir) {\n  if (dir === 'left') {\n    return 'right';\n  } else if (dir === 'right') {\n    return 'left';\n  } else if (dir === 'top') {\n    return 'bottom';\n  } else if (dir === 'bottom') {\n    return 'top';\n  }\n} // 设置 elem 相对 elem.ownerDocument 的坐标\n\n\nfunction setLeftTop(elem, offset, option) {\n  // set position first, in-case top/left are set even on static elem\n  if (css(elem, 'position') === 'static') {\n    elem.style.position = 'relative';\n  }\n\n  var presetH = -999;\n  var presetV = -999;\n  var horizontalProperty = getOffsetDirection('left', option);\n  var verticalProperty = getOffsetDirection('top', option);\n  var oppositeHorizontalProperty = oppositeOffsetDirection(horizontalProperty);\n  var oppositeVerticalProperty = oppositeOffsetDirection(verticalProperty);\n\n  if (horizontalProperty !== 'left') {\n    presetH = 999;\n  }\n\n  if (verticalProperty !== 'top') {\n    presetV = 999;\n  }\n\n  var originalTransition = '';\n  var originalOffset = getOffset(elem);\n\n  if ('left' in offset || 'top' in offset) {\n    originalTransition = getTransitionProperty(elem) || '';\n    setTransitionProperty(elem, 'none');\n  }\n\n  if ('left' in offset) {\n    elem.style[oppositeHorizontalProperty] = '';\n    elem.style[horizontalProperty] = \"\".concat(presetH, \"px\");\n  }\n\n  if ('top' in offset) {\n    elem.style[oppositeVerticalProperty] = '';\n    elem.style[verticalProperty] = \"\".concat(presetV, \"px\");\n  } // force relayout\n\n\n  forceRelayout(elem);\n  var old = getOffset(elem);\n  var originalStyle = {};\n\n  for (var key in offset) {\n    if (offset.hasOwnProperty(key)) {\n      var dir = getOffsetDirection(key, option);\n      var preset = key === 'left' ? presetH : presetV;\n      var off = originalOffset[key] - old[key];\n\n      if (dir === key) {\n        originalStyle[dir] = preset + off;\n      } else {\n        originalStyle[dir] = preset - off;\n      }\n    }\n  }\n\n  css(elem, originalStyle); // force relayout\n\n  forceRelayout(elem);\n\n  if ('left' in offset || 'top' in offset) {\n    setTransitionProperty(elem, originalTransition);\n  }\n\n  var ret = {};\n\n  for (var _key in offset) {\n    if (offset.hasOwnProperty(_key)) {\n      var _dir = getOffsetDirection(_key, option);\n\n      var _off = offset[_key] - originalOffset[_key];\n\n      if (_key === _dir) {\n        ret[_dir] = originalStyle[_dir] + _off;\n      } else {\n        ret[_dir] = originalStyle[_dir] - _off;\n      }\n    }\n  }\n\n  css(elem, ret);\n}\n\nfunction setTransform$1(elem, offset) {\n  var originalOffset = getOffset(elem);\n  var originalXY = getTransformXY(elem);\n  var resultXY = {\n    x: originalXY.x,\n    y: originalXY.y\n  };\n\n  if ('left' in offset) {\n    resultXY.x = originalXY.x + offset.left - originalOffset.left;\n  }\n\n  if ('top' in offset) {\n    resultXY.y = originalXY.y + offset.top - originalOffset.top;\n  }\n\n  setTransformXY(elem, resultXY);\n}\n\nfunction setOffset(elem, offset, option) {\n  if (option.ignoreShake) {\n    var oriOffset = getOffset(elem);\n    var oLeft = oriOffset.left.toFixed(0);\n    var oTop = oriOffset.top.toFixed(0);\n    var tLeft = offset.left.toFixed(0);\n    var tTop = offset.top.toFixed(0);\n\n    if (oLeft === tLeft && oTop === tTop) {\n      return;\n    }\n  }\n\n  if (option.useCssRight || option.useCssBottom) {\n    setLeftTop(elem, offset, option);\n  } else if (option.useCssTransform && getTransformName() in document.body.style) {\n    setTransform$1(elem, offset);\n  } else {\n    setLeftTop(elem, offset, option);\n  }\n}\n\nfunction each(arr, fn) {\n  for (var i = 0; i < arr.length; i++) {\n    fn(arr[i]);\n  }\n}\n\nfunction isBorderBoxFn(elem) {\n  return getComputedStyleX(elem, 'boxSizing') === 'border-box';\n}\n\nvar BOX_MODELS = ['margin', 'border', 'padding'];\nvar CONTENT_INDEX = -1;\nvar PADDING_INDEX = 2;\nvar BORDER_INDEX = 1;\nvar MARGIN_INDEX = 0;\n\nfunction swap(elem, options, callback) {\n  var old = {};\n  var style = elem.style;\n  var name; // Remember the old values, and insert the new ones\n\n  for (name in options) {\n    if (options.hasOwnProperty(name)) {\n      old[name] = style[name];\n      style[name] = options[name];\n    }\n  }\n\n  callback.call(elem); // Revert the old values\n\n  for (name in options) {\n    if (options.hasOwnProperty(name)) {\n      style[name] = old[name];\n    }\n  }\n}\n\nfunction getPBMWidth(elem, props, which) {\n  var value = 0;\n  var prop;\n  var j;\n  var i;\n\n  for (j = 0; j < props.length; j++) {\n    prop = props[j];\n\n    if (prop) {\n      for (i = 0; i < which.length; i++) {\n        var cssProp = void 0;\n\n        if (prop === 'border') {\n          cssProp = \"\".concat(prop).concat(which[i], \"Width\");\n        } else {\n          cssProp = prop + which[i];\n        }\n\n        value += parseFloat(getComputedStyleX(elem, cssProp)) || 0;\n      }\n    }\n  }\n\n  return value;\n}\n\nvar domUtils = {\n  getParent: function getParent(element) {\n    var parent = element;\n\n    do {\n      if (parent.nodeType === 11 && parent.host) {\n        parent = parent.host;\n      } else {\n        parent = parent.parentNode;\n      }\n    } while (parent && parent.nodeType !== 1 && parent.nodeType !== 9);\n\n    return parent;\n  }\n};\neach(['Width', 'Height'], function (name) {\n  domUtils[\"doc\".concat(name)] = function (refWin) {\n    var d = refWin.document;\n    return Math.max( // firefox chrome documentElement.scrollHeight< body.scrollHeight\n    // ie standard mode : documentElement.scrollHeight> body.scrollHeight\n    d.documentElement[\"scroll\".concat(name)], // quirks : documentElement.scrollHeight 最大等于可视窗口多一点？\n    d.body[\"scroll\".concat(name)], domUtils[\"viewport\".concat(name)](d));\n  };\n\n  domUtils[\"viewport\".concat(name)] = function (win) {\n    // pc browser includes scrollbar in window.innerWidth\n    var prop = \"client\".concat(name);\n    var doc = win.document;\n    var body = doc.body;\n    var documentElement = doc.documentElement;\n    var documentElementProp = documentElement[prop]; // 标准模式取 documentElement\n    // backcompat 取 body\n\n    return doc.compatMode === 'CSS1Compat' && documentElementProp || body && body[prop] || documentElementProp;\n  };\n});\n/*\n 得到元素的大小信息\n @param elem\n @param name\n @param {String} [extra]  'padding' : (css width) + padding\n 'border' : (css width) + padding + border\n 'margin' : (css width) + padding + border + margin\n */\n\nfunction getWH(elem, name, ex) {\n  var extra = ex;\n\n  if (isWindow(elem)) {\n    return name === 'width' ? domUtils.viewportWidth(elem) : domUtils.viewportHeight(elem);\n  } else if (elem.nodeType === 9) {\n    return name === 'width' ? domUtils.docWidth(elem) : domUtils.docHeight(elem);\n  }\n\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n  var borderBoxValue = name === 'width' ? elem.getBoundingClientRect().width : elem.getBoundingClientRect().height;\n  var computedStyle = getComputedStyleX(elem);\n  var isBorderBox = isBorderBoxFn(elem);\n  var cssBoxValue = 0;\n\n  if (borderBoxValue === null || borderBoxValue === undefined || borderBoxValue <= 0) {\n    borderBoxValue = undefined; // Fall back to computed then un computed css if necessary\n\n    cssBoxValue = getComputedStyleX(elem, name);\n\n    if (cssBoxValue === null || cssBoxValue === undefined || Number(cssBoxValue) < 0) {\n      cssBoxValue = elem.style[name] || 0;\n    } // Normalize '', auto, and prepare for extra\n\n\n    cssBoxValue = parseFloat(cssBoxValue) || 0;\n  }\n\n  if (extra === undefined) {\n    extra = isBorderBox ? BORDER_INDEX : CONTENT_INDEX;\n  }\n\n  var borderBoxValueOrIsBorderBox = borderBoxValue !== undefined || isBorderBox;\n  var val = borderBoxValue || cssBoxValue;\n\n  if (extra === CONTENT_INDEX) {\n    if (borderBoxValueOrIsBorderBox) {\n      return val - getPBMWidth(elem, ['border', 'padding'], which);\n    }\n\n    return cssBoxValue;\n  } else if (borderBoxValueOrIsBorderBox) {\n    if (extra === BORDER_INDEX) {\n      return val;\n    }\n\n    return val + (extra === PADDING_INDEX ? -getPBMWidth(elem, ['border'], which) : getPBMWidth(elem, ['margin'], which));\n  }\n\n  return cssBoxValue + getPBMWidth(elem, BOX_MODELS.slice(extra), which);\n}\n\nvar cssShow = {\n  position: 'absolute',\n  visibility: 'hidden',\n  display: 'block'\n}; // fix #119 : https://github.com/kissyteam/kissy/issues/119\n\nfunction getWHIgnoreDisplay() {\n  for (var _len = arguments.length, args = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  var val;\n  var elem = args[0]; // in case elem is window\n  // elem.offsetWidth === undefined\n\n  if (elem.offsetWidth !== 0) {\n    val = getWH.apply(undefined, args);\n  } else {\n    swap(elem, cssShow, function () {\n      val = getWH.apply(undefined, args);\n    });\n  }\n\n  return val;\n}\n\neach(['width', 'height'], function (name) {\n  var first = name.charAt(0).toUpperCase() + name.slice(1);\n\n  domUtils[\"outer\".concat(first)] = function (el, includeMargin) {\n    return el && getWHIgnoreDisplay(el, name, includeMargin ? MARGIN_INDEX : BORDER_INDEX);\n  };\n\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n\n  domUtils[name] = function (elem, v) {\n    var val = v;\n\n    if (val !== undefined) {\n      if (elem) {\n        var computedStyle = getComputedStyleX(elem);\n        var isBorderBox = isBorderBoxFn(elem);\n\n        if (isBorderBox) {\n          val += getPBMWidth(elem, ['padding', 'border'], which);\n        }\n\n        return css(elem, name, val);\n      }\n\n      return undefined;\n    }\n\n    return elem && getWHIgnoreDisplay(elem, name, CONTENT_INDEX);\n  };\n});\n\nfunction mix(to, from) {\n  for (var i in from) {\n    if (from.hasOwnProperty(i)) {\n      to[i] = from[i];\n    }\n  }\n\n  return to;\n}\n\nvar utils = {\n  getWindow: function getWindow(node) {\n    if (node && node.document && node.setTimeout) {\n      return node;\n    }\n\n    var doc = node.ownerDocument || node;\n    return doc.defaultView || doc.parentWindow;\n  },\n  getDocument: getDocument,\n  offset: function offset(el, value, option) {\n    if (typeof value !== 'undefined') {\n      setOffset(el, value, option || {});\n    } else {\n      return getOffset(el);\n    }\n  },\n  isWindow: isWindow,\n  each: each,\n  css: css,\n  clone: function clone(obj) {\n    var i;\n    var ret = {};\n\n    for (i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        ret[i] = obj[i];\n      }\n    }\n\n    var overflow = obj.overflow;\n\n    if (overflow) {\n      for (i in obj) {\n        if (obj.hasOwnProperty(i)) {\n          ret.overflow[i] = obj.overflow[i];\n        }\n      }\n    }\n\n    return ret;\n  },\n  mix: mix,\n  getWindowScrollLeft: function getWindowScrollLeft(w) {\n    return getScrollLeft(w);\n  },\n  getWindowScrollTop: function getWindowScrollTop(w) {\n    return getScrollTop(w);\n  },\n  merge: function merge() {\n    var ret = {};\n\n    for (var i = 0; i < arguments.length; i++) {\n      utils.mix(ret, i < 0 || arguments.length <= i ? undefined : arguments[i]);\n    }\n\n    return ret;\n  },\n  viewportWidth: 0,\n  viewportHeight: 0\n};\nmix(utils, domUtils);\n/**\n * 得到会导致元素显示不全的祖先元素\n */\n\nvar getParent = utils.getParent;\n\nfunction getOffsetParent(element) {\n  if (utils.isWindow(element) || element.nodeType === 9) {\n    return null;\n  } // ie 这个也不是完全可行\n\n  /*\n   <div style=\"width: 50px;height: 100px;overflow: hidden\">\n   <div style=\"width: 50px;height: 100px;position: relative;\" id=\"d6\">\n   元素 6 高 100px 宽 50px<br/>\n   </div>\n   </div>\n   */\n  // element.offsetParent does the right thing in ie7 and below. Return parent with layout!\n  //  In other browsers it only includes elements with position absolute, relative or\n  // fixed, not elements with overflow set to auto or scroll.\n  //        if (UA.ie && ieMode < 8) {\n  //            return element.offsetParent;\n  //        }\n  // 统一的 offsetParent 方法\n\n\n  var doc = utils.getDocument(element);\n  var body = doc.body;\n  var parent;\n  var positionStyle = utils.css(element, 'position');\n  var skipStatic = positionStyle === 'fixed' || positionStyle === 'absolute';\n\n  if (!skipStatic) {\n    return element.nodeName.toLowerCase() === 'html' ? null : getParent(element);\n  }\n\n  for (parent = getParent(element); parent && parent !== body; parent = getParent(parent)) {\n    positionStyle = utils.css(parent, 'position');\n\n    if (positionStyle !== 'static') {\n      return parent;\n    }\n  }\n\n  return null;\n}\n\nvar getParent$1 = utils.getParent;\n\nfunction isAncestorFixed(element) {\n  if (utils.isWindow(element) || element.nodeType === 9) {\n    return false;\n  }\n\n  var doc = utils.getDocument(element);\n  var body = doc.body;\n  var parent = null;\n\n  for (parent = getParent$1(element); parent && parent !== body; parent = getParent$1(parent)) {\n    var positionStyle = utils.css(parent, 'position');\n\n    if (positionStyle === 'fixed') {\n      return true;\n    }\n  }\n\n  return false;\n}\n/**\n * 获得元素的显示部分的区域\n */\n\n\nfunction getVisibleRectForElement(element) {\n  var visibleRect = {\n    left: 0,\n    right: Infinity,\n    top: 0,\n    bottom: Infinity\n  };\n  var el = getOffsetParent(element);\n  var doc = utils.getDocument(element);\n  var win = doc.defaultView || doc.parentWindow;\n  var body = doc.body;\n  var documentElement = doc.documentElement; // Determine the size of the visible rect by climbing the dom accounting for\n  // all scrollable containers.\n\n  while (el) {\n    // clientWidth is zero for inline block elements in ie.\n    if ((navigator.userAgent.indexOf('MSIE') === -1 || el.clientWidth !== 0) && // body may have overflow set on it, yet we still get the entire\n    // viewport. In some browsers, el.offsetParent may be\n    // document.documentElement, so check for that too.\n    el !== body && el !== documentElement && utils.css(el, 'overflow') !== 'visible') {\n      var pos = utils.offset(el); // add border\n\n      pos.left += el.clientLeft;\n      pos.top += el.clientTop;\n      visibleRect.top = Math.max(visibleRect.top, pos.top);\n      visibleRect.right = Math.min(visibleRect.right, // consider area without scrollBar\n      pos.left + el.clientWidth);\n      visibleRect.bottom = Math.min(visibleRect.bottom, pos.top + el.clientHeight);\n      visibleRect.left = Math.max(visibleRect.left, pos.left);\n    } else if (el === body || el === documentElement) {\n      break;\n    }\n\n    el = getOffsetParent(el);\n  } // Set element position to fixed\n  // make sure absolute element itself don't affect it's visible area\n  // https://github.com/ant-design/ant-design/issues/7601\n\n\n  var originalPosition = null;\n\n  if (!utils.isWindow(element) && element.nodeType !== 9) {\n    originalPosition = element.style.position;\n    var position = utils.css(element, 'position');\n\n    if (position === 'absolute') {\n      element.style.position = 'fixed';\n    }\n  }\n\n  var scrollX = utils.getWindowScrollLeft(win);\n  var scrollY = utils.getWindowScrollTop(win);\n  var viewportWidth = utils.viewportWidth(win);\n  var viewportHeight = utils.viewportHeight(win);\n  var documentWidth = documentElement.scrollWidth;\n  var documentHeight = documentElement.scrollHeight; // scrollXXX on html is sync with body which means overflow: hidden on body gets wrong scrollXXX.\n  // We should cut this ourself.\n\n  var bodyStyle = window.getComputedStyle(body);\n\n  if (bodyStyle.overflowX === 'hidden') {\n    documentWidth = win.innerWidth;\n  }\n\n  if (bodyStyle.overflowY === 'hidden') {\n    documentHeight = win.innerHeight;\n  } // Reset element position after calculate the visible area\n\n\n  if (element.style) {\n    element.style.position = originalPosition;\n  }\n\n  if (isAncestorFixed(element)) {\n    // Clip by viewport's size.\n    visibleRect.left = Math.max(visibleRect.left, scrollX);\n    visibleRect.top = Math.max(visibleRect.top, scrollY);\n    visibleRect.right = Math.min(visibleRect.right, scrollX + viewportWidth);\n    visibleRect.bottom = Math.min(visibleRect.bottom, scrollY + viewportHeight);\n  } else {\n    // Clip by document's size.\n    var maxVisibleWidth = Math.max(documentWidth, scrollX + viewportWidth);\n    visibleRect.right = Math.min(visibleRect.right, maxVisibleWidth);\n    var maxVisibleHeight = Math.max(documentHeight, scrollY + viewportHeight);\n    visibleRect.bottom = Math.min(visibleRect.bottom, maxVisibleHeight);\n  }\n\n  return visibleRect.top >= 0 && visibleRect.left >= 0 && visibleRect.bottom > visibleRect.top && visibleRect.right > visibleRect.left ? visibleRect : null;\n}\n\nfunction adjustForViewport(elFuturePos, elRegion, visibleRect, overflow) {\n  var pos = utils.clone(elFuturePos);\n  var size = {\n    width: elRegion.width,\n    height: elRegion.height\n  };\n\n  if (overflow.adjustX && pos.left < visibleRect.left) {\n    pos.left = visibleRect.left;\n  } // Left edge inside and right edge outside viewport, try to resize it.\n\n\n  if (overflow.resizeWidth && pos.left >= visibleRect.left && pos.left + size.width > visibleRect.right) {\n    size.width -= pos.left + size.width - visibleRect.right;\n  } // Right edge outside viewport, try to move it.\n\n\n  if (overflow.adjustX && pos.left + size.width > visibleRect.right) {\n    // 保证左边界和可视区域左边界对齐\n    pos.left = Math.max(visibleRect.right - size.width, visibleRect.left);\n  } // Top edge outside viewport, try to move it.\n\n\n  if (overflow.adjustY && pos.top < visibleRect.top) {\n    pos.top = visibleRect.top;\n  } // Top edge inside and bottom edge outside viewport, try to resize it.\n\n\n  if (overflow.resizeHeight && pos.top >= visibleRect.top && pos.top + size.height > visibleRect.bottom) {\n    size.height -= pos.top + size.height - visibleRect.bottom;\n  } // Bottom edge outside viewport, try to move it.\n\n\n  if (overflow.adjustY && pos.top + size.height > visibleRect.bottom) {\n    // 保证上边界和可视区域上边界对齐\n    pos.top = Math.max(visibleRect.bottom - size.height, visibleRect.top);\n  }\n\n  return utils.mix(pos, size);\n}\n\nfunction getRegion(node) {\n  var offset;\n  var w;\n  var h;\n\n  if (!utils.isWindow(node) && node.nodeType !== 9) {\n    offset = utils.offset(node);\n    w = utils.outerWidth(node);\n    h = utils.outerHeight(node);\n  } else {\n    var win = utils.getWindow(node);\n    offset = {\n      left: utils.getWindowScrollLeft(win),\n      top: utils.getWindowScrollTop(win)\n    };\n    w = utils.viewportWidth(win);\n    h = utils.viewportHeight(win);\n  }\n\n  offset.width = w;\n  offset.height = h;\n  return offset;\n}\n/**\n * 获取 node 上的 align 对齐点 相对于页面的坐标\n */\n\n\nfunction getAlignOffset(region, align) {\n  var V = align.charAt(0);\n  var H = align.charAt(1);\n  var w = region.width;\n  var h = region.height;\n  var x = region.left;\n  var y = region.top;\n\n  if (V === 'c') {\n    y += h / 2;\n  } else if (V === 'b') {\n    y += h;\n  }\n\n  if (H === 'c') {\n    x += w / 2;\n  } else if (H === 'r') {\n    x += w;\n  }\n\n  return {\n    left: x,\n    top: y\n  };\n}\n\nfunction getElFuturePos(elRegion, refNodeRegion, points, offset, targetOffset) {\n  var p1 = getAlignOffset(refNodeRegion, points[1]);\n  var p2 = getAlignOffset(elRegion, points[0]);\n  var diff = [p2.left - p1.left, p2.top - p1.top];\n  return {\n    left: Math.round(elRegion.left - diff[0] + offset[0] - targetOffset[0]),\n    top: Math.round(elRegion.top - diff[1] + offset[1] - targetOffset[1])\n  };\n}\n/**\n * align dom node flexibly\n * @author yiminghe@gmail.com\n */\n\n\nfunction isFailX(elFuturePos, elRegion, visibleRect) {\n  return elFuturePos.left < visibleRect.left || elFuturePos.left + elRegion.width > visibleRect.right;\n}\n\nfunction isFailY(elFuturePos, elRegion, visibleRect) {\n  return elFuturePos.top < visibleRect.top || elFuturePos.top + elRegion.height > visibleRect.bottom;\n}\n\nfunction isCompleteFailX(elFuturePos, elRegion, visibleRect) {\n  return elFuturePos.left > visibleRect.right || elFuturePos.left + elRegion.width < visibleRect.left;\n}\n\nfunction isCompleteFailY(elFuturePos, elRegion, visibleRect) {\n  return elFuturePos.top > visibleRect.bottom || elFuturePos.top + elRegion.height < visibleRect.top;\n}\n\nfunction flip(points, reg, map) {\n  var ret = [];\n  utils.each(points, function (p) {\n    ret.push(p.replace(reg, function (m) {\n      return map[m];\n    }));\n  });\n  return ret;\n}\n\nfunction flipOffset(offset, index) {\n  offset[index] = -offset[index];\n  return offset;\n}\n\nfunction convertOffset(str, offsetLen) {\n  var n;\n\n  if (/%$/.test(str)) {\n    n = parseInt(str.substring(0, str.length - 1), 10) / 100 * offsetLen;\n  } else {\n    n = parseInt(str, 10);\n  }\n\n  return n || 0;\n}\n\nfunction normalizeOffset(offset, el) {\n  offset[0] = convertOffset(offset[0], el.width);\n  offset[1] = convertOffset(offset[1], el.height);\n}\n/**\n * @param el\n * @param tgtRegion 参照节点所占的区域: { left, top, width, height }\n * @param align\n */\n\n\nfunction doAlign(el, tgtRegion, align, isTgtRegionVisible) {\n  var points = align.points;\n  var offset = align.offset || [0, 0];\n  var targetOffset = align.targetOffset || [0, 0];\n  var overflow = align.overflow;\n  var source = align.source || el;\n  offset = [].concat(offset);\n  targetOffset = [].concat(targetOffset);\n  overflow = overflow || {};\n  var newOverflowCfg = {};\n  var fail = 0; // 当前节点可以被放置的显示区域\n\n  var visibleRect = getVisibleRectForElement(source); // 当前节点所占的区域, left/top/width/height\n\n  var elRegion = getRegion(source); // 将 offset 转换成数值，支持百分比\n\n  normalizeOffset(offset, elRegion);\n  normalizeOffset(targetOffset, tgtRegion); // 当前节点将要被放置的位置\n\n  var elFuturePos = getElFuturePos(elRegion, tgtRegion, points, offset, targetOffset); // 当前节点将要所处的区域\n\n  var newElRegion = utils.merge(elRegion, elFuturePos); // 如果可视区域不能完全放置当前节点时允许调整\n\n  if (visibleRect && (overflow.adjustX || overflow.adjustY) && isTgtRegionVisible) {\n    if (overflow.adjustX) {\n      // 如果横向不能放下\n      if (isFailX(elFuturePos, elRegion, visibleRect)) {\n        // 对齐位置反下\n        var newPoints = flip(points, /[lr]/gi, {\n          l: 'r',\n          r: 'l'\n        }); // 偏移量也反下\n\n        var newOffset = flipOffset(offset, 0);\n        var newTargetOffset = flipOffset(targetOffset, 0);\n        var newElFuturePos = getElFuturePos(elRegion, tgtRegion, newPoints, newOffset, newTargetOffset);\n\n        if (!isCompleteFailX(newElFuturePos, elRegion, visibleRect)) {\n          fail = 1;\n          points = newPoints;\n          offset = newOffset;\n          targetOffset = newTargetOffset;\n        }\n      }\n    }\n\n    if (overflow.adjustY) {\n      // 如果纵向不能放下\n      if (isFailY(elFuturePos, elRegion, visibleRect)) {\n        // 对齐位置反下\n        var _newPoints = flip(points, /[tb]/gi, {\n          t: 'b',\n          b: 't'\n        }); // 偏移量也反下\n\n\n        var _newOffset = flipOffset(offset, 1);\n\n        var _newTargetOffset = flipOffset(targetOffset, 1);\n\n        var _newElFuturePos = getElFuturePos(elRegion, tgtRegion, _newPoints, _newOffset, _newTargetOffset);\n\n        if (!isCompleteFailY(_newElFuturePos, elRegion, visibleRect)) {\n          fail = 1;\n          points = _newPoints;\n          offset = _newOffset;\n          targetOffset = _newTargetOffset;\n        }\n      }\n    } // 如果失败，重新计算当前节点将要被放置的位置\n\n\n    if (fail) {\n      elFuturePos = getElFuturePos(elRegion, tgtRegion, points, offset, targetOffset);\n      utils.mix(newElRegion, elFuturePos);\n    }\n\n    var isStillFailX = isFailX(elFuturePos, elRegion, visibleRect);\n    var isStillFailY = isFailY(elFuturePos, elRegion, visibleRect); // 检查反下后的位置是否可以放下了，如果仍然放不下：\n    // 1. 复原修改过的定位参数\n\n    if (isStillFailX || isStillFailY) {\n      points = align.points;\n      offset = align.offset || [0, 0];\n      targetOffset = align.targetOffset || [0, 0];\n    } // 2. 只有指定了可以调整当前方向才调整\n\n\n    newOverflowCfg.adjustX = overflow.adjustX && isStillFailX;\n    newOverflowCfg.adjustY = overflow.adjustY && isStillFailY; // 确实要调整，甚至可能会调整高度宽度\n\n    if (newOverflowCfg.adjustX || newOverflowCfg.adjustY) {\n      newElRegion = adjustForViewport(elFuturePos, elRegion, visibleRect, newOverflowCfg);\n    }\n  } // need judge to in case set fixed with in css on height auto element\n\n\n  if (newElRegion.width !== elRegion.width) {\n    utils.css(source, 'width', utils.width(source) + newElRegion.width - elRegion.width);\n  }\n\n  if (newElRegion.height !== elRegion.height) {\n    utils.css(source, 'height', utils.height(source) + newElRegion.height - elRegion.height);\n  } // https://github.com/kissyteam/kissy/issues/190\n  // 相对于屏幕位置没变，而 left/top 变了\n  // 例如 <div 'relative'><el absolute></div>\n\n\n  utils.offset(source, {\n    left: newElRegion.left,\n    top: newElRegion.top\n  }, {\n    useCssRight: align.useCssRight,\n    useCssBottom: align.useCssBottom,\n    useCssTransform: align.useCssTransform,\n    ignoreShake: align.ignoreShake\n  });\n  return {\n    points: points,\n    offset: offset,\n    targetOffset: targetOffset,\n    overflow: newOverflowCfg\n  };\n}\n/**\n *  2012-04-26 yiminghe@gmail.com\n *   - 优化智能对齐算法\n *   - 慎用 resizeXX\n *\n *  2011-07-13 yiminghe@gmail.com note:\n *   - 增加智能对齐，以及大小调整选项\n **/\n\n\nfunction isOutOfVisibleRect(target) {\n  var visibleRect = getVisibleRectForElement(target);\n  var targetRegion = getRegion(target);\n  return !visibleRect || targetRegion.left + targetRegion.width <= visibleRect.left || targetRegion.top + targetRegion.height <= visibleRect.top || targetRegion.left >= visibleRect.right || targetRegion.top >= visibleRect.bottom;\n}\n\nfunction alignElement(el, refNode, align) {\n  var target = align.target || refNode;\n  var refNodeRegion = getRegion(target);\n  var isTargetNotOutOfVisible = !isOutOfVisibleRect(target);\n  return doAlign(el, refNodeRegion, align, isTargetNotOutOfVisible);\n}\n\nalignElement.__getOffsetParent = getOffsetParent;\nalignElement.__getVisibleRectForElement = getVisibleRectForElement;\n/**\n * `tgtPoint`: { pageX, pageY } or { clientX, clientY }.\n * If client position provided, will internal convert to page position.\n */\n\nfunction alignPoint(el, tgtPoint, align) {\n  var pageX;\n  var pageY;\n  var doc = utils.getDocument(el);\n  var win = doc.defaultView || doc.parentWindow;\n  var scrollX = utils.getWindowScrollLeft(win);\n  var scrollY = utils.getWindowScrollTop(win);\n  var viewportWidth = utils.viewportWidth(win);\n  var viewportHeight = utils.viewportHeight(win);\n\n  if ('pageX' in tgtPoint) {\n    pageX = tgtPoint.pageX;\n  } else {\n    pageX = scrollX + tgtPoint.clientX;\n  }\n\n  if ('pageY' in tgtPoint) {\n    pageY = tgtPoint.pageY;\n  } else {\n    pageY = scrollY + tgtPoint.clientY;\n  }\n\n  var tgtRegion = {\n    left: pageX,\n    top: pageY,\n    width: 0,\n    height: 0\n  };\n  var pointInView = pageX >= 0 && pageX <= scrollX + viewportWidth && pageY >= 0 && pageY <= scrollY + viewportHeight; // Provide default target point\n\n  var points = [align.points[0], 'cc'];\n  return doAlign(el, tgtRegion, _objectSpread2({}, align, {\n    points: points\n  }), pointInView);\n}\n\nexport default alignElement;\nexport { alignElement, alignPoint };","import contains from 'rc-util/es/Dom/contains';\nexport function buffer(fn, ms) {\n  var timer = void 0;\n\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n  }\n\n  function bufferFn() {\n    clear();\n    timer = setTimeout(fn, ms);\n  }\n\n  bufferFn.clear = clear;\n  return bufferFn;\n}\nexport function isSamePoint(prev, next) {\n  if (prev === next) return true;\n  if (!prev || !next) return false;\n\n  if ('pageX' in next && 'pageY' in next) {\n    return prev.pageX === next.pageX && prev.pageY === next.pageY;\n  }\n\n  if ('clientX' in next && 'clientY' in next) {\n    return prev.clientX === next.clientX && prev.clientY === next.clientY;\n  }\n\n  return false;\n}\nexport function isWindow(obj) {\n  return obj && typeof obj === 'object' && obj.window === obj;\n}\nexport function isSimilarValue(val1, val2) {\n  var int1 = Math.floor(val1);\n  var int2 = Math.floor(val2);\n  return Math.abs(int1 - int2) <= 1;\n}\nexport function restoreFocus(activeElement, container) {\n  // Focus back if is in the container\n  if (activeElement !== document.activeElement && contains(container, activeElement)) {\n    activeElement.focus();\n  }\n}","import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { alignElement, alignPoint } from 'dom-align';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport { isWindow, buffer, isSamePoint, isSimilarValue, restoreFocus } from './util';\n\nfunction getElement(func) {\n  if (typeof func !== 'function' || !func) return null;\n  return func();\n}\n\nfunction getPoint(point) {\n  if (typeof point !== 'object' || !point) return null;\n  return point;\n}\n\nvar Align = function (_Component) {\n  _inherits(Align, _Component);\n\n  function Align() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Align);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Align.__proto__ || Object.getPrototypeOf(Align)).call.apply(_ref, [this].concat(args))), _this), _this.forceAlign = function () {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          target = _this$props.target,\n          align = _this$props.align,\n          onAlign = _this$props.onAlign;\n\n      if (!disabled && target) {\n        var source = ReactDOM.findDOMNode(_this);\n        var result = void 0;\n        var element = getElement(target);\n        var point = getPoint(target); // IE lose focus after element realign\n        // We should record activeElement and restore later\n\n        var activeElement = document.activeElement;\n\n        if (element) {\n          result = alignElement(source, element, align);\n        } else if (point) {\n          result = alignPoint(source, point, align);\n        }\n\n        restoreFocus(activeElement, source);\n\n        if (onAlign) {\n          onAlign(source, result);\n        }\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Align, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var props = this.props; // if parent ref not attached .... use document.getElementById\n\n      this.forceAlign();\n\n      if (!props.disabled && props.monitorWindowResize) {\n        this.startMonitorWindowResize();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var reAlign = false;\n      var props = this.props;\n\n      if (!props.disabled) {\n        var source = ReactDOM.findDOMNode(this);\n        var sourceRect = source ? source.getBoundingClientRect() : null;\n\n        if (prevProps.disabled) {\n          reAlign = true;\n        } else {\n          var lastElement = getElement(prevProps.target);\n          var currentElement = getElement(props.target);\n          var lastPoint = getPoint(prevProps.target);\n          var currentPoint = getPoint(props.target);\n\n          if (isWindow(lastElement) && isWindow(currentElement)) {\n            // Skip if is window\n            reAlign = false;\n          } else if (lastElement !== currentElement || // Element change\n          lastElement && !currentElement && currentPoint || // Change from element to point\n          lastPoint && currentPoint && currentElement || // Change from point to element\n          currentPoint && !isSamePoint(lastPoint, currentPoint)) {\n            reAlign = true;\n          } // If source element size changed\n\n\n          var preRect = this.sourceRect || {};\n\n          if (!reAlign && source && (!isSimilarValue(preRect.width, sourceRect.width) || !isSimilarValue(preRect.height, sourceRect.height))) {\n            reAlign = true;\n          }\n        }\n\n        this.sourceRect = sourceRect;\n      }\n\n      if (reAlign) {\n        this.forceAlign();\n      }\n\n      if (props.monitorWindowResize && !props.disabled) {\n        this.startMonitorWindowResize();\n      } else {\n        this.stopMonitorWindowResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.stopMonitorWindowResize();\n    }\n  }, {\n    key: 'startMonitorWindowResize',\n    value: function startMonitorWindowResize() {\n      if (!this.resizeHandler) {\n        this.bufferMonitor = buffer(this.forceAlign, this.props.monitorBufferTime);\n        this.resizeHandler = addEventListener(window, 'resize', this.bufferMonitor);\n      }\n    }\n  }, {\n    key: 'stopMonitorWindowResize',\n    value: function stopMonitorWindowResize() {\n      if (this.resizeHandler) {\n        this.bufferMonitor.clear();\n        this.resizeHandler.remove();\n        this.resizeHandler = null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          childrenProps = _props.childrenProps,\n          children = _props.children;\n      var child = React.Children.only(children);\n\n      if (childrenProps) {\n        var newProps = {};\n        var propList = Object.keys(childrenProps);\n        propList.forEach(function (prop) {\n          newProps[prop] = _this2.props[childrenProps[prop]];\n        });\n        return React.cloneElement(child, newProps);\n      }\n\n      return child;\n    }\n  }]);\n\n  return Align;\n}(Component);\n\nAlign.propTypes = {\n  childrenProps: PropTypes.object,\n  align: PropTypes.object.isRequired,\n  target: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    clientX: PropTypes.number,\n    clientY: PropTypes.number,\n    pageX: PropTypes.number,\n    pageY: PropTypes.number\n  })]),\n  onAlign: PropTypes.func,\n  monitorBufferTime: PropTypes.number,\n  monitorWindowResize: PropTypes.bool,\n  disabled: PropTypes.bool,\n  children: PropTypes.any\n};\nAlign.defaultProps = {\n  target: function target() {\n    return window;\n  },\n  monitorBufferTime: 50,\n  monitorWindowResize: false,\n  disabled: false\n};\nexport default Align;","// export this package's api\nimport Align from './Align';\nexport default Align;","import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n/* eslint-disable react/default-props-match-prop-types, react/no-multi-comp */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport findDOMNode from 'rc-util/es/Dom/findDOMNode';\nimport classNames from 'classnames';\nimport raf from 'raf';\nimport { getTransitionName, animationEndName, transitionEndName, supportTransition } from './util/motion';\nvar STATUS_NONE = 'none';\nvar STATUS_APPEAR = 'appear';\nvar STATUS_ENTER = 'enter';\nvar STATUS_LEAVE = 'leave';\nexport var MotionPropTypes = {\n  eventProps: PropTypes.object,\n  // Internal usage. Only pass by CSSMotionList\n  visible: PropTypes.bool,\n  children: PropTypes.func,\n  motionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  motionAppear: PropTypes.bool,\n  motionEnter: PropTypes.bool,\n  motionLeave: PropTypes.bool,\n  motionLeaveImmediately: PropTypes.bool,\n  // Trigger leave motion immediately\n  removeOnLeave: PropTypes.bool,\n  leavedClassName: PropTypes.string,\n  onAppearStart: PropTypes.func,\n  onAppearActive: PropTypes.func,\n  onAppearEnd: PropTypes.func,\n  onEnterStart: PropTypes.func,\n  onEnterActive: PropTypes.func,\n  onEnterEnd: PropTypes.func,\n  onLeaveStart: PropTypes.func,\n  onLeaveActive: PropTypes.func,\n  onLeaveEnd: PropTypes.func\n};\n/**\n * `transitionSupport` is used for none transition test case.\n * Default we use browser transition event support check.\n */\n\nexport function genCSSMotion(config) {\n  var transitionSupport = config;\n  var forwardRef = !!React.forwardRef;\n\n  if (typeof config === 'object') {\n    transitionSupport = config.transitionSupport;\n    forwardRef = 'forwardRef' in config ? config.forwardRef : forwardRef;\n  }\n\n  function isSupportTransition(props) {\n    return !!(props.motionName && transitionSupport);\n  }\n\n  var CSSMotion = function (_React$Component) {\n    _inherits(CSSMotion, _React$Component);\n\n    function CSSMotion() {\n      _classCallCheck(this, CSSMotion);\n\n      var _this = _possibleConstructorReturn(this, (CSSMotion.__proto__ || Object.getPrototypeOf(CSSMotion)).call(this));\n\n      _this.onDomUpdate = function () {\n        var _this$state = _this.state,\n            status = _this$state.status,\n            newStatus = _this$state.newStatus;\n        var _this$props = _this.props,\n            onAppearStart = _this$props.onAppearStart,\n            onEnterStart = _this$props.onEnterStart,\n            onLeaveStart = _this$props.onLeaveStart,\n            onAppearActive = _this$props.onAppearActive,\n            onEnterActive = _this$props.onEnterActive,\n            onLeaveActive = _this$props.onLeaveActive,\n            motionAppear = _this$props.motionAppear,\n            motionEnter = _this$props.motionEnter,\n            motionLeave = _this$props.motionLeave;\n\n        if (!isSupportTransition(_this.props)) {\n          return;\n        } // Event injection\n\n\n        var $ele = _this.getElement();\n\n        if (_this.$cacheEle !== $ele) {\n          _this.removeEventListener(_this.$cacheEle);\n\n          _this.addEventListener($ele);\n\n          _this.$cacheEle = $ele;\n        } // Init status\n\n\n        if (newStatus && status === STATUS_APPEAR && motionAppear) {\n          _this.updateStatus(onAppearStart, null, null, function () {\n            _this.updateActiveStatus(onAppearActive, STATUS_APPEAR);\n          });\n        } else if (newStatus && status === STATUS_ENTER && motionEnter) {\n          _this.updateStatus(onEnterStart, null, null, function () {\n            _this.updateActiveStatus(onEnterActive, STATUS_ENTER);\n          });\n        } else if (newStatus && status === STATUS_LEAVE && motionLeave) {\n          _this.updateStatus(onLeaveStart, null, null, function () {\n            _this.updateActiveStatus(onLeaveActive, STATUS_LEAVE);\n          });\n        }\n      };\n\n      _this.onMotionEnd = function (event) {\n        var _this$state2 = _this.state,\n            status = _this$state2.status,\n            statusActive = _this$state2.statusActive;\n        var _this$props2 = _this.props,\n            onAppearEnd = _this$props2.onAppearEnd,\n            onEnterEnd = _this$props2.onEnterEnd,\n            onLeaveEnd = _this$props2.onLeaveEnd;\n\n        if (status === STATUS_APPEAR && statusActive) {\n          _this.updateStatus(onAppearEnd, {\n            status: STATUS_NONE\n          }, event);\n        } else if (status === STATUS_ENTER && statusActive) {\n          _this.updateStatus(onEnterEnd, {\n            status: STATUS_NONE\n          }, event);\n        } else if (status === STATUS_LEAVE && statusActive) {\n          _this.updateStatus(onLeaveEnd, {\n            status: STATUS_NONE\n          }, event);\n        }\n      };\n\n      _this.setNodeRef = function (node) {\n        var internalRef = _this.props.internalRef;\n        _this.node = node;\n\n        if (typeof internalRef === 'function') {\n          internalRef(node);\n        } else if (internalRef && 'current' in internalRef) {\n          internalRef.current = node;\n        }\n      };\n\n      _this.getElement = function () {\n        return findDOMNode(_this.node || _this);\n      };\n\n      _this.addEventListener = function ($ele) {\n        if (!$ele) return;\n        $ele.addEventListener(transitionEndName, _this.onMotionEnd);\n        $ele.addEventListener(animationEndName, _this.onMotionEnd);\n      };\n\n      _this.removeEventListener = function ($ele) {\n        if (!$ele) return;\n        $ele.removeEventListener(transitionEndName, _this.onMotionEnd);\n        $ele.removeEventListener(animationEndName, _this.onMotionEnd);\n      };\n\n      _this.updateStatus = function (styleFunc, additionalState, event, callback) {\n        var statusStyle = styleFunc ? styleFunc(_this.getElement(), event) : null;\n        if (statusStyle === false || _this._destroyed) return;\n        var nextStep = void 0;\n\n        if (callback) {\n          nextStep = function nextStep() {\n            _this.nextFrame(callback);\n          };\n        }\n\n        _this.setState(_extends({\n          statusStyle: typeof statusStyle === 'object' ? statusStyle : null,\n          newStatus: false\n        }, additionalState), nextStep); // Trigger before next frame & after `componentDidMount`\n\n      };\n\n      _this.updateActiveStatus = function (styleFunc, currentStatus) {\n        // `setState` use `postMessage` to trigger at the end of frame.\n        // Let's use requestAnimationFrame to update new state in next frame.\n        _this.nextFrame(function () {\n          var status = _this.state.status;\n          if (status !== currentStatus) return;\n\n          _this.updateStatus(styleFunc, {\n            statusActive: true\n          });\n        });\n      };\n\n      _this.nextFrame = function (func) {\n        _this.cancelNextFrame();\n\n        _this.raf = raf(func);\n      };\n\n      _this.cancelNextFrame = function () {\n        if (_this.raf) {\n          raf.cancel(_this.raf);\n          _this.raf = null;\n        }\n      };\n\n      _this.state = {\n        status: STATUS_NONE,\n        statusActive: false,\n        newStatus: false,\n        statusStyle: null\n      };\n      _this.$cacheEle = null;\n      _this.node = null;\n      _this.raf = null;\n      return _this;\n    }\n\n    _createClass(CSSMotion, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this.onDomUpdate();\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate() {\n        this.onDomUpdate();\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        this._destroyed = true;\n        this.removeEventListener(this.$cacheEle);\n        this.cancelNextFrame();\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _classNames;\n\n        var _state = this.state,\n            status = _state.status,\n            statusActive = _state.statusActive,\n            statusStyle = _state.statusStyle;\n        var _props = this.props,\n            children = _props.children,\n            motionName = _props.motionName,\n            visible = _props.visible,\n            removeOnLeave = _props.removeOnLeave,\n            leavedClassName = _props.leavedClassName,\n            eventProps = _props.eventProps;\n        if (!children) return null;\n\n        if (status === STATUS_NONE || !isSupportTransition(this.props)) {\n          if (visible) {\n            return children(_extends({}, eventProps), this.setNodeRef);\n          } else if (!removeOnLeave) {\n            return children(_extends({}, eventProps, {\n              className: leavedClassName\n            }), this.setNodeRef);\n          }\n\n          return null;\n        }\n\n        return children(_extends({}, eventProps, {\n          className: classNames((_classNames = {}, _defineProperty(_classNames, getTransitionName(motionName, status), status !== STATUS_NONE), _defineProperty(_classNames, getTransitionName(motionName, status + '-active'), status !== STATUS_NONE && statusActive), _defineProperty(_classNames, motionName, typeof motionName === 'string'), _classNames)),\n          style: statusStyle\n        }), this.setNodeRef);\n      }\n    }], [{\n      key: 'getDerivedStateFromProps',\n      value: function getDerivedStateFromProps(props, _ref) {\n        var prevProps = _ref.prevProps,\n            prevStatus = _ref.status;\n        if (!isSupportTransition(props)) return {};\n        var visible = props.visible,\n            motionAppear = props.motionAppear,\n            motionEnter = props.motionEnter,\n            motionLeave = props.motionLeave,\n            motionLeaveImmediately = props.motionLeaveImmediately;\n        var newState = {\n          prevProps: props\n        }; // Clean up status if prop set to false\n\n        if (prevStatus === STATUS_APPEAR && !motionAppear || prevStatus === STATUS_ENTER && !motionEnter || prevStatus === STATUS_LEAVE && !motionLeave) {\n          newState.status = STATUS_NONE;\n          newState.statusActive = false;\n          newState.newStatus = false;\n        } // Appear\n\n\n        if (!prevProps && visible && motionAppear) {\n          newState.status = STATUS_APPEAR;\n          newState.statusActive = false;\n          newState.newStatus = true;\n        } // Enter\n\n\n        if (prevProps && !prevProps.visible && visible && motionEnter) {\n          newState.status = STATUS_ENTER;\n          newState.statusActive = false;\n          newState.newStatus = true;\n        } // Leave\n\n\n        if (prevProps && prevProps.visible && !visible && motionLeave || !prevProps && motionLeaveImmediately && !visible && motionLeave) {\n          newState.status = STATUS_LEAVE;\n          newState.statusActive = false;\n          newState.newStatus = true;\n        }\n\n        return newState;\n      }\n    }]);\n\n    return CSSMotion;\n  }(React.Component);\n\n  CSSMotion.propTypes = _extends({}, MotionPropTypes, {\n    internalRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func])\n  });\n  CSSMotion.defaultProps = {\n    visible: true,\n    motionEnter: true,\n    motionAppear: true,\n    motionLeave: true,\n    removeOnLeave: true\n  };\n  polyfill(CSSMotion);\n\n  if (!forwardRef) {\n    return CSSMotion;\n  }\n\n  return React.forwardRef(function (props, ref) {\n    return React.createElement(CSSMotion, _extends({\n      internalRef: ref\n    }, props));\n  });\n}\nexport default genCSSMotion(supportTransition);","import ReactDOM from 'react-dom';\n/**\n * Return if a node is a DOM node. Else will return by `findDOMNode`\n */\n\nexport default function findDOMNode(node) {\n  if (node instanceof HTMLElement) {\n    return node;\n  }\n\n  return ReactDOM.findDOMNode(node);\n}","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n} // MIT License from https://github.com/kaimallea/isMobile\n\n\nvar applePhone = /iPhone/i;\nvar appleIpod = /iPod/i;\nvar appleTablet = /iPad/i;\nvar androidPhone = /\\bAndroid(?:.+)Mobile\\b/i; // Match 'Android' AND 'Mobile'\n\nvar androidTablet = /Android/i;\nvar amazonPhone = /\\bAndroid(?:.+)SD4930UR\\b/i;\nvar amazonTablet = /\\bAndroid(?:.+)(?:KF[A-Z]{2,4})\\b/i;\nvar windowsPhone = /Windows Phone/i;\nvar windowsTablet = /\\bWindows(?:.+)ARM\\b/i; // Match 'Windows' AND 'ARM'\n\nvar otherBlackberry = /BlackBerry/i;\nvar otherBlackberry10 = /BB10/i;\nvar otherOpera = /Opera Mini/i;\nvar otherChrome = /\\b(CriOS|Chrome)(?:.+)Mobile/i;\nvar otherFirefox = /Mobile(?:.+)Firefox\\b/i; // Match 'Mobile' AND 'Firefox'\n\nfunction match(regex, userAgent) {\n  return regex.test(userAgent);\n}\n\nfunction isMobile(userAgent) {\n  var ua = userAgent || (typeof navigator !== 'undefined' ? navigator.userAgent : ''); // Facebook mobile app's integrated browser adds a bunch of strings that\n  // match everything. Strip it out if it exists.\n\n  var tmp = ua.split('[FBAN');\n\n  if (typeof tmp[1] !== 'undefined') {\n    var _tmp = tmp;\n\n    var _tmp2 = _slicedToArray(_tmp, 1);\n\n    ua = _tmp2[0];\n  } // Twitter mobile app's integrated browser on iPad adds a \"Twitter for\n  // iPhone\" string. Same probably happens on other tablet platforms.\n  // This will confuse detection so strip it out if it exists.\n\n\n  tmp = ua.split('Twitter');\n\n  if (typeof tmp[1] !== 'undefined') {\n    var _tmp3 = tmp;\n\n    var _tmp4 = _slicedToArray(_tmp3, 1);\n\n    ua = _tmp4[0];\n  }\n\n  var result = {\n    apple: {\n      phone: match(applePhone, ua) && !match(windowsPhone, ua),\n      ipod: match(appleIpod, ua),\n      tablet: !match(applePhone, ua) && match(appleTablet, ua) && !match(windowsPhone, ua),\n      device: (match(applePhone, ua) || match(appleIpod, ua) || match(appleTablet, ua)) && !match(windowsPhone, ua)\n    },\n    amazon: {\n      phone: match(amazonPhone, ua),\n      tablet: !match(amazonPhone, ua) && match(amazonTablet, ua),\n      device: match(amazonPhone, ua) || match(amazonTablet, ua)\n    },\n    android: {\n      phone: !match(windowsPhone, ua) && match(amazonPhone, ua) || !match(windowsPhone, ua) && match(androidPhone, ua),\n      tablet: !match(windowsPhone, ua) && !match(amazonPhone, ua) && !match(androidPhone, ua) && (match(amazonTablet, ua) || match(androidTablet, ua)),\n      device: !match(windowsPhone, ua) && (match(amazonPhone, ua) || match(amazonTablet, ua) || match(androidPhone, ua) || match(androidTablet, ua)) || match(/\\bokhttp\\b/i, ua)\n    },\n    windows: {\n      phone: match(windowsPhone, ua),\n      tablet: match(windowsTablet, ua),\n      device: match(windowsPhone, ua) || match(windowsTablet, ua)\n    },\n    other: {\n      blackberry: match(otherBlackberry, ua),\n      blackberry10: match(otherBlackberry10, ua),\n      opera: match(otherOpera, ua),\n      firefox: match(otherFirefox, ua),\n      chrome: match(otherChrome, ua),\n      device: match(otherBlackberry, ua) || match(otherBlackberry10, ua) || match(otherOpera, ua) || match(otherFirefox, ua) || match(otherChrome, ua)\n    },\n    // Additional\n    any: null,\n    phone: null,\n    tablet: null\n  };\n  result.any = result.apple.device || result.android.device || result.windows.device || result.other.device; // excludes 'other' devices and ipods, targeting touchscreen phones\n\n  result.phone = result.apple.phone || result.android.phone || result.windows.phone;\n  result.tablet = result.apple.tablet || result.android.tablet || result.windows.tablet;\n  return result;\n}\n\nvar defaultResult = _objectSpread({}, isMobile(), {\n  isMobile: isMobile\n});\n\nexport default defaultResult;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nimport * as React from 'react';\nimport isMobile from './utils/isMobile';\nexport function noop() {}\nexport function getKeyFromChildrenIndex(child, menuEventKey, index) {\n  var prefix = menuEventKey || '';\n  return child.key || \"\".concat(prefix, \"item_\").concat(index);\n}\nexport function getMenuIdFromSubMenuEventKey(eventKey) {\n  return \"\".concat(eventKey, \"-menu-\");\n}\nexport function loopMenuItem(children, cb) {\n  var index = -1;\n  React.Children.forEach(children, function (c) {\n    index += 1;\n\n    if (c && c.type && c.type.isMenuItemGroup) {\n      React.Children.forEach(c.props.children, function (c2) {\n        index += 1;\n        cb(c2, index);\n      });\n    } else {\n      cb(c, index);\n    }\n  });\n}\nexport function loopMenuItemRecursively(children, keys, ret) {\n  /* istanbul ignore if */\n  if (!children || ret.find) {\n    return;\n  }\n\n  React.Children.forEach(children, function (c) {\n    if (c) {\n      var construct = c.type;\n\n      if (!construct || !(construct.isSubMenu || construct.isMenuItem || construct.isMenuItemGroup)) {\n        return;\n      }\n\n      if (keys.indexOf(c.key) !== -1) {\n        ret.find = true;\n      } else if (c.props.children) {\n        loopMenuItemRecursively(c.props.children, keys, ret);\n      }\n    }\n  });\n}\nexport var menuAllProps = ['defaultSelectedKeys', 'selectedKeys', 'defaultOpenKeys', 'openKeys', 'mode', 'getPopupContainer', 'onSelect', 'onDeselect', 'onDestroy', 'openTransitionName', 'openAnimation', 'subMenuOpenDelay', 'subMenuCloseDelay', 'forceSubMenuRender', 'triggerSubMenuAction', 'level', 'selectable', 'multiple', 'onOpenChange', 'visible', 'focusable', 'defaultActiveFirst', 'prefixCls', 'inlineIndent', 'parentMenu', 'title', 'rootPrefixCls', 'eventKey', 'active', 'onItemHover', 'onTitleMouseEnter', 'onTitleMouseLeave', 'onTitleClick', 'popupAlign', 'popupOffset', 'isOpen', 'renderMenuItem', 'manualRef', 'subMenuKey', 'disabled', 'index', 'isSelected', 'store', 'activeKey', 'builtinPlacements', 'overflowedIndicator', 'motion', // the following keys found need to be removed from test regression\n'attribute', 'value', 'popupClassName', 'inlineCollapsed', 'menu', 'theme', 'itemIcon', 'expandIcon']; // ref: https://github.com/ant-design/ant-design/issues/14007\n// ref: https://bugs.chromium.org/p/chromium/issues/detail?id=360889\n// getBoundingClientRect return the full precision value, which is\n// not the same behavior as on chrome. Set the precision to 6 to\n// unify their behavior\n\nexport var getWidth = function getWidth(elem) {\n  var width = elem && typeof elem.getBoundingClientRect === 'function' && elem.getBoundingClientRect().width;\n\n  if (width) {\n    width = +width.toFixed(6);\n  }\n\n  return width || 0;\n};\nexport var setStyle = function setStyle(elem, styleProperty, value) {\n  if (elem && _typeof(elem.style) === 'object') {\n    elem.style[styleProperty] = value;\n  }\n};\nexport var isMobileDevice = function isMobileDevice() {\n  return isMobile.any;\n};","var autoAdjustOverflow = {\n  adjustX: 1,\n  adjustY: 1\n};\nexport var placements = {\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -7]\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 7]\n  },\n  leftTop: {\n    points: ['tr', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0]\n  },\n  rightTop: {\n    points: ['tl', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0]\n  }\n};\nexport default placements;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport Trigger from 'rc-trigger';\nimport KeyCode from \"rc-util/es/KeyCode\"; // import Animate from 'rc-animate';\n\nimport CSSMotion from \"rc-animate/es/CSSMotion\";\nimport classNames from 'classnames';\nimport { connect } from 'mini-store';\nimport SubPopupMenu from './SubPopupMenu';\nimport placements from './placements';\nimport { noop, loopMenuItemRecursively, getMenuIdFromSubMenuEventKey, menuAllProps } from './util';\nvar guid = 0;\nvar popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop'\n};\n\nvar updateDefaultActiveFirst = function updateDefaultActiveFirst(store, eventKey, defaultActiveFirst) {\n  var menuId = getMenuIdFromSubMenuEventKey(eventKey);\n  var state = store.getState();\n  store.setState({\n    defaultActiveFirst: _objectSpread({}, state.defaultActiveFirst, _defineProperty({}, menuId, defaultActiveFirst))\n  });\n};\n\nexport var SubMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SubMenu, _React$Component);\n\n  function SubMenu(props) {\n    var _this;\n\n    _classCallCheck(this, SubMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SubMenu).call(this, props));\n\n    _this.onDestroy = function (key) {\n      _this.props.onDestroy(key);\n    };\n    /**\n     * note:\n     *  This legacy code that `onKeyDown` is called by parent instead of dom self.\n     *  which need return code to check if this event is handled\n     */\n\n\n    _this.onKeyDown = function (e) {\n      var keyCode = e.keyCode;\n      var menu = _this.menuInstance;\n      var _this$props = _this.props,\n          isOpen = _this$props.isOpen,\n          store = _this$props.store;\n\n      if (keyCode === KeyCode.ENTER) {\n        _this.onTitleClick(e);\n\n        updateDefaultActiveFirst(store, _this.props.eventKey, true);\n        return true;\n      }\n\n      if (keyCode === KeyCode.RIGHT) {\n        if (isOpen) {\n          menu.onKeyDown(e);\n        } else {\n          _this.triggerOpenChange(true); // need to update current menu's defaultActiveFirst value\n\n\n          updateDefaultActiveFirst(store, _this.props.eventKey, true);\n        }\n\n        return true;\n      }\n\n      if (keyCode === KeyCode.LEFT) {\n        var handled;\n\n        if (isOpen) {\n          handled = menu.onKeyDown(e);\n        } else {\n          return undefined;\n        }\n\n        if (!handled) {\n          _this.triggerOpenChange(false);\n\n          handled = true;\n        }\n\n        return handled;\n      }\n\n      if (isOpen && (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN)) {\n        return menu.onKeyDown(e);\n      }\n\n      return undefined;\n    };\n\n    _this.onOpenChange = function (e) {\n      _this.props.onOpenChange(e);\n    };\n\n    _this.onPopupVisibleChange = function (visible) {\n      _this.triggerOpenChange(visible, visible ? 'mouseenter' : 'mouseleave');\n    };\n\n    _this.onMouseEnter = function (e) {\n      var _this$props2 = _this.props,\n          key = _this$props2.eventKey,\n          onMouseEnter = _this$props2.onMouseEnter,\n          store = _this$props2.store;\n      updateDefaultActiveFirst(store, _this.props.eventKey, false);\n      onMouseEnter({\n        key: key,\n        domEvent: e\n      });\n    };\n\n    _this.onMouseLeave = function (e) {\n      var _this$props3 = _this.props,\n          parentMenu = _this$props3.parentMenu,\n          eventKey = _this$props3.eventKey,\n          onMouseLeave = _this$props3.onMouseLeave;\n      parentMenu.subMenuInstance = _assertThisInitialized(_this);\n      onMouseLeave({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n\n    _this.onTitleMouseEnter = function (domEvent) {\n      var _this$props4 = _this.props,\n          key = _this$props4.eventKey,\n          onItemHover = _this$props4.onItemHover,\n          onTitleMouseEnter = _this$props4.onTitleMouseEnter;\n      onItemHover({\n        key: key,\n        hover: true\n      });\n      onTitleMouseEnter({\n        key: key,\n        domEvent: domEvent\n      });\n    };\n\n    _this.onTitleMouseLeave = function (e) {\n      var _this$props5 = _this.props,\n          parentMenu = _this$props5.parentMenu,\n          eventKey = _this$props5.eventKey,\n          onItemHover = _this$props5.onItemHover,\n          onTitleMouseLeave = _this$props5.onTitleMouseLeave;\n      parentMenu.subMenuInstance = _assertThisInitialized(_this);\n      onItemHover({\n        key: eventKey,\n        hover: false\n      });\n      onTitleMouseLeave({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n\n    _this.onTitleClick = function (e) {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props;\n\n      props.onTitleClick({\n        key: props.eventKey,\n        domEvent: e\n      });\n\n      if (props.triggerSubMenuAction === 'hover') {\n        return;\n      }\n\n      _this.triggerOpenChange(!props.isOpen, 'click');\n\n      updateDefaultActiveFirst(props.store, _this.props.eventKey, false);\n    };\n\n    _this.onSubMenuClick = function (info) {\n      // in the case of overflowed submenu\n      // onClick is not copied over\n      if (typeof _this.props.onClick === 'function') {\n        _this.props.onClick(_this.addKeyPath(info));\n      }\n    };\n\n    _this.onSelect = function (info) {\n      _this.props.onSelect(info);\n    };\n\n    _this.onDeselect = function (info) {\n      _this.props.onDeselect(info);\n    };\n\n    _this.getPrefixCls = function () {\n      return \"\".concat(_this.props.rootPrefixCls, \"-submenu\");\n    };\n\n    _this.getActiveClassName = function () {\n      return \"\".concat(_this.getPrefixCls(), \"-active\");\n    };\n\n    _this.getDisabledClassName = function () {\n      return \"\".concat(_this.getPrefixCls(), \"-disabled\");\n    };\n\n    _this.getSelectedClassName = function () {\n      return \"\".concat(_this.getPrefixCls(), \"-selected\");\n    };\n\n    _this.getOpenClassName = function () {\n      return \"\".concat(_this.props.rootPrefixCls, \"-submenu-open\");\n    };\n\n    _this.saveMenuInstance = function (c) {\n      // children menu instance\n      _this.menuInstance = c;\n    };\n\n    _this.addKeyPath = function (info) {\n      return _objectSpread({}, info, {\n        keyPath: (info.keyPath || []).concat(_this.props.eventKey)\n      });\n    };\n\n    _this.triggerOpenChange = function (open, type) {\n      var key = _this.props.eventKey;\n\n      var openChange = function openChange() {\n        _this.onOpenChange({\n          key: key,\n          item: _assertThisInitialized(_this),\n          trigger: type,\n          open: open\n        });\n      };\n\n      if (type === 'mouseenter') {\n        // make sure mouseenter happen after other menu item's mouseleave\n        _this.mouseenterTimeout = setTimeout(function () {\n          openChange();\n        }, 0);\n      } else {\n        openChange();\n      }\n    };\n\n    _this.isChildrenSelected = function () {\n      var ret = {\n        find: false\n      };\n      loopMenuItemRecursively(_this.props.children, _this.props.selectedKeys, ret);\n      return ret.find;\n    };\n\n    _this.isOpen = function () {\n      return _this.props.openKeys.indexOf(_this.props.eventKey) !== -1;\n    };\n\n    _this.adjustWidth = function () {\n      /* istanbul ignore if */\n      if (!_this.subMenuTitle || !_this.menuInstance) {\n        return;\n      }\n\n      var popupMenu = ReactDOM.findDOMNode(_this.menuInstance);\n\n      if (popupMenu.offsetWidth >= _this.subMenuTitle.offsetWidth) {\n        return;\n      }\n      /* istanbul ignore next */\n\n\n      popupMenu.style.minWidth = \"\".concat(_this.subMenuTitle.offsetWidth, \"px\");\n    };\n\n    _this.saveSubMenuTitle = function (subMenuTitle) {\n      _this.subMenuTitle = subMenuTitle;\n    };\n\n    var store = props.store,\n        eventKey = props.eventKey;\n\n    var _store$getState = store.getState(),\n        defaultActiveFirst = _store$getState.defaultActiveFirst;\n\n    _this.isRootMenu = false;\n    var value = false;\n\n    if (defaultActiveFirst) {\n      value = defaultActiveFirst[eventKey];\n    }\n\n    updateDefaultActiveFirst(store, eventKey, value);\n    return _this;\n  }\n\n  _createClass(SubMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.componentDidUpdate();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      var _this$props6 = this.props,\n          mode = _this$props6.mode,\n          parentMenu = _this$props6.parentMenu,\n          manualRef = _this$props6.manualRef; // invoke customized ref to expose component to mixin\n\n      if (manualRef) {\n        manualRef(this);\n      }\n\n      if (mode !== 'horizontal' || !parentMenu.isRootMenu || !this.props.isOpen) {\n        return;\n      }\n\n      this.minWidthTimeout = setTimeout(function () {\n        return _this2.adjustWidth();\n      }, 0);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$props7 = this.props,\n          onDestroy = _this$props7.onDestroy,\n          eventKey = _this$props7.eventKey;\n\n      if (onDestroy) {\n        onDestroy(eventKey);\n      }\n      /* istanbul ignore if */\n\n\n      if (this.minWidthTimeout) {\n        clearTimeout(this.minWidthTimeout);\n      }\n      /* istanbul ignore if */\n\n\n      if (this.mouseenterTimeout) {\n        clearTimeout(this.mouseenterTimeout);\n      }\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren(children) {\n      var _this3 = this;\n\n      var props = this.props;\n      var baseProps = {\n        mode: props.mode === 'horizontal' ? 'vertical' : props.mode,\n        visible: this.props.isOpen,\n        level: props.level + 1,\n        inlineIndent: props.inlineIndent,\n        focusable: false,\n        onClick: this.onSubMenuClick,\n        onSelect: this.onSelect,\n        onDeselect: this.onDeselect,\n        onDestroy: this.onDestroy,\n        selectedKeys: props.selectedKeys,\n        eventKey: \"\".concat(props.eventKey, \"-menu-\"),\n        openKeys: props.openKeys,\n        motion: props.motion,\n        onOpenChange: this.onOpenChange,\n        subMenuOpenDelay: props.subMenuOpenDelay,\n        parentMenu: this,\n        subMenuCloseDelay: props.subMenuCloseDelay,\n        forceSubMenuRender: props.forceSubMenuRender,\n        triggerSubMenuAction: props.triggerSubMenuAction,\n        builtinPlacements: props.builtinPlacements,\n        defaultActiveFirst: props.store.getState().defaultActiveFirst[getMenuIdFromSubMenuEventKey(props.eventKey)],\n        multiple: props.multiple,\n        prefixCls: props.rootPrefixCls,\n        id: this.internalMenuId,\n        manualRef: this.saveMenuInstance,\n        itemIcon: props.itemIcon,\n        expandIcon: props.expandIcon\n      };\n      var haveRendered = this.haveRendered;\n      this.haveRendered = true;\n      this.haveOpened = this.haveOpened || baseProps.visible || baseProps.forceSubMenuRender; // never rendered not planning to, don't render\n\n      if (!this.haveOpened) {\n        return React.createElement(\"div\", null);\n      } // ================== Motion ==================\n      // don't show transition on first rendering (no animation for opened menu)\n      // show appear transition if it's not visible (not sure why)\n      // show appear transition if it's not inline mode\n\n\n      var mergedMotion = _objectSpread({}, props.motion, {\n        leavedClassName: \"\".concat(props.rootPrefixCls, \"-hidden\"),\n        removeOnLeave: false,\n        motionAppear: haveRendered || !baseProps.visible || baseProps.mode !== 'inline'\n      });\n\n      return React.createElement(CSSMotion, Object.assign({\n        visible: baseProps.visible\n      }, mergedMotion), function (_ref) {\n        var className = _ref.className,\n            style = _ref.style;\n        var mergedClassName = classNames(\"\".concat(baseProps.prefixCls, \"-sub\"), className);\n        return React.createElement(SubPopupMenu, Object.assign({}, baseProps, {\n          id: _this3.internalMenuId,\n          className: mergedClassName,\n          style: style\n        }), children);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames;\n\n      var props = _objectSpread({}, this.props);\n\n      var isOpen = props.isOpen;\n      var prefixCls = this.getPrefixCls();\n      var isInlineMode = props.mode === 'inline';\n      var className = classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(props.mode), (_classNames = {}, _defineProperty(_classNames, props.className, !!props.className), _defineProperty(_classNames, this.getOpenClassName(), isOpen), _defineProperty(_classNames, this.getActiveClassName(), props.active || isOpen && !isInlineMode), _defineProperty(_classNames, this.getDisabledClassName(), props.disabled), _defineProperty(_classNames, this.getSelectedClassName(), this.isChildrenSelected()), _classNames));\n\n      if (!this.internalMenuId) {\n        if (props.eventKey) {\n          this.internalMenuId = \"\".concat(props.eventKey, \"$Menu\");\n        } else {\n          guid += 1;\n          this.internalMenuId = \"$__$\".concat(guid, \"$Menu\");\n        }\n      }\n\n      var mouseEvents = {};\n      var titleClickEvents = {};\n      var titleMouseEvents = {};\n\n      if (!props.disabled) {\n        mouseEvents = {\n          onMouseLeave: this.onMouseLeave,\n          onMouseEnter: this.onMouseEnter\n        }; // only works in title, not outer li\n\n        titleClickEvents = {\n          onClick: this.onTitleClick\n        };\n        titleMouseEvents = {\n          onMouseEnter: this.onTitleMouseEnter,\n          onMouseLeave: this.onTitleMouseLeave\n        };\n      }\n\n      var style = {};\n\n      if (isInlineMode) {\n        style.paddingLeft = props.inlineIndent * props.level;\n      }\n\n      var ariaOwns = {}; // only set aria-owns when menu is open\n      // otherwise it would be an invalid aria-owns value\n      // since corresponding node cannot be found\n\n      if (this.props.isOpen) {\n        ariaOwns = {\n          'aria-owns': this.internalMenuId\n        };\n      } // expand custom icon should NOT be displayed in menu with horizontal mode.\n\n\n      var icon = null;\n\n      if (props.mode !== 'horizontal') {\n        icon = this.props.expandIcon; // ReactNode\n\n        if (typeof this.props.expandIcon === 'function') {\n          icon = React.createElement(this.props.expandIcon, _objectSpread({}, this.props));\n        }\n      }\n\n      var title = React.createElement(\"div\", Object.assign({\n        ref: this.saveSubMenuTitle,\n        style: style,\n        className: \"\".concat(prefixCls, \"-title\")\n      }, titleMouseEvents, titleClickEvents, {\n        \"aria-expanded\": isOpen\n      }, ariaOwns, {\n        \"aria-haspopup\": \"true\",\n        title: typeof props.title === 'string' ? props.title : undefined\n      }), props.title, icon || React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow\")\n      }));\n      var children = this.renderChildren(props.children);\n      var getPopupContainer = props.parentMenu.isRootMenu ? props.parentMenu.props.getPopupContainer : function (triggerNode) {\n        return triggerNode.parentNode;\n      };\n      var popupPlacement = popupPlacementMap[props.mode];\n      var popupAlign = props.popupOffset ? {\n        offset: props.popupOffset\n      } : {};\n      var popupClassName = props.mode === 'inline' ? '' : props.popupClassName;\n      var disabled = props.disabled,\n          triggerSubMenuAction = props.triggerSubMenuAction,\n          subMenuOpenDelay = props.subMenuOpenDelay,\n          forceSubMenuRender = props.forceSubMenuRender,\n          subMenuCloseDelay = props.subMenuCloseDelay,\n          builtinPlacements = props.builtinPlacements;\n      menuAllProps.forEach(function (key) {\n        return delete props[key];\n      }); // Set onClick to null, to ignore propagated onClick event\n\n      delete props.onClick;\n      return React.createElement(\"li\", Object.assign({}, props, mouseEvents, {\n        className: className,\n        role: \"menuitem\"\n      }), isInlineMode && title, isInlineMode && children, !isInlineMode && React.createElement(Trigger, {\n        prefixCls: prefixCls,\n        popupClassName: \"\".concat(prefixCls, \"-popup \").concat(popupClassName),\n        getPopupContainer: getPopupContainer,\n        builtinPlacements: Object.assign({}, placements, builtinPlacements),\n        popupPlacement: popupPlacement,\n        popupVisible: isOpen,\n        popupAlign: popupAlign,\n        popup: children,\n        action: disabled ? [] : [triggerSubMenuAction],\n        mouseEnterDelay: subMenuOpenDelay,\n        mouseLeaveDelay: subMenuCloseDelay,\n        onPopupVisibleChange: this.onPopupVisibleChange,\n        forceRender: forceSubMenuRender\n      }, title));\n    }\n  }]);\n\n  return SubMenu;\n}(React.Component);\nSubMenu.defaultProps = {\n  onMouseEnter: noop,\n  onMouseLeave: noop,\n  onTitleMouseEnter: noop,\n  onTitleMouseLeave: noop,\n  onTitleClick: noop,\n  manualRef: noop,\n  mode: 'vertical',\n  title: ''\n};\nvar connected = connect(function (_ref2, _ref3) {\n  var openKeys = _ref2.openKeys,\n      activeKey = _ref2.activeKey,\n      selectedKeys = _ref2.selectedKeys;\n  var eventKey = _ref3.eventKey,\n      subMenuKey = _ref3.subMenuKey;\n  return {\n    isOpen: openKeys.indexOf(eventKey) > -1,\n    active: activeKey[subMenuKey] === eventKey,\n    selectedKeys: selectedKeys\n  };\n})(SubMenu);\nconnected.isSubMenu = true;\nexport default connected;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport SubMenu from './SubMenu';\nimport { getWidth, setStyle, menuAllProps } from './util';\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nvar MENUITEM_OVERFLOWED_CLASSNAME = 'menuitem-overflowed';\nvar FLOAT_PRECISION_ADJUST = 0.5; // Fix ssr\n\nif (canUseDOM) {\n  // eslint-disable-next-line global-require\n  require('mutationobserver-shim');\n}\n\nvar DOMWrap =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DOMWrap, _React$Component);\n\n  function DOMWrap() {\n    var _this;\n\n    _classCallCheck(this, DOMWrap);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DOMWrap).apply(this, arguments));\n    _this.resizeObserver = null;\n    _this.mutationObserver = null; // original scroll size of the list\n\n    _this.originalTotalWidth = 0; // copy of overflowed items\n\n    _this.overflowedItems = []; // cache item of the original items (so we can track the size and order)\n\n    _this.menuItemSizes = [];\n    _this.state = {\n      lastVisibleIndex: undefined\n    }; // get all valid menuItem nodes\n\n    _this.getMenuItemNodes = function () {\n      var prefixCls = _this.props.prefixCls;\n      var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this));\n\n      if (!ul) {\n        return [];\n      } // filter out all overflowed indicator placeholder\n\n\n      return [].slice.call(ul.children).filter(function (node) {\n        return node.className.split(' ').indexOf(\"\".concat(prefixCls, \"-overflowed-submenu\")) < 0;\n      });\n    };\n\n    _this.getOverflowedSubMenuItem = function (keyPrefix, overflowedItems, renderPlaceholder) {\n      var _this$props = _this.props,\n          overflowedIndicator = _this$props.overflowedIndicator,\n          level = _this$props.level,\n          mode = _this$props.mode,\n          prefixCls = _this$props.prefixCls,\n          theme = _this$props.theme;\n\n      if (level !== 1 || mode !== 'horizontal') {\n        return null;\n      } // put all the overflowed item inside a submenu\n      // with a title of overflow indicator ('...')\n\n\n      var copy = _this.props.children[0];\n\n      var _copy$props = copy.props,\n          throwAway = _copy$props.children,\n          title = _copy$props.title,\n          propStyle = _copy$props.style,\n          rest = _objectWithoutProperties(_copy$props, [\"children\", \"title\", \"style\"]);\n\n      var style = _objectSpread({}, propStyle);\n\n      var key = \"\".concat(keyPrefix, \"-overflowed-indicator\");\n      var eventKey = \"\".concat(keyPrefix, \"-overflowed-indicator\");\n\n      if (overflowedItems.length === 0 && renderPlaceholder !== true) {\n        style = _objectSpread({}, style, {\n          display: 'none'\n        });\n      } else if (renderPlaceholder) {\n        style = _objectSpread({}, style, {\n          visibility: 'hidden',\n          // prevent from taking normal dom space\n          position: 'absolute'\n        });\n        key = \"\".concat(key, \"-placeholder\");\n        eventKey = \"\".concat(eventKey, \"-placeholder\");\n      }\n\n      var popupClassName = theme ? \"\".concat(prefixCls, \"-\").concat(theme) : '';\n      var props = {};\n      menuAllProps.forEach(function (k) {\n        if (rest[k] !== undefined) {\n          props[k] = rest[k];\n        }\n      });\n      return React.createElement(SubMenu, Object.assign({\n        title: overflowedIndicator,\n        className: \"\".concat(prefixCls, \"-overflowed-submenu\"),\n        popupClassName: popupClassName\n      }, props, {\n        key: key,\n        eventKey: eventKey,\n        disabled: false,\n        style: style\n      }), overflowedItems);\n    }; // memorize rendered menuSize\n\n\n    _this.setChildrenWidthAndResize = function () {\n      if (_this.props.mode !== 'horizontal') {\n        return;\n      }\n\n      var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this));\n\n      if (!ul) {\n        return;\n      }\n\n      var ulChildrenNodes = ul.children;\n\n      if (!ulChildrenNodes || ulChildrenNodes.length === 0) {\n        return;\n      }\n\n      var lastOverflowedIndicatorPlaceholder = ul.children[ulChildrenNodes.length - 1]; // need last overflowed indicator for calculating length;\n\n      setStyle(lastOverflowedIndicatorPlaceholder, 'display', 'inline-block');\n\n      var menuItemNodes = _this.getMenuItemNodes(); // reset display attribute for all hidden elements caused by overflow to calculate updated width\n      // and then reset to original state after width calculation\n\n\n      var overflowedItems = menuItemNodes.filter(function (c) {\n        return c.className.split(' ').indexOf(MENUITEM_OVERFLOWED_CLASSNAME) >= 0;\n      });\n      overflowedItems.forEach(function (c) {\n        setStyle(c, 'display', 'inline-block');\n      });\n      _this.menuItemSizes = menuItemNodes.map(function (c) {\n        return getWidth(c);\n      });\n      overflowedItems.forEach(function (c) {\n        setStyle(c, 'display', 'none');\n      });\n      _this.overflowedIndicatorWidth = getWidth(ul.children[ul.children.length - 1]);\n      _this.originalTotalWidth = _this.menuItemSizes.reduce(function (acc, cur) {\n        return acc + cur;\n      }, 0);\n\n      _this.handleResize(); // prevent the overflowed indicator from taking space;\n\n\n      setStyle(lastOverflowedIndicatorPlaceholder, 'display', 'none');\n    };\n\n    _this.handleResize = function () {\n      if (_this.props.mode !== 'horizontal') {\n        return;\n      }\n\n      var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this));\n\n      if (!ul) {\n        return;\n      }\n\n      var width = getWidth(ul);\n      _this.overflowedItems = [];\n      var currentSumWidth = 0; // index for last visible child in horizontal mode\n\n      var lastVisibleIndex; // float number comparison could be problematic\n      // e.g. 0.1 + 0.2 > 0.3 =====> true\n      // thus using FLOAT_PRECISION_ADJUST as buffer to help the situation\n\n      if (_this.originalTotalWidth > width + FLOAT_PRECISION_ADJUST) {\n        lastVisibleIndex = -1;\n\n        _this.menuItemSizes.forEach(function (liWidth) {\n          currentSumWidth += liWidth;\n\n          if (currentSumWidth + _this.overflowedIndicatorWidth <= width) {\n            lastVisibleIndex += 1;\n          }\n        });\n      }\n\n      _this.setState({\n        lastVisibleIndex: lastVisibleIndex\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(DOMWrap, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setChildrenWidthAndResize();\n\n      if (this.props.level === 1 && this.props.mode === 'horizontal') {\n        var menuUl = ReactDOM.findDOMNode(this);\n\n        if (!menuUl) {\n          return;\n        }\n\n        this.resizeObserver = new ResizeObserver(function (entries) {\n          entries.forEach(_this2.setChildrenWidthAndResize);\n        });\n        [].slice.call(menuUl.children).concat(menuUl).forEach(function (el) {\n          _this2.resizeObserver.observe(el);\n        });\n\n        if (typeof MutationObserver !== 'undefined') {\n          this.mutationObserver = new MutationObserver(function () {\n            _this2.resizeObserver.disconnect();\n\n            [].slice.call(menuUl.children).concat(menuUl).forEach(function (el) {\n              _this2.resizeObserver.observe(el);\n            });\n\n            _this2.setChildrenWidthAndResize();\n          });\n          this.mutationObserver.observe(menuUl, {\n            attributes: false,\n            childList: true,\n            subTree: false\n          });\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.resizeObserver) {\n        this.resizeObserver.disconnect();\n      }\n\n      if (this.mutationObserver) {\n        this.resizeObserver.disconnect();\n      }\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren(children) {\n      var _this3 = this; // need to take care of overflowed items in horizontal mode\n\n\n      var lastVisibleIndex = this.state.lastVisibleIndex;\n      return (children || []).reduce(function (acc, childNode, index) {\n        var item = childNode;\n\n        if (_this3.props.mode === 'horizontal') {\n          var overflowed = _this3.getOverflowedSubMenuItem(childNode.props.eventKey, []);\n\n          if (lastVisibleIndex !== undefined && _this3.props.className.indexOf(\"\".concat(_this3.props.prefixCls, \"-root\")) !== -1) {\n            if (index > lastVisibleIndex) {\n              item = React.cloneElement(childNode, // 这里修改 eventKey 是为了防止隐藏状态下还会触发 openkeys 事件\n              {\n                style: {\n                  display: 'none'\n                },\n                eventKey: \"\".concat(childNode.props.eventKey, \"-hidden\"),\n\n                /**\n                 * Legacy code. Here `className` never used:\n                 * https://github.com/react-component/menu/commit/4cd6b49fce9d116726f4ea00dda85325d6f26500#diff-e2fa48f75c2dd2318295cde428556a76R240\n                 */\n                className: \"\".concat(MENUITEM_OVERFLOWED_CLASSNAME)\n              });\n            }\n\n            if (index === lastVisibleIndex + 1) {\n              _this3.overflowedItems = children.slice(lastVisibleIndex + 1).map(function (c) {\n                return React.cloneElement(c, // children[index].key will become '.$key' in clone by default,\n                // we have to overwrite with the correct key explicitly\n                {\n                  key: c.props.eventKey,\n                  mode: 'vertical-left'\n                });\n              });\n              overflowed = _this3.getOverflowedSubMenuItem(childNode.props.eventKey, _this3.overflowedItems);\n            }\n          }\n\n          var ret = [].concat(_toConsumableArray(acc), [overflowed, item]);\n\n          if (index === children.length - 1) {\n            // need a placeholder for calculating overflowed indicator width\n            ret.push(_this3.getOverflowedSubMenuItem(childNode.props.eventKey, [], true));\n          }\n\n          return ret;\n        }\n\n        return [].concat(_toConsumableArray(acc), [item]);\n      }, []);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          visible = _this$props2.visible,\n          prefixCls = _this$props2.prefixCls,\n          overflowedIndicator = _this$props2.overflowedIndicator,\n          mode = _this$props2.mode,\n          level = _this$props2.level,\n          tag = _this$props2.tag,\n          children = _this$props2.children,\n          theme = _this$props2.theme,\n          rest = _objectWithoutProperties(_this$props2, [\"visible\", \"prefixCls\", \"overflowedIndicator\", \"mode\", \"level\", \"tag\", \"children\", \"theme\"]);\n\n      var Tag = tag;\n      return React.createElement(Tag, Object.assign({}, rest), this.renderChildren(children));\n    }\n  }]);\n\n  return DOMWrap;\n}(React.Component);\n\nDOMWrap.defaultProps = {\n  tag: 'div',\n  className: ''\n};\nexport default DOMWrap;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport * as React from 'react';\nimport { connect } from 'mini-store';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport createChainedFunction from \"rc-util/es/createChainedFunction\";\nimport shallowEqual from 'shallowequal';\nimport classNames from 'classnames';\nimport { getKeyFromChildrenIndex, loopMenuItem, noop, menuAllProps, isMobileDevice } from './util';\nimport DOMWrap from './DOMWrap';\n\nfunction allDisabled(arr) {\n  if (!arr.length) {\n    return true;\n  }\n\n  return arr.every(function (c) {\n    return !!c.props.disabled;\n  });\n}\n\nfunction updateActiveKey(store, menuId, activeKey) {\n  var state = store.getState();\n  store.setState({\n    activeKey: _objectSpread({}, state.activeKey, _defineProperty({}, menuId, activeKey))\n  });\n}\n\nfunction getEventKey(props) {\n  // when eventKey not available ,it's menu and return menu id '0-menu-'\n  return props.eventKey || '0-menu-';\n}\n\nexport function getActiveKey(props, originalActiveKey) {\n  var activeKey = originalActiveKey;\n  var children = props.children,\n      eventKey = props.eventKey;\n\n  if (activeKey) {\n    var found;\n    loopMenuItem(children, function (c, i) {\n      if (c && c.props && !c.props.disabled && activeKey === getKeyFromChildrenIndex(c, eventKey, i)) {\n        found = true;\n      }\n    });\n\n    if (found) {\n      return activeKey;\n    }\n  }\n\n  activeKey = null;\n\n  if (props.defaultActiveFirst) {\n    loopMenuItem(children, function (c, i) {\n      if (!activeKey && c && !c.props.disabled) {\n        activeKey = getKeyFromChildrenIndex(c, eventKey, i);\n      }\n    });\n    return activeKey;\n  }\n\n  return activeKey;\n}\nexport function saveRef(c) {\n  if (c) {\n    var index = this.instanceArray.indexOf(c);\n\n    if (index !== -1) {\n      // update component if it's already inside instanceArray\n      this.instanceArray[index] = c;\n    } else {\n      // add component if it's not in instanceArray yet;\n      this.instanceArray.push(c);\n    }\n  }\n}\nexport var SubPopupMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SubPopupMenu, _React$Component);\n\n  function SubPopupMenu(props) {\n    var _this;\n\n    _classCallCheck(this, SubPopupMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SubPopupMenu).call(this, props));\n    /**\n     * all keyboard events callbacks run from here at first\n     *\n     * note:\n     *  This legacy code that `onKeyDown` is called by parent instead of dom self.\n     *  which need return code to check if this event is handled\n     */\n\n    _this.onKeyDown = function (e, callback) {\n      var keyCode = e.keyCode;\n      var handled;\n\n      _this.getFlatInstanceArray().forEach(function (obj) {\n        if (obj && obj.props.active && obj.onKeyDown) {\n          handled = obj.onKeyDown(e);\n        }\n      });\n\n      if (handled) {\n        return 1;\n      }\n\n      var activeItem = null;\n\n      if (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN) {\n        activeItem = _this.step(keyCode === KeyCode.UP ? -1 : 1);\n      }\n\n      if (activeItem) {\n        e.preventDefault();\n        updateActiveKey(_this.props.store, getEventKey(_this.props), activeItem.props.eventKey);\n\n        if (typeof callback === 'function') {\n          callback(activeItem);\n        }\n\n        return 1;\n      }\n\n      return undefined;\n    };\n\n    _this.onItemHover = function (e) {\n      var key = e.key,\n          hover = e.hover;\n      updateActiveKey(_this.props.store, getEventKey(_this.props), hover ? key : null);\n    };\n\n    _this.onDeselect = function (selectInfo) {\n      _this.props.onDeselect(selectInfo);\n    };\n\n    _this.onSelect = function (selectInfo) {\n      _this.props.onSelect(selectInfo);\n    };\n\n    _this.onClick = function (e) {\n      _this.props.onClick(e);\n    };\n\n    _this.onOpenChange = function (e) {\n      _this.props.onOpenChange(e);\n    };\n\n    _this.onDestroy = function (key) {\n      /* istanbul ignore next */\n      _this.props.onDestroy(key);\n    };\n\n    _this.getFlatInstanceArray = function () {\n      return _this.instanceArray;\n    };\n\n    _this.step = function (direction) {\n      var children = _this.getFlatInstanceArray();\n\n      var activeKey = _this.props.store.getState().activeKey[getEventKey(_this.props)];\n\n      var len = children.length;\n\n      if (!len) {\n        return null;\n      }\n\n      if (direction < 0) {\n        children = children.concat().reverse();\n      } // find current activeIndex\n\n\n      var activeIndex = -1;\n      children.every(function (c, ci) {\n        if (c && c.props.eventKey === activeKey) {\n          activeIndex = ci;\n          return false;\n        }\n\n        return true;\n      });\n\n      if (!_this.props.defaultActiveFirst && activeIndex !== -1 && allDisabled(children.slice(activeIndex, len - 1))) {\n        return undefined;\n      }\n\n      var start = (activeIndex + 1) % len;\n      var i = start;\n\n      do {\n        var child = children[i];\n\n        if (!child || child.props.disabled) {\n          i = (i + 1) % len;\n        } else {\n          return child;\n        }\n      } while (i !== start);\n\n      return null;\n    };\n\n    _this.renderCommonMenuItem = function (child, i, extraProps) {\n      var state = _this.props.store.getState();\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props;\n\n      var key = getKeyFromChildrenIndex(child, props.eventKey, i);\n      var childProps = child.props; // https://github.com/ant-design/ant-design/issues/11517#issuecomment-477403055\n\n      if (!childProps || typeof child.type === 'string') {\n        return child;\n      }\n\n      var isActive = key === state.activeKey;\n\n      var newChildProps = _objectSpread({\n        mode: childProps.mode || props.mode,\n        level: props.level,\n        inlineIndent: props.inlineIndent,\n        renderMenuItem: _this.renderMenuItem,\n        rootPrefixCls: props.prefixCls,\n        index: i,\n        parentMenu: props.parentMenu,\n        // customized ref function, need to be invoked manually in child's componentDidMount\n        manualRef: childProps.disabled ? undefined : createChainedFunction(child.ref, saveRef.bind(_assertThisInitialized(_this))),\n        eventKey: key,\n        active: !childProps.disabled && isActive,\n        multiple: props.multiple,\n        onClick: function onClick(e) {\n          (childProps.onClick || noop)(e);\n\n          _this.onClick(e);\n        },\n        onItemHover: _this.onItemHover,\n        motion: props.motion,\n        subMenuOpenDelay: props.subMenuOpenDelay,\n        subMenuCloseDelay: props.subMenuCloseDelay,\n        forceSubMenuRender: props.forceSubMenuRender,\n        onOpenChange: _this.onOpenChange,\n        onDeselect: _this.onDeselect,\n        onSelect: _this.onSelect,\n        builtinPlacements: props.builtinPlacements,\n        itemIcon: childProps.itemIcon || _this.props.itemIcon,\n        expandIcon: childProps.expandIcon || _this.props.expandIcon\n      }, extraProps); // ref: https://github.com/ant-design/ant-design/issues/13943\n\n\n      if (props.mode === 'inline' || isMobileDevice()) {\n        newChildProps.triggerSubMenuAction = 'click';\n      }\n\n      return React.cloneElement(child, newChildProps);\n    };\n\n    _this.renderMenuItem = function (c, i, subMenuKey) {\n      /* istanbul ignore if */\n      if (!c) {\n        return null;\n      }\n\n      var state = _this.props.store.getState();\n\n      var extraProps = {\n        openKeys: state.openKeys,\n        selectedKeys: state.selectedKeys,\n        triggerSubMenuAction: _this.props.triggerSubMenuAction,\n        subMenuKey: subMenuKey\n      };\n      return _this.renderCommonMenuItem(c, i, extraProps);\n    };\n\n    props.store.setState({\n      activeKey: _objectSpread({}, props.store.getState().activeKey, _defineProperty({}, props.eventKey, getActiveKey(props, props.activeKey)))\n    });\n    _this.instanceArray = [];\n    return _this;\n  }\n\n  _createClass(SubPopupMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // invoke customized ref to expose component to mixin\n      if (this.props.manualRef) {\n        this.props.manualRef(this);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return this.props.visible || nextProps.visible || this.props.className !== nextProps.className || !shallowEqual(this.props.style, nextProps.style);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var props = this.props;\n      var originalActiveKey = 'activeKey' in props ? props.activeKey : props.store.getState().activeKey[getEventKey(props)];\n      var activeKey = getActiveKey(props, originalActiveKey);\n\n      if (activeKey !== originalActiveKey) {\n        updateActiveKey(props.store, getEventKey(props), activeKey);\n      } else if ('activeKey' in prevProps) {\n        // If prev activeKey is not same as current activeKey,\n        // we should set it.\n        var prevActiveKey = getActiveKey(prevProps, prevProps.activeKey);\n\n        if (activeKey !== prevActiveKey) {\n          updateActiveKey(props.store, getEventKey(props), activeKey);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var props = _extends({}, this.props);\n\n      this.instanceArray = [];\n      var className = classNames(props.prefixCls, props.className, \"\".concat(props.prefixCls, \"-\").concat(props.mode));\n      var domProps = {\n        className: className,\n        // role could be 'select' and by default set to menu\n        role: props.role || 'menu'\n      };\n\n      if (props.id) {\n        domProps.id = props.id;\n      }\n\n      if (props.focusable) {\n        domProps.tabIndex = 0;\n        domProps.onKeyDown = this.onKeyDown;\n      }\n\n      var prefixCls = props.prefixCls,\n          eventKey = props.eventKey,\n          visible = props.visible,\n          level = props.level,\n          mode = props.mode,\n          overflowedIndicator = props.overflowedIndicator,\n          theme = props.theme;\n      menuAllProps.forEach(function (key) {\n        return delete props[key];\n      }); // Otherwise, the propagated click event will trigger another onClick\n\n      delete props.onClick;\n      return React.createElement(DOMWrap, Object.assign({}, props, {\n        prefixCls: prefixCls,\n        mode: mode,\n        tag: \"ul\",\n        level: level,\n        theme: theme,\n        visible: visible,\n        overflowedIndicator: overflowedIndicator\n      }, domProps), React.Children.map(props.children, function (c, i) {\n        return _this2.renderMenuItem(c, i, eventKey || '0-menu-');\n      }));\n    }\n  }]);\n\n  return SubPopupMenu;\n}(React.Component);\nSubPopupMenu.defaultProps = {\n  prefixCls: 'rc-menu',\n  className: '',\n  mode: 'vertical',\n  level: 1,\n  inlineIndent: 24,\n  visible: true,\n  focusable: true,\n  style: {},\n  manualRef: noop\n};\nvar connected = connect()(SubPopupMenu);\nexport default connected;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nimport warning from \"rc-util/es/warning\";\nexport function getMotion(_ref) {\n  var prefixCls = _ref.prefixCls,\n      motion = _ref.motion,\n      openAnimation = _ref.openAnimation,\n      openTransitionName = _ref.openTransitionName;\n\n  if (motion) {\n    return motion;\n  }\n\n  if (_typeof(openAnimation) === 'object' && openAnimation) {\n    warning(false, 'Object type of `openAnimation` is removed. Please use `motion` instead.');\n  } else if (typeof openAnimation === 'string') {\n    return {\n      motionName: \"\".concat(prefixCls, \"-open-\").concat(openAnimation)\n    };\n  }\n\n  if (openTransitionName) {\n    return {\n      motionName: openTransitionName\n    };\n  }\n\n  return null;\n}","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport { Provider, create } from 'mini-store';\nimport SubPopupMenu, { getActiveKey } from './SubPopupMenu';\nimport { noop } from './util';\nimport { getMotion } from './utils/legacyUtil';\n\nvar Menu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Menu, _React$Component);\n\n  function Menu(props) {\n    var _this;\n\n    _classCallCheck(this, Menu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Menu).call(this, props));\n\n    _this.onSelect = function (selectInfo) {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props;\n\n      if (props.selectable) {\n        // root menu\n        var _this$store$getState = _this.store.getState(),\n            _selectedKeys = _this$store$getState.selectedKeys;\n\n        var selectedKey = selectInfo.key;\n\n        if (props.multiple) {\n          _selectedKeys = _selectedKeys.concat([selectedKey]);\n        } else {\n          _selectedKeys = [selectedKey];\n        }\n\n        if (!('selectedKeys' in props)) {\n          _this.store.setState({\n            selectedKeys: _selectedKeys\n          });\n        }\n\n        props.onSelect(_objectSpread({}, selectInfo, {\n          selectedKeys: _selectedKeys\n        }));\n      }\n    };\n\n    _this.onClick = function (e) {\n      _this.props.onClick(e);\n    }; // onKeyDown needs to be exposed as a instance method\n    // e.g., in rc-select, we need to navigate menu item while\n    // current active item is rc-select input box rather than the menu itself\n\n\n    _this.onKeyDown = function (e, callback) {\n      _this.innerMenu.getWrappedInstance().onKeyDown(e, callback);\n    };\n\n    _this.onOpenChange = function (event) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          props = _assertThisInitialize2.props;\n\n      var openKeys = _this.store.getState().openKeys.concat();\n\n      var changed = false;\n\n      var processSingle = function processSingle(e) {\n        var oneChanged = false;\n\n        if (e.open) {\n          oneChanged = openKeys.indexOf(e.key) === -1;\n\n          if (oneChanged) {\n            openKeys.push(e.key);\n          }\n        } else {\n          var index = openKeys.indexOf(e.key);\n          oneChanged = index !== -1;\n\n          if (oneChanged) {\n            openKeys.splice(index, 1);\n          }\n        }\n\n        changed = changed || oneChanged;\n      };\n\n      if (Array.isArray(event)) {\n        // batch change call\n        event.forEach(processSingle);\n      } else {\n        processSingle(event);\n      }\n\n      if (changed) {\n        if (!('openKeys' in _this.props)) {\n          _this.store.setState({\n            openKeys: openKeys\n          });\n        }\n\n        props.onOpenChange(openKeys);\n      }\n    };\n\n    _this.onDeselect = function (selectInfo) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this),\n          props = _assertThisInitialize3.props;\n\n      if (props.selectable) {\n        var _selectedKeys2 = _this.store.getState().selectedKeys.concat();\n\n        var selectedKey = selectInfo.key;\n\n        var index = _selectedKeys2.indexOf(selectedKey);\n\n        if (index !== -1) {\n          _selectedKeys2.splice(index, 1);\n        }\n\n        if (!('selectedKeys' in props)) {\n          _this.store.setState({\n            selectedKeys: _selectedKeys2\n          });\n        }\n\n        props.onDeselect(_objectSpread({}, selectInfo, {\n          selectedKeys: _selectedKeys2\n        }));\n      }\n    };\n\n    _this.getOpenTransitionName = function () {\n      var _assertThisInitialize4 = _assertThisInitialized(_this),\n          props = _assertThisInitialize4.props;\n\n      var transitionName = props.openTransitionName;\n      var animationName = props.openAnimation;\n\n      if (!transitionName && typeof animationName === 'string') {\n        transitionName = \"\".concat(props.prefixCls, \"-open-\").concat(animationName);\n      }\n\n      return transitionName;\n    };\n\n    _this.setInnerMenu = function (node) {\n      _this.innerMenu = node;\n    };\n\n    _this.isRootMenu = true;\n    var selectedKeys = props.defaultSelectedKeys;\n    var openKeys = props.defaultOpenKeys;\n\n    if ('selectedKeys' in props) {\n      selectedKeys = props.selectedKeys || [];\n    }\n\n    if ('openKeys' in props) {\n      openKeys = props.openKeys || [];\n    }\n\n    _this.store = create({\n      selectedKeys: selectedKeys,\n      openKeys: openKeys,\n      activeKey: {\n        '0-menu-': getActiveKey(props, props.activeKey)\n      }\n    });\n    return _this;\n  }\n\n  _createClass(Menu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateMiniStore();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.updateMiniStore();\n    }\n  }, {\n    key: \"updateMiniStore\",\n    value: function updateMiniStore() {\n      if ('selectedKeys' in this.props) {\n        this.store.setState({\n          selectedKeys: this.props.selectedKeys || []\n        });\n      }\n\n      if ('openKeys' in this.props) {\n        this.store.setState({\n          openKeys: this.props.openKeys || []\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = _objectSpread({}, this.props);\n\n      props.className += \" \".concat(props.prefixCls, \"-root\");\n      props = _objectSpread({}, props, {\n        onClick: this.onClick,\n        onOpenChange: this.onOpenChange,\n        onDeselect: this.onDeselect,\n        onSelect: this.onSelect,\n        parentMenu: this,\n        motion: getMotion(this.props)\n      });\n      delete props.openAnimation;\n      delete props.openTransitionName;\n      return React.createElement(Provider, {\n        store: this.store\n      }, React.createElement(SubPopupMenu, Object.assign({}, props, {\n        ref: this.setInnerMenu\n      }), this.props.children));\n    }\n  }]);\n\n  return Menu;\n}(React.Component);\n\nMenu.defaultProps = {\n  selectable: true,\n  onClick: noop,\n  onSelect: noop,\n  onOpenChange: noop,\n  onDeselect: noop,\n  defaultSelectedKeys: [],\n  defaultOpenKeys: [],\n  subMenuOpenDelay: 0.1,\n  subMenuCloseDelay: 0.1,\n  triggerSubMenuAction: 'hover',\n  prefixCls: 'rc-menu',\n  className: '',\n  mode: 'vertical',\n  style: {},\n  builtinPlacements: {},\n  overflowedIndicator: React.createElement(\"span\", null, \"\\xB7\\xB7\\xB7\")\n};\nexport default Menu;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport classNames from 'classnames';\nimport scrollIntoView from 'dom-scroll-into-view';\nimport { connect } from 'mini-store';\nimport { noop, menuAllProps } from './util';\nexport var MenuItem =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MenuItem, _React$Component);\n\n  function MenuItem() {\n    var _this;\n\n    _classCallCheck(this, MenuItem);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MenuItem).apply(this, arguments));\n\n    _this.onKeyDown = function (e) {\n      var keyCode = e.keyCode;\n\n      if (keyCode === KeyCode.ENTER) {\n        _this.onClick(e);\n\n        return true;\n      }\n\n      return undefined;\n    };\n\n    _this.onMouseLeave = function (e) {\n      var _this$props = _this.props,\n          eventKey = _this$props.eventKey,\n          onItemHover = _this$props.onItemHover,\n          onMouseLeave = _this$props.onMouseLeave;\n      onItemHover({\n        key: eventKey,\n        hover: false\n      });\n      onMouseLeave({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n\n    _this.onMouseEnter = function (e) {\n      var _this$props2 = _this.props,\n          eventKey = _this$props2.eventKey,\n          onItemHover = _this$props2.onItemHover,\n          onMouseEnter = _this$props2.onMouseEnter;\n      onItemHover({\n        key: eventKey,\n        hover: true\n      });\n      onMouseEnter({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n\n    _this.onClick = function (e) {\n      var _this$props3 = _this.props,\n          eventKey = _this$props3.eventKey,\n          multiple = _this$props3.multiple,\n          onClick = _this$props3.onClick,\n          onSelect = _this$props3.onSelect,\n          onDeselect = _this$props3.onDeselect,\n          isSelected = _this$props3.isSelected;\n      var info = {\n        key: eventKey,\n        keyPath: [eventKey],\n        item: _assertThisInitialized(_this),\n        domEvent: e\n      };\n      onClick(info);\n\n      if (multiple) {\n        if (isSelected) {\n          onDeselect(info);\n        } else {\n          onSelect(info);\n        }\n      } else if (!isSelected) {\n        onSelect(info);\n      }\n    };\n\n    _this.saveNode = function (node) {\n      _this.node = node;\n    };\n\n    return _this;\n  }\n\n  _createClass(MenuItem, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // invoke customized ref to expose component to mixin\n      this.callRef();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props4 = this.props,\n          active = _this$props4.active,\n          parentMenu = _this$props4.parentMenu,\n          eventKey = _this$props4.eventKey; // 在 parentMenu 上层保存滚动状态，避免重复的 MenuItem key 导致滚动跳动\n      // https://github.com/ant-design/ant-design/issues/16181\n\n      if (!prevProps.active && active && (!parentMenu || !parentMenu[\"scrolled-\".concat(eventKey)])) {\n        if (this.node) {\n          scrollIntoView(this.node, ReactDOM.findDOMNode(parentMenu), {\n            onlyScrollIfNeeded: true\n          });\n          parentMenu[\"scrolled-\".concat(eventKey)] = true;\n        }\n      } else if (parentMenu && parentMenu[\"scrolled-\".concat(eventKey)]) {\n        delete parentMenu[\"scrolled-\".concat(eventKey)];\n      }\n\n      this.callRef();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var props = this.props;\n\n      if (props.onDestroy) {\n        props.onDestroy(props.eventKey);\n      }\n    }\n  }, {\n    key: \"getPrefixCls\",\n    value: function getPrefixCls() {\n      return \"\".concat(this.props.rootPrefixCls, \"-item\");\n    }\n  }, {\n    key: \"getActiveClassName\",\n    value: function getActiveClassName() {\n      return \"\".concat(this.getPrefixCls(), \"-active\");\n    }\n  }, {\n    key: \"getSelectedClassName\",\n    value: function getSelectedClassName() {\n      return \"\".concat(this.getPrefixCls(), \"-selected\");\n    }\n  }, {\n    key: \"getDisabledClassName\",\n    value: function getDisabledClassName() {\n      return \"\".concat(this.getPrefixCls(), \"-disabled\");\n    }\n  }, {\n    key: \"callRef\",\n    value: function callRef() {\n      if (this.props.manualRef) {\n        this.props.manualRef(this);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames;\n\n      var props = _objectSpread({}, this.props);\n\n      var className = classNames(this.getPrefixCls(), props.className, (_classNames = {}, _defineProperty(_classNames, this.getActiveClassName(), !props.disabled && props.active), _defineProperty(_classNames, this.getSelectedClassName(), props.isSelected), _defineProperty(_classNames, this.getDisabledClassName(), props.disabled), _classNames));\n\n      var attrs = _objectSpread({}, props.attribute, {\n        title: props.title,\n        className: className,\n        // set to menuitem by default\n        role: props.role || 'menuitem',\n        'aria-disabled': props.disabled\n      });\n\n      if (props.role === 'option') {\n        // overwrite to option\n        attrs = _objectSpread({}, attrs, {\n          role: 'option',\n          'aria-selected': props.isSelected\n        });\n      } else if (props.role === null || props.role === 'none') {\n        // sometimes we want to specify role inside <li/> element\n        // <li><a role='menuitem'>Link</a></li> would be a good example\n        // in this case the role on <li/> should be \"none\" to\n        // remove the implied listitem role.\n        // https://www.w3.org/TR/wai-aria-practices-1.1/examples/menubar/menubar-1/menubar-1.html\n        attrs.role = 'none';\n      } // In case that onClick/onMouseLeave/onMouseEnter is passed down from owner\n\n\n      var mouseEvent = {\n        onClick: props.disabled ? null : this.onClick,\n        onMouseLeave: props.disabled ? null : this.onMouseLeave,\n        onMouseEnter: props.disabled ? null : this.onMouseEnter\n      };\n\n      var style = _objectSpread({}, props.style);\n\n      if (props.mode === 'inline') {\n        style.paddingLeft = props.inlineIndent * props.level;\n      }\n\n      menuAllProps.forEach(function (key) {\n        return delete props[key];\n      });\n      var icon = this.props.itemIcon;\n\n      if (typeof this.props.itemIcon === 'function') {\n        // TODO: This is a bug which should fixed after TS refactor\n        icon = React.createElement(this.props.itemIcon, this.props);\n      }\n\n      return React.createElement(\"li\", Object.assign({}, props, attrs, mouseEvent, {\n        style: style,\n        ref: this.saveNode\n      }), props.children, icon);\n    }\n  }]);\n\n  return MenuItem;\n}(React.Component);\nMenuItem.isMenuItem = true;\nMenuItem.defaultProps = {\n  onSelect: noop,\n  onMouseEnter: noop,\n  onMouseLeave: noop,\n  manualRef: noop\n};\nvar connected = connect(function (_ref, _ref2) {\n  var activeKey = _ref.activeKey,\n      selectedKeys = _ref.selectedKeys;\n  var eventKey = _ref2.eventKey,\n      subMenuKey = _ref2.subMenuKey;\n  return {\n    active: activeKey[subMenuKey] === eventKey,\n    isSelected: selectedKeys.indexOf(eventKey) !== -1\n  };\n})(MenuItem);\nexport default connected;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport { menuAllProps } from './util';\n\nvar MenuItemGroup =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MenuItemGroup, _React$Component);\n\n  function MenuItemGroup() {\n    var _this;\n\n    _classCallCheck(this, MenuItemGroup);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MenuItemGroup).apply(this, arguments));\n\n    _this.renderInnerMenuItem = function (item) {\n      var _this$props = _this.props,\n          renderMenuItem = _this$props.renderMenuItem,\n          index = _this$props.index;\n      return renderMenuItem(item, index, _this.props.subMenuKey);\n    };\n\n    return _this;\n  }\n\n  _createClass(MenuItemGroup, [{\n    key: \"render\",\n    value: function render() {\n      var props = _extends({}, this.props);\n\n      var _props$className = props.className,\n          className = _props$className === void 0 ? '' : _props$className,\n          rootPrefixCls = props.rootPrefixCls;\n      var titleClassName = \"\".concat(rootPrefixCls, \"-item-group-title\");\n      var listClassName = \"\".concat(rootPrefixCls, \"-item-group-list\");\n      var title = props.title,\n          children = props.children;\n      menuAllProps.forEach(function (key) {\n        return delete props[key];\n      }); // Set onClick to null, to ignore propagated onClick event\n\n      delete props.onClick;\n      return React.createElement(\"li\", Object.assign({}, props, {\n        className: \"\".concat(className, \" \").concat(rootPrefixCls, \"-item-group\")\n      }), React.createElement(\"div\", {\n        className: titleClassName,\n        title: typeof title === 'string' ? title : undefined\n      }, title), React.createElement(\"ul\", {\n        className: listClassName\n      }, React.Children.map(children, this.renderInnerMenuItem)));\n    }\n  }]);\n\n  return MenuItemGroup;\n}(React.Component);\n\nMenuItemGroup.isMenuItemGroup = true;\nMenuItemGroup.defaultProps = {\n  disabled: true\n};\nexport default MenuItemGroup;","import * as React from 'react';\n\nvar Divider = function Divider(_ref) {\n  var className = _ref.className,\n      rootPrefixCls = _ref.rootPrefixCls,\n      style = _ref.style;\n  return React.createElement(\"li\", {\n    className: \"\".concat(className, \" \").concat(rootPrefixCls, \"-item-divider\"),\n    style: style\n  });\n};\n\nDivider.defaultProps = {\n  // To fix keyboard UX.\n  disabled: true,\n  className: '',\n  style: {}\n};\nexport default Divider;","import Menu from './Menu';\nimport SubMenu from './SubMenu';\nimport MenuItem from './MenuItem';\nimport MenuItemGroup from './MenuItemGroup';\nimport Divider from './Divider';\nexport { SubMenu, MenuItem as Item, MenuItem, MenuItemGroup, MenuItemGroup as ItemGroup, Divider };\nexport default Menu;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = exports.connect = exports.Provider = undefined;\n\nvar _Provider2 = require('./Provider');\n\nvar _Provider3 = _interopRequireDefault(_Provider2);\n\nvar _connect2 = require('./connect');\n\nvar _connect3 = _interopRequireDefault(_connect2);\n\nvar _create2 = require('./create');\n\nvar _create3 = _interopRequireDefault(_create2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.Provider = _Provider3.default;\nexports.connect = _connect3.default;\nexports.create = _create3.default;","/**\n * @ignore\n * some key-codes definition and utils from closure-library\n * @author yiminghe@gmail.com\n */\nvar KeyCode = {\n  /**\n   * MAC_ENTER\n   */\n  MAC_ENTER: 3,\n\n  /**\n   * BACKSPACE\n   */\n  BACKSPACE: 8,\n\n  /**\n   * TAB\n   */\n  TAB: 9,\n\n  /**\n   * NUMLOCK on FF/Safari Mac\n   */\n  NUM_CENTER: 12,\n  // NUMLOCK on FF/Safari Mac\n\n  /**\n   * ENTER\n   */\n  ENTER: 13,\n\n  /**\n   * SHIFT\n   */\n  SHIFT: 16,\n\n  /**\n   * CTRL\n   */\n  CTRL: 17,\n\n  /**\n   * ALT\n   */\n  ALT: 18,\n\n  /**\n   * PAUSE\n   */\n  PAUSE: 19,\n\n  /**\n   * CAPS_LOCK\n   */\n  CAPS_LOCK: 20,\n\n  /**\n   * ESC\n   */\n  ESC: 27,\n\n  /**\n   * SPACE\n   */\n  SPACE: 32,\n\n  /**\n   * PAGE_UP\n   */\n  PAGE_UP: 33,\n  // also NUM_NORTH_EAST\n\n  /**\n   * PAGE_DOWN\n   */\n  PAGE_DOWN: 34,\n  // also NUM_SOUTH_EAST\n\n  /**\n   * END\n   */\n  END: 35,\n  // also NUM_SOUTH_WEST\n\n  /**\n   * HOME\n   */\n  HOME: 36,\n  // also NUM_NORTH_WEST\n\n  /**\n   * LEFT\n   */\n  LEFT: 37,\n  // also NUM_WEST\n\n  /**\n   * UP\n   */\n  UP: 38,\n  // also NUM_NORTH\n\n  /**\n   * RIGHT\n   */\n  RIGHT: 39,\n  // also NUM_EAST\n\n  /**\n   * DOWN\n   */\n  DOWN: 40,\n  // also NUM_SOUTH\n\n  /**\n   * PRINT_SCREEN\n   */\n  PRINT_SCREEN: 44,\n\n  /**\n   * INSERT\n   */\n  INSERT: 45,\n  // also NUM_INSERT\n\n  /**\n   * DELETE\n   */\n  DELETE: 46,\n  // also NUM_DELETE\n\n  /**\n   * ZERO\n   */\n  ZERO: 48,\n\n  /**\n   * ONE\n   */\n  ONE: 49,\n\n  /**\n   * TWO\n   */\n  TWO: 50,\n\n  /**\n   * THREE\n   */\n  THREE: 51,\n\n  /**\n   * FOUR\n   */\n  FOUR: 52,\n\n  /**\n   * FIVE\n   */\n  FIVE: 53,\n\n  /**\n   * SIX\n   */\n  SIX: 54,\n\n  /**\n   * SEVEN\n   */\n  SEVEN: 55,\n\n  /**\n   * EIGHT\n   */\n  EIGHT: 56,\n\n  /**\n   * NINE\n   */\n  NINE: 57,\n\n  /**\n   * QUESTION_MARK\n   */\n  QUESTION_MARK: 63,\n  // needs localization\n\n  /**\n   * A\n   */\n  A: 65,\n\n  /**\n   * B\n   */\n  B: 66,\n\n  /**\n   * C\n   */\n  C: 67,\n\n  /**\n   * D\n   */\n  D: 68,\n\n  /**\n   * E\n   */\n  E: 69,\n\n  /**\n   * F\n   */\n  F: 70,\n\n  /**\n   * G\n   */\n  G: 71,\n\n  /**\n   * H\n   */\n  H: 72,\n\n  /**\n   * I\n   */\n  I: 73,\n\n  /**\n   * J\n   */\n  J: 74,\n\n  /**\n   * K\n   */\n  K: 75,\n\n  /**\n   * L\n   */\n  L: 76,\n\n  /**\n   * M\n   */\n  M: 77,\n\n  /**\n   * N\n   */\n  N: 78,\n\n  /**\n   * O\n   */\n  O: 79,\n\n  /**\n   * P\n   */\n  P: 80,\n\n  /**\n   * Q\n   */\n  Q: 81,\n\n  /**\n   * R\n   */\n  R: 82,\n\n  /**\n   * S\n   */\n  S: 83,\n\n  /**\n   * T\n   */\n  T: 84,\n\n  /**\n   * U\n   */\n  U: 85,\n\n  /**\n   * V\n   */\n  V: 86,\n\n  /**\n   * W\n   */\n  W: 87,\n\n  /**\n   * X\n   */\n  X: 88,\n\n  /**\n   * Y\n   */\n  Y: 89,\n\n  /**\n   * Z\n   */\n  Z: 90,\n\n  /**\n   * META\n   */\n  META: 91,\n  // WIN_KEY_LEFT\n\n  /**\n   * WIN_KEY_RIGHT\n   */\n  WIN_KEY_RIGHT: 92,\n\n  /**\n   * CONTEXT_MENU\n   */\n  CONTEXT_MENU: 93,\n\n  /**\n   * NUM_ZERO\n   */\n  NUM_ZERO: 96,\n\n  /**\n   * NUM_ONE\n   */\n  NUM_ONE: 97,\n\n  /**\n   * NUM_TWO\n   */\n  NUM_TWO: 98,\n\n  /**\n   * NUM_THREE\n   */\n  NUM_THREE: 99,\n\n  /**\n   * NUM_FOUR\n   */\n  NUM_FOUR: 100,\n\n  /**\n   * NUM_FIVE\n   */\n  NUM_FIVE: 101,\n\n  /**\n   * NUM_SIX\n   */\n  NUM_SIX: 102,\n\n  /**\n   * NUM_SEVEN\n   */\n  NUM_SEVEN: 103,\n\n  /**\n   * NUM_EIGHT\n   */\n  NUM_EIGHT: 104,\n\n  /**\n   * NUM_NINE\n   */\n  NUM_NINE: 105,\n\n  /**\n   * NUM_MULTIPLY\n   */\n  NUM_MULTIPLY: 106,\n\n  /**\n   * NUM_PLUS\n   */\n  NUM_PLUS: 107,\n\n  /**\n   * NUM_MINUS\n   */\n  NUM_MINUS: 109,\n\n  /**\n   * NUM_PERIOD\n   */\n  NUM_PERIOD: 110,\n\n  /**\n   * NUM_DIVISION\n   */\n  NUM_DIVISION: 111,\n\n  /**\n   * F1\n   */\n  F1: 112,\n\n  /**\n   * F2\n   */\n  F2: 113,\n\n  /**\n   * F3\n   */\n  F3: 114,\n\n  /**\n   * F4\n   */\n  F4: 115,\n\n  /**\n   * F5\n   */\n  F5: 116,\n\n  /**\n   * F6\n   */\n  F6: 117,\n\n  /**\n   * F7\n   */\n  F7: 118,\n\n  /**\n   * F8\n   */\n  F8: 119,\n\n  /**\n   * F9\n   */\n  F9: 120,\n\n  /**\n   * F10\n   */\n  F10: 121,\n\n  /**\n   * F11\n   */\n  F11: 122,\n\n  /**\n   * F12\n   */\n  F12: 123,\n\n  /**\n   * NUMLOCK\n   */\n  NUMLOCK: 144,\n\n  /**\n   * SEMICOLON\n   */\n  SEMICOLON: 186,\n  // needs localization\n\n  /**\n   * DASH\n   */\n  DASH: 189,\n  // needs localization\n\n  /**\n   * EQUALS\n   */\n  EQUALS: 187,\n  // needs localization\n\n  /**\n   * COMMA\n   */\n  COMMA: 188,\n  // needs localization\n\n  /**\n   * PERIOD\n   */\n  PERIOD: 190,\n  // needs localization\n\n  /**\n   * SLASH\n   */\n  SLASH: 191,\n  // needs localization\n\n  /**\n   * APOSTROPHE\n   */\n  APOSTROPHE: 192,\n  // needs localization\n\n  /**\n   * SINGLE_QUOTE\n   */\n  SINGLE_QUOTE: 222,\n  // needs localization\n\n  /**\n   * OPEN_SQUARE_BRACKET\n   */\n  OPEN_SQUARE_BRACKET: 219,\n  // needs localization\n\n  /**\n   * BACKSLASH\n   */\n  BACKSLASH: 220,\n  // needs localization\n\n  /**\n   * CLOSE_SQUARE_BRACKET\n   */\n  CLOSE_SQUARE_BRACKET: 221,\n  // needs localization\n\n  /**\n   * WIN_KEY\n   */\n  WIN_KEY: 224,\n\n  /**\n   * MAC_FF_META\n   */\n  MAC_FF_META: 224,\n  // Firefox (Gecko) fires this for the meta key instead of 91\n\n  /**\n   * WIN_IME\n   */\n  WIN_IME: 229\n};\n/*\n whether text and modified key is entered at the same time.\n */\n\nKeyCode.isTextModifyingKeyEvent = function isTextModifyingKeyEvent(e) {\n  var keyCode = e.keyCode;\n\n  if (e.altKey && !e.ctrlKey || e.metaKey || // Function keys don't generate text\n  keyCode >= KeyCode.F1 && keyCode <= KeyCode.F12) {\n    return false;\n  } // The following keys are quite harmless, even in combination with\n  // CTRL, ALT or SHIFT.\n\n\n  switch (keyCode) {\n    case KeyCode.ALT:\n    case KeyCode.CAPS_LOCK:\n    case KeyCode.CONTEXT_MENU:\n    case KeyCode.CTRL:\n    case KeyCode.DOWN:\n    case KeyCode.END:\n    case KeyCode.ESC:\n    case KeyCode.HOME:\n    case KeyCode.INSERT:\n    case KeyCode.LEFT:\n    case KeyCode.MAC_FF_META:\n    case KeyCode.META:\n    case KeyCode.NUMLOCK:\n    case KeyCode.NUM_CENTER:\n    case KeyCode.PAGE_DOWN:\n    case KeyCode.PAGE_UP:\n    case KeyCode.PAUSE:\n    case KeyCode.PRINT_SCREEN:\n    case KeyCode.RIGHT:\n    case KeyCode.SHIFT:\n    case KeyCode.UP:\n    case KeyCode.WIN_KEY:\n    case KeyCode.WIN_KEY_RIGHT:\n      return false;\n\n    default:\n      return true;\n  }\n};\n/*\n whether character is entered.\n */\n\n\nKeyCode.isCharacterKey = function isCharacterKey(keyCode) {\n  if (keyCode >= KeyCode.ZERO && keyCode <= KeyCode.NINE) {\n    return true;\n  }\n\n  if (keyCode >= KeyCode.NUM_ZERO && keyCode <= KeyCode.NUM_MULTIPLY) {\n    return true;\n  }\n\n  if (keyCode >= KeyCode.A && keyCode <= KeyCode.Z) {\n    return true;\n  } // Safari sends zero key code for non-latin characters.\n\n\n  if (window.navigation.userAgent.indexOf('WebKit') !== -1 && keyCode === 0) {\n    return true;\n  }\n\n  switch (keyCode) {\n    case KeyCode.SPACE:\n    case KeyCode.QUESTION_MARK:\n    case KeyCode.NUM_PLUS:\n    case KeyCode.NUM_MINUS:\n    case KeyCode.NUM_PERIOD:\n    case KeyCode.NUM_DIVISION:\n    case KeyCode.SEMICOLON:\n    case KeyCode.DASH:\n    case KeyCode.EQUALS:\n    case KeyCode.COMMA:\n    case KeyCode.PERIOD:\n    case KeyCode.SLASH:\n    case KeyCode.APOSTROPHE:\n    case KeyCode.SINGLE_QUOTE:\n    case KeyCode.OPEN_SQUARE_BRACKET:\n    case KeyCode.BACKSLASH:\n    case KeyCode.CLOSE_SQUARE_BRACKET:\n      return true;\n\n    default:\n      return false;\n  }\n};\n\nexport default KeyCode;","import _extends from 'babel-runtime/helpers/extends';\n\nfunction isPointsEq(a1, a2, isAlignPoint) {\n  if (isAlignPoint) {\n    return a1[0] === a2[0];\n  }\n\n  return a1[0] === a2[0] && a1[1] === a2[1];\n}\n\nexport function getAlignFromPlacement(builtinPlacements, placementStr, align) {\n  var baseAlign = builtinPlacements[placementStr] || {};\n  return _extends({}, baseAlign, align);\n}\nexport function getAlignPopupClassName(builtinPlacements, prefixCls, align, isAlignPoint) {\n  var points = align.points;\n\n  for (var placement in builtinPlacements) {\n    if (builtinPlacements.hasOwnProperty(placement)) {\n      if (isPointsEq(builtinPlacements[placement].points, points, isAlignPoint)) {\n        return prefixCls + '-placement-' + placement;\n      }\n    }\n  }\n\n  return '';\n}\nexport function saveRef(name, component) {\n  this[name] = component;\n}","import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nvar LazyRenderBox = function (_Component) {\n  _inherits(LazyRenderBox, _Component);\n\n  function LazyRenderBox() {\n    _classCallCheck(this, LazyRenderBox);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  LazyRenderBox.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    return nextProps.hiddenClassName || nextProps.visible;\n  };\n\n  LazyRenderBox.prototype.render = function render() {\n    var _props = this.props,\n        hiddenClassName = _props.hiddenClassName,\n        visible = _props.visible,\n        props = _objectWithoutProperties(_props, ['hiddenClassName', 'visible']);\n\n    if (hiddenClassName || React.Children.count(props.children) > 1) {\n      if (!visible && hiddenClassName) {\n        props.className += ' ' + hiddenClassName;\n      }\n\n      return React.createElement('div', props);\n    }\n\n    return React.Children.only(props.children);\n  };\n\n  return LazyRenderBox;\n}(Component);\n\nLazyRenderBox.propTypes = {\n  children: PropTypes.any,\n  className: PropTypes.string,\n  visible: PropTypes.bool,\n  hiddenClassName: PropTypes.string\n};\nexport default LazyRenderBox;","import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport LazyRenderBox from './LazyRenderBox';\n\nvar PopupInner = function (_Component) {\n  _inherits(PopupInner, _Component);\n\n  function PopupInner() {\n    _classCallCheck(this, PopupInner);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  PopupInner.prototype.render = function render() {\n    var props = this.props;\n    var className = props.className;\n\n    if (!props.visible) {\n      className += ' ' + props.hiddenClassName;\n    }\n\n    return React.createElement('div', {\n      className: className,\n      onMouseEnter: props.onMouseEnter,\n      onMouseLeave: props.onMouseLeave,\n      onMouseDown: props.onMouseDown,\n      onTouchStart: props.onTouchStart,\n      style: props.style\n    }, React.createElement(LazyRenderBox, {\n      className: props.prefixCls + '-content',\n      visible: props.visible\n    }, props.children));\n  };\n\n  return PopupInner;\n}(Component);\n\nPopupInner.propTypes = {\n  hiddenClassName: PropTypes.string,\n  className: PropTypes.string,\n  prefixCls: PropTypes.string,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  children: PropTypes.any\n};\nexport default PopupInner;","import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport Align from 'rc-align';\nimport Animate from 'rc-animate';\nimport PopupInner from './PopupInner';\nimport LazyRenderBox from './LazyRenderBox';\nimport { saveRef } from './utils';\n\nvar Popup = function (_Component) {\n  _inherits(Popup, _Component);\n\n  function Popup(props) {\n    _classCallCheck(this, Popup);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.state = {\n      // Used for stretch\n      stretchChecked: false,\n      targetWidth: undefined,\n      targetHeight: undefined\n    };\n    _this.savePopupRef = saveRef.bind(_this, 'popupInstance');\n    _this.saveAlignRef = saveRef.bind(_this, 'alignInstance');\n    return _this;\n  }\n\n  Popup.prototype.componentDidMount = function componentDidMount() {\n    this.rootNode = this.getPopupDomNode();\n    this.setStretchSize();\n  };\n\n  Popup.prototype.componentDidUpdate = function componentDidUpdate() {\n    this.setStretchSize();\n  }; // Record size if stretch needed\n\n\n  Popup.prototype.getPopupDomNode = function getPopupDomNode() {\n    return ReactDOM.findDOMNode(this.popupInstance);\n  }; // `target` on `rc-align` can accept as a function to get the bind element or a point.\n  // ref: https://www.npmjs.com/package/rc-align\n\n\n  Popup.prototype.getMaskTransitionName = function getMaskTransitionName() {\n    var props = this.props;\n    var transitionName = props.maskTransitionName;\n    var animation = props.maskAnimation;\n\n    if (!transitionName && animation) {\n      transitionName = props.prefixCls + '-' + animation;\n    }\n\n    return transitionName;\n  };\n\n  Popup.prototype.getTransitionName = function getTransitionName() {\n    var props = this.props;\n    var transitionName = props.transitionName;\n\n    if (!transitionName && props.animation) {\n      transitionName = props.prefixCls + '-' + props.animation;\n    }\n\n    return transitionName;\n  };\n\n  Popup.prototype.getClassName = function getClassName(currentAlignClassName) {\n    return this.props.prefixCls + ' ' + this.props.className + ' ' + currentAlignClassName;\n  };\n\n  Popup.prototype.getPopupElement = function getPopupElement() {\n    var _this2 = this;\n\n    var savePopupRef = this.savePopupRef;\n    var _state = this.state,\n        stretchChecked = _state.stretchChecked,\n        targetHeight = _state.targetHeight,\n        targetWidth = _state.targetWidth;\n    var _props = this.props,\n        align = _props.align,\n        visible = _props.visible,\n        prefixCls = _props.prefixCls,\n        style = _props.style,\n        getClassNameFromAlign = _props.getClassNameFromAlign,\n        destroyPopupOnHide = _props.destroyPopupOnHide,\n        stretch = _props.stretch,\n        children = _props.children,\n        onMouseEnter = _props.onMouseEnter,\n        onMouseLeave = _props.onMouseLeave,\n        onMouseDown = _props.onMouseDown,\n        onTouchStart = _props.onTouchStart;\n    var className = this.getClassName(this.currentAlignClassName || getClassNameFromAlign(align));\n    var hiddenClassName = prefixCls + '-hidden';\n\n    if (!visible) {\n      this.currentAlignClassName = null;\n    }\n\n    var sizeStyle = {};\n\n    if (stretch) {\n      // Stretch with target\n      if (stretch.indexOf('height') !== -1) {\n        sizeStyle.height = targetHeight;\n      } else if (stretch.indexOf('minHeight') !== -1) {\n        sizeStyle.minHeight = targetHeight;\n      }\n\n      if (stretch.indexOf('width') !== -1) {\n        sizeStyle.width = targetWidth;\n      } else if (stretch.indexOf('minWidth') !== -1) {\n        sizeStyle.minWidth = targetWidth;\n      } // Delay force align to makes ui smooth\n\n\n      if (!stretchChecked) {\n        sizeStyle.visibility = 'hidden';\n        setTimeout(function () {\n          if (_this2.alignInstance) {\n            _this2.alignInstance.forceAlign();\n          }\n        }, 0);\n      }\n    }\n\n    var newStyle = _extends({}, sizeStyle, style, this.getZIndexStyle());\n\n    var popupInnerProps = {\n      className: className,\n      prefixCls: prefixCls,\n      ref: savePopupRef,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onMouseDown: onMouseDown,\n      onTouchStart: onTouchStart,\n      style: newStyle\n    };\n\n    if (destroyPopupOnHide) {\n      return React.createElement(Animate, {\n        component: '',\n        exclusive: true,\n        transitionAppear: true,\n        transitionName: this.getTransitionName()\n      }, visible ? React.createElement(Align, {\n        target: this.getAlignTarget(),\n        key: 'popup',\n        ref: this.saveAlignRef,\n        monitorWindowResize: true,\n        align: align,\n        onAlign: this.onAlign\n      }, React.createElement(PopupInner, _extends({\n        visible: true\n      }, popupInnerProps), children)) : null);\n    }\n\n    return React.createElement(Animate, {\n      component: '',\n      exclusive: true,\n      transitionAppear: true,\n      transitionName: this.getTransitionName(),\n      showProp: 'xVisible'\n    }, React.createElement(Align, {\n      target: this.getAlignTarget(),\n      key: 'popup',\n      ref: this.saveAlignRef,\n      monitorWindowResize: true,\n      xVisible: visible,\n      childrenProps: {\n        visible: 'xVisible'\n      },\n      disabled: !visible,\n      align: align,\n      onAlign: this.onAlign\n    }, React.createElement(PopupInner, _extends({\n      hiddenClassName: hiddenClassName\n    }, popupInnerProps), children)));\n  };\n\n  Popup.prototype.getZIndexStyle = function getZIndexStyle() {\n    var style = {};\n    var props = this.props;\n\n    if (props.zIndex !== undefined) {\n      style.zIndex = props.zIndex;\n    }\n\n    return style;\n  };\n\n  Popup.prototype.getMaskElement = function getMaskElement() {\n    var props = this.props;\n    var maskElement = void 0;\n\n    if (props.mask) {\n      var maskTransition = this.getMaskTransitionName();\n      maskElement = React.createElement(LazyRenderBox, {\n        style: this.getZIndexStyle(),\n        key: 'mask',\n        className: props.prefixCls + '-mask',\n        hiddenClassName: props.prefixCls + '-mask-hidden',\n        visible: props.visible\n      });\n\n      if (maskTransition) {\n        maskElement = React.createElement(Animate, {\n          key: 'mask',\n          showProp: 'visible',\n          transitionAppear: true,\n          component: '',\n          transitionName: maskTransition\n        }, maskElement);\n      }\n    }\n\n    return maskElement;\n  };\n\n  Popup.prototype.render = function render() {\n    return React.createElement('div', null, this.getMaskElement(), this.getPopupElement());\n  };\n\n  return Popup;\n}(Component);\n\nPopup.propTypes = {\n  visible: PropTypes.bool,\n  style: PropTypes.object,\n  getClassNameFromAlign: PropTypes.func,\n  onAlign: PropTypes.func,\n  getRootDomNode: PropTypes.func,\n  align: PropTypes.any,\n  destroyPopupOnHide: PropTypes.bool,\n  className: PropTypes.string,\n  prefixCls: PropTypes.string,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  stretch: PropTypes.string,\n  children: PropTypes.node,\n  point: PropTypes.shape({\n    pageX: PropTypes.number,\n    pageY: PropTypes.number\n  })\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onAlign = function (popupDomNode, align) {\n    var props = _this3.props;\n    var currentAlignClassName = props.getClassNameFromAlign(align); // FIX: https://github.com/react-component/trigger/issues/56\n    // FIX: https://github.com/react-component/tooltip/issues/79\n\n    if (_this3.currentAlignClassName !== currentAlignClassName) {\n      _this3.currentAlignClassName = currentAlignClassName;\n      popupDomNode.className = _this3.getClassName(currentAlignClassName);\n    }\n\n    props.onAlign(popupDomNode, align);\n  };\n\n  this.setStretchSize = function () {\n    var _props2 = _this3.props,\n        stretch = _props2.stretch,\n        getRootDomNode = _props2.getRootDomNode,\n        visible = _props2.visible;\n    var _state2 = _this3.state,\n        stretchChecked = _state2.stretchChecked,\n        targetHeight = _state2.targetHeight,\n        targetWidth = _state2.targetWidth;\n\n    if (!stretch || !visible) {\n      if (stretchChecked) {\n        _this3.setState({\n          stretchChecked: false\n        });\n      }\n\n      return;\n    }\n\n    var $ele = getRootDomNode();\n    if (!$ele) return;\n    var height = $ele.offsetHeight;\n    var width = $ele.offsetWidth;\n\n    if (targetHeight !== height || targetWidth !== width || !stretchChecked) {\n      _this3.setState({\n        stretchChecked: true,\n        targetHeight: height,\n        targetWidth: width\n      });\n    }\n  };\n\n  this.getTargetElement = function () {\n    return _this3.props.getRootDomNode();\n  };\n\n  this.getAlignTarget = function () {\n    var point = _this3.props.point;\n\n    if (point) {\n      return point;\n    }\n\n    return _this3.getTargetElement;\n  };\n};\n\nexport default Popup;","import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode, createPortal } from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\nimport contains from 'rc-util/es/Dom/contains';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport ContainerRender from 'rc-util/es/ContainerRender';\nimport Portal from 'rc-util/es/Portal';\nimport classNames from 'classnames';\nimport { getAlignFromPlacement, getAlignPopupClassName } from './utils';\nimport Popup from './Popup';\n\nfunction noop() {}\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument() {\n  return window.document;\n}\n\nvar ALL_HANDLERS = ['onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur', 'onContextMenu'];\nvar IS_REACT_16 = !!createPortal;\nvar contextTypes = {\n  rcTrigger: PropTypes.shape({\n    onPopupMouseDown: PropTypes.func\n  })\n};\n\nvar Trigger = function (_React$Component) {\n  _inherits(Trigger, _React$Component);\n\n  function Trigger(props) {\n    _classCallCheck(this, Trigger);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var popupVisible = void 0;\n\n    if ('popupVisible' in props) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n\n    _this.state = {\n      prevPopupVisible: popupVisible,\n      popupVisible: popupVisible\n    };\n    ALL_HANDLERS.forEach(function (h) {\n      _this['fire' + h] = function (e) {\n        _this.fireEvents(h, e);\n      };\n    });\n    return _this;\n  }\n\n  Trigger.prototype.getChildContext = function getChildContext() {\n    return {\n      rcTrigger: {\n        onPopupMouseDown: this.onPopupMouseDown\n      }\n    };\n  };\n\n  Trigger.prototype.componentDidMount = function componentDidMount() {\n    this.componentDidUpdate({}, {\n      popupVisible: this.state.popupVisible\n    });\n  };\n\n  Trigger.prototype.componentDidUpdate = function componentDidUpdate(_, prevState) {\n    var props = this.props;\n    var state = this.state;\n\n    var triggerAfterPopupVisibleChange = function triggerAfterPopupVisibleChange() {\n      if (prevState.popupVisible !== state.popupVisible) {\n        props.afterPopupVisibleChange(state.popupVisible);\n      }\n    };\n\n    if (!IS_REACT_16) {\n      this.renderComponent(null, triggerAfterPopupVisibleChange);\n    } // We must listen to `mousedown` or `touchstart`, edge case:\n    // https://github.com/ant-design/ant-design/issues/5804\n    // https://github.com/react-component/calendar/issues/250\n    // https://github.com/react-component/trigger/issues/50\n\n\n    if (state.popupVisible) {\n      var currentDocument = void 0;\n\n      if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextMenuToShow())) {\n        currentDocument = props.getDocument();\n        this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n      } // always hide on mobile\n\n\n      if (!this.touchOutsideHandler) {\n        currentDocument = currentDocument || props.getDocument();\n        this.touchOutsideHandler = addEventListener(currentDocument, 'touchstart', this.onDocumentClick);\n      } // close popup when trigger type contains 'onContextMenu' and document is scrolling.\n\n\n      if (!this.contextMenuOutsideHandler1 && this.isContextMenuToShow()) {\n        currentDocument = currentDocument || props.getDocument();\n        this.contextMenuOutsideHandler1 = addEventListener(currentDocument, 'scroll', this.onContextMenuClose);\n      } // close popup when trigger type contains 'onContextMenu' and window is blur.\n\n\n      if (!this.contextMenuOutsideHandler2 && this.isContextMenuToShow()) {\n        this.contextMenuOutsideHandler2 = addEventListener(window, 'blur', this.onContextMenuClose);\n      }\n\n      return;\n    }\n\n    this.clearOutsideHandler();\n  };\n\n  Trigger.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n    clearTimeout(this.mouseDownTimeout);\n  };\n\n  Trigger.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var popupVisible = _ref.popupVisible;\n    var newState = {};\n\n    if (popupVisible !== undefined && prevState.popupVisible !== popupVisible) {\n      newState.popupVisible = popupVisible;\n      newState.prevPopupVisible = prevState.popupVisible;\n    }\n\n    return newState;\n  };\n\n  Trigger.prototype.getPopupDomNode = function getPopupDomNode() {\n    // for test\n    if (this._component && this._component.getPopupDomNode) {\n      return this._component.getPopupDomNode();\n    }\n\n    return null;\n  };\n\n  Trigger.prototype.getPopupAlign = function getPopupAlign() {\n    var props = this.props;\n    var popupPlacement = props.popupPlacement,\n        popupAlign = props.popupAlign,\n        builtinPlacements = props.builtinPlacements;\n\n    if (popupPlacement && builtinPlacements) {\n      return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n    }\n\n    return popupAlign;\n  };\n  /**\n   * @param popupVisible    Show or not the popup element\n   * @param event           SyntheticEvent, used for `pointAlign`\n   */\n\n\n  Trigger.prototype.setPopupVisible = function setPopupVisible(popupVisible, event) {\n    var alignPoint = this.props.alignPoint;\n    var prevPopupVisible = this.state.popupVisible;\n    this.clearDelayTimer();\n\n    if (prevPopupVisible !== popupVisible) {\n      if (!('popupVisible' in this.props)) {\n        this.setState({\n          popupVisible: popupVisible,\n          prevPopupVisible: prevPopupVisible\n        });\n      }\n\n      this.props.onPopupVisibleChange(popupVisible);\n    } // Always record the point position since mouseEnterDelay will delay the show\n\n\n    if (alignPoint && event) {\n      this.setPoint(event);\n    }\n  };\n\n  Trigger.prototype.delaySetPopupVisible = function delaySetPopupVisible(visible, delayS, event) {\n    var _this2 = this;\n\n    var delay = delayS * 1000;\n    this.clearDelayTimer();\n\n    if (delay) {\n      var point = event ? {\n        pageX: event.pageX,\n        pageY: event.pageY\n      } : null;\n      this.delayTimer = setTimeout(function () {\n        _this2.setPopupVisible(visible, point);\n\n        _this2.clearDelayTimer();\n      }, delay);\n    } else {\n      this.setPopupVisible(visible, event);\n    }\n  };\n\n  Trigger.prototype.clearDelayTimer = function clearDelayTimer() {\n    if (this.delayTimer) {\n      clearTimeout(this.delayTimer);\n      this.delayTimer = null;\n    }\n  };\n\n  Trigger.prototype.clearOutsideHandler = function clearOutsideHandler() {\n    if (this.clickOutsideHandler) {\n      this.clickOutsideHandler.remove();\n      this.clickOutsideHandler = null;\n    }\n\n    if (this.contextMenuOutsideHandler1) {\n      this.contextMenuOutsideHandler1.remove();\n      this.contextMenuOutsideHandler1 = null;\n    }\n\n    if (this.contextMenuOutsideHandler2) {\n      this.contextMenuOutsideHandler2.remove();\n      this.contextMenuOutsideHandler2 = null;\n    }\n\n    if (this.touchOutsideHandler) {\n      this.touchOutsideHandler.remove();\n      this.touchOutsideHandler = null;\n    }\n  };\n\n  Trigger.prototype.createTwoChains = function createTwoChains(event) {\n    var childPros = this.props.children.props;\n    var props = this.props;\n\n    if (childPros[event] && props[event]) {\n      return this['fire' + event];\n    }\n\n    return childPros[event] || props[event];\n  };\n\n  Trigger.prototype.isClickToShow = function isClickToShow() {\n    var _props = this.props,\n        action = _props.action,\n        showAction = _props.showAction;\n    return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n  };\n\n  Trigger.prototype.isContextMenuToShow = function isContextMenuToShow() {\n    var _props2 = this.props,\n        action = _props2.action,\n        showAction = _props2.showAction;\n    return action.indexOf('contextMenu') !== -1 || showAction.indexOf('contextMenu') !== -1;\n  };\n\n  Trigger.prototype.isClickToHide = function isClickToHide() {\n    var _props3 = this.props,\n        action = _props3.action,\n        hideAction = _props3.hideAction;\n    return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n  };\n\n  Trigger.prototype.isMouseEnterToShow = function isMouseEnterToShow() {\n    var _props4 = this.props,\n        action = _props4.action,\n        showAction = _props4.showAction;\n    return action.indexOf('hover') !== -1 || showAction.indexOf('mouseEnter') !== -1;\n  };\n\n  Trigger.prototype.isMouseLeaveToHide = function isMouseLeaveToHide() {\n    var _props5 = this.props,\n        action = _props5.action,\n        hideAction = _props5.hideAction;\n    return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseLeave') !== -1;\n  };\n\n  Trigger.prototype.isFocusToShow = function isFocusToShow() {\n    var _props6 = this.props,\n        action = _props6.action,\n        showAction = _props6.showAction;\n    return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n  };\n\n  Trigger.prototype.isBlurToHide = function isBlurToHide() {\n    var _props7 = this.props,\n        action = _props7.action,\n        hideAction = _props7.hideAction;\n    return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n  };\n\n  Trigger.prototype.forcePopupAlign = function forcePopupAlign() {\n    if (this.state.popupVisible && this._component && this._component.alignInstance) {\n      this._component.alignInstance.forceAlign();\n    }\n  };\n\n  Trigger.prototype.fireEvents = function fireEvents(type, e) {\n    var childCallback = this.props.children.props[type];\n\n    if (childCallback) {\n      childCallback(e);\n    }\n\n    var callback = this.props[type];\n\n    if (callback) {\n      callback(e);\n    }\n  };\n\n  Trigger.prototype.close = function close() {\n    this.setPopupVisible(false);\n  };\n\n  Trigger.prototype.render = function render() {\n    var _this3 = this;\n\n    var popupVisible = this.state.popupVisible;\n    var _props8 = this.props,\n        children = _props8.children,\n        forceRender = _props8.forceRender,\n        alignPoint = _props8.alignPoint,\n        className = _props8.className;\n    var child = React.Children.only(children);\n    var newChildProps = {\n      key: 'trigger'\n    };\n\n    if (this.isContextMenuToShow()) {\n      newChildProps.onContextMenu = this.onContextMenu;\n    } else {\n      newChildProps.onContextMenu = this.createTwoChains('onContextMenu');\n    }\n\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.onClick = this.onClick;\n      newChildProps.onMouseDown = this.onMouseDown;\n      newChildProps.onTouchStart = this.onTouchStart;\n    } else {\n      newChildProps.onClick = this.createTwoChains('onClick');\n      newChildProps.onMouseDown = this.createTwoChains('onMouseDown');\n      newChildProps.onTouchStart = this.createTwoChains('onTouchStart');\n    }\n\n    if (this.isMouseEnterToShow()) {\n      newChildProps.onMouseEnter = this.onMouseEnter;\n\n      if (alignPoint) {\n        newChildProps.onMouseMove = this.onMouseMove;\n      }\n    } else {\n      newChildProps.onMouseEnter = this.createTwoChains('onMouseEnter');\n    }\n\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.onMouseLeave = this.onMouseLeave;\n    } else {\n      newChildProps.onMouseLeave = this.createTwoChains('onMouseLeave');\n    }\n\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.onFocus = this.onFocus;\n      newChildProps.onBlur = this.onBlur;\n    } else {\n      newChildProps.onFocus = this.createTwoChains('onFocus');\n      newChildProps.onBlur = this.createTwoChains('onBlur');\n    }\n\n    var childrenClassName = classNames(child && child.props && child.props.className, className);\n\n    if (childrenClassName) {\n      newChildProps.className = childrenClassName;\n    }\n\n    var trigger = React.cloneElement(child, newChildProps);\n\n    if (!IS_REACT_16) {\n      return React.createElement(ContainerRender, {\n        parent: this,\n        visible: popupVisible,\n        autoMount: false,\n        forceRender: forceRender,\n        getComponent: this.getComponent,\n        getContainer: this.getContainer\n      }, function (_ref2) {\n        var renderComponent = _ref2.renderComponent;\n        _this3.renderComponent = renderComponent;\n        return trigger;\n      });\n    }\n\n    var portal = void 0; // prevent unmounting after it's rendered\n\n    if (popupVisible || this._component || forceRender) {\n      portal = React.createElement(Portal, {\n        key: 'portal',\n        getContainer: this.getContainer,\n        didUpdate: this.handlePortalUpdate\n      }, this.getComponent());\n    }\n\n    return [trigger, portal];\n  };\n\n  return Trigger;\n}(React.Component);\n\nTrigger.propTypes = {\n  children: PropTypes.any,\n  action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  showAction: PropTypes.any,\n  hideAction: PropTypes.any,\n  getPopupClassNameFromAlign: PropTypes.any,\n  onPopupVisibleChange: PropTypes.func,\n  afterPopupVisibleChange: PropTypes.func,\n  popup: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  popupStyle: PropTypes.object,\n  prefixCls: PropTypes.string,\n  popupClassName: PropTypes.string,\n  className: PropTypes.string,\n  popupPlacement: PropTypes.string,\n  builtinPlacements: PropTypes.object,\n  popupTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  popupAnimation: PropTypes.any,\n  mouseEnterDelay: PropTypes.number,\n  mouseLeaveDelay: PropTypes.number,\n  zIndex: PropTypes.number,\n  focusDelay: PropTypes.number,\n  blurDelay: PropTypes.number,\n  getPopupContainer: PropTypes.func,\n  getDocument: PropTypes.func,\n  forceRender: PropTypes.bool,\n  destroyPopupOnHide: PropTypes.bool,\n  mask: PropTypes.bool,\n  maskClosable: PropTypes.bool,\n  onPopupAlign: PropTypes.func,\n  popupAlign: PropTypes.object,\n  popupVisible: PropTypes.bool,\n  defaultPopupVisible: PropTypes.bool,\n  maskTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  maskAnimation: PropTypes.string,\n  stretch: PropTypes.string,\n  alignPoint: PropTypes.bool // Maybe we can support user pass position in the future\n\n};\nTrigger.contextTypes = contextTypes;\nTrigger.childContextTypes = contextTypes;\nTrigger.defaultProps = {\n  prefixCls: 'rc-trigger-popup',\n  getPopupClassNameFromAlign: returnEmptyString,\n  getDocument: returnDocument,\n  onPopupVisibleChange: noop,\n  afterPopupVisibleChange: noop,\n  onPopupAlign: noop,\n  popupClassName: '',\n  mouseEnterDelay: 0,\n  mouseLeaveDelay: 0.1,\n  focusDelay: 0,\n  blurDelay: 0.15,\n  popupStyle: {},\n  destroyPopupOnHide: false,\n  popupAlign: {},\n  defaultPopupVisible: false,\n  mask: false,\n  maskClosable: true,\n  action: [],\n  showAction: [],\n  hideAction: []\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this4 = this;\n\n  this.onMouseEnter = function (e) {\n    var mouseEnterDelay = _this4.props.mouseEnterDelay;\n\n    _this4.fireEvents('onMouseEnter', e);\n\n    _this4.delaySetPopupVisible(true, mouseEnterDelay, mouseEnterDelay ? null : e);\n  };\n\n  this.onMouseMove = function (e) {\n    _this4.fireEvents('onMouseMove', e);\n\n    _this4.setPoint(e);\n  };\n\n  this.onMouseLeave = function (e) {\n    _this4.fireEvents('onMouseLeave', e);\n\n    _this4.delaySetPopupVisible(false, _this4.props.mouseLeaveDelay);\n  };\n\n  this.onPopupMouseEnter = function () {\n    _this4.clearDelayTimer();\n  };\n\n  this.onPopupMouseLeave = function (e) {\n    // https://github.com/react-component/trigger/pull/13\n    // react bug?\n    if (e.relatedTarget && !e.relatedTarget.setTimeout && _this4._component && _this4._component.getPopupDomNode && contains(_this4._component.getPopupDomNode(), e.relatedTarget)) {\n      return;\n    }\n\n    _this4.delaySetPopupVisible(false, _this4.props.mouseLeaveDelay);\n  };\n\n  this.onFocus = function (e) {\n    _this4.fireEvents('onFocus', e); // incase focusin and focusout\n\n\n    _this4.clearDelayTimer();\n\n    if (_this4.isFocusToShow()) {\n      _this4.focusTime = Date.now();\n\n      _this4.delaySetPopupVisible(true, _this4.props.focusDelay);\n    }\n  };\n\n  this.onMouseDown = function (e) {\n    _this4.fireEvents('onMouseDown', e);\n\n    _this4.preClickTime = Date.now();\n  };\n\n  this.onTouchStart = function (e) {\n    _this4.fireEvents('onTouchStart', e);\n\n    _this4.preTouchTime = Date.now();\n  };\n\n  this.onBlur = function (e) {\n    _this4.fireEvents('onBlur', e);\n\n    _this4.clearDelayTimer();\n\n    if (_this4.isBlurToHide()) {\n      _this4.delaySetPopupVisible(false, _this4.props.blurDelay);\n    }\n  };\n\n  this.onContextMenu = function (e) {\n    e.preventDefault();\n\n    _this4.fireEvents('onContextMenu', e);\n\n    _this4.setPopupVisible(true, e);\n  };\n\n  this.onContextMenuClose = function () {\n    if (_this4.isContextMenuToShow()) {\n      _this4.close();\n    }\n  };\n\n  this.onClick = function (event) {\n    _this4.fireEvents('onClick', event); // focus will trigger click\n\n\n    if (_this4.focusTime) {\n      var preTime = void 0;\n\n      if (_this4.preClickTime && _this4.preTouchTime) {\n        preTime = Math.min(_this4.preClickTime, _this4.preTouchTime);\n      } else if (_this4.preClickTime) {\n        preTime = _this4.preClickTime;\n      } else if (_this4.preTouchTime) {\n        preTime = _this4.preTouchTime;\n      }\n\n      if (Math.abs(preTime - _this4.focusTime) < 20) {\n        return;\n      }\n\n      _this4.focusTime = 0;\n    }\n\n    _this4.preClickTime = 0;\n    _this4.preTouchTime = 0; // Only prevent default when all the action is click.\n    // https://github.com/ant-design/ant-design/issues/17043\n    // https://github.com/ant-design/ant-design/issues/17291\n\n    if (_this4.isClickToShow() && (_this4.isClickToHide() || _this4.isBlurToHide()) && event && event.preventDefault) {\n      event.preventDefault();\n    }\n\n    var nextVisible = !_this4.state.popupVisible;\n\n    if (_this4.isClickToHide() && !nextVisible || nextVisible && _this4.isClickToShow()) {\n      _this4.setPopupVisible(!_this4.state.popupVisible, event);\n    }\n  };\n\n  this.onPopupMouseDown = function () {\n    var _context$rcTrigger = _this4.context.rcTrigger,\n        rcTrigger = _context$rcTrigger === undefined ? {} : _context$rcTrigger;\n    _this4.hasPopupMouseDown = true;\n    clearTimeout(_this4.mouseDownTimeout);\n    _this4.mouseDownTimeout = setTimeout(function () {\n      _this4.hasPopupMouseDown = false;\n    }, 0);\n\n    if (rcTrigger.onPopupMouseDown) {\n      rcTrigger.onPopupMouseDown.apply(rcTrigger, arguments);\n    }\n  };\n\n  this.onDocumentClick = function (event) {\n    if (_this4.props.mask && !_this4.props.maskClosable) {\n      return;\n    }\n\n    var target = event.target;\n    var root = findDOMNode(_this4);\n\n    if (!contains(root, target) && !_this4.hasPopupMouseDown) {\n      _this4.close();\n    }\n  };\n\n  this.getRootDomNode = function () {\n    return findDOMNode(_this4);\n  };\n\n  this.getPopupClassNameFromAlign = function (align) {\n    var className = [];\n    var _props9 = _this4.props,\n        popupPlacement = _props9.popupPlacement,\n        builtinPlacements = _props9.builtinPlacements,\n        prefixCls = _props9.prefixCls,\n        alignPoint = _props9.alignPoint,\n        getPopupClassNameFromAlign = _props9.getPopupClassNameFromAlign;\n\n    if (popupPlacement && builtinPlacements) {\n      className.push(getAlignPopupClassName(builtinPlacements, prefixCls, align, alignPoint));\n    }\n\n    if (getPopupClassNameFromAlign) {\n      className.push(getPopupClassNameFromAlign(align));\n    }\n\n    return className.join(' ');\n  };\n\n  this.getComponent = function () {\n    var _props10 = _this4.props,\n        prefixCls = _props10.prefixCls,\n        destroyPopupOnHide = _props10.destroyPopupOnHide,\n        popupClassName = _props10.popupClassName,\n        action = _props10.action,\n        onPopupAlign = _props10.onPopupAlign,\n        popupAnimation = _props10.popupAnimation,\n        popupTransitionName = _props10.popupTransitionName,\n        popupStyle = _props10.popupStyle,\n        mask = _props10.mask,\n        maskAnimation = _props10.maskAnimation,\n        maskTransitionName = _props10.maskTransitionName,\n        zIndex = _props10.zIndex,\n        popup = _props10.popup,\n        stretch = _props10.stretch,\n        alignPoint = _props10.alignPoint;\n    var _state = _this4.state,\n        popupVisible = _state.popupVisible,\n        point = _state.point;\n\n    var align = _this4.getPopupAlign();\n\n    var mouseProps = {};\n\n    if (_this4.isMouseEnterToShow()) {\n      mouseProps.onMouseEnter = _this4.onPopupMouseEnter;\n    }\n\n    if (_this4.isMouseLeaveToHide()) {\n      mouseProps.onMouseLeave = _this4.onPopupMouseLeave;\n    }\n\n    mouseProps.onMouseDown = _this4.onPopupMouseDown;\n    mouseProps.onTouchStart = _this4.onPopupMouseDown;\n    return React.createElement(Popup, _extends({\n      prefixCls: prefixCls,\n      destroyPopupOnHide: destroyPopupOnHide,\n      visible: popupVisible,\n      point: alignPoint && point,\n      className: popupClassName,\n      action: action,\n      align: align,\n      onAlign: onPopupAlign,\n      animation: popupAnimation,\n      getClassNameFromAlign: _this4.getPopupClassNameFromAlign\n    }, mouseProps, {\n      stretch: stretch,\n      getRootDomNode: _this4.getRootDomNode,\n      style: popupStyle,\n      mask: mask,\n      zIndex: zIndex,\n      transitionName: popupTransitionName,\n      maskAnimation: maskAnimation,\n      maskTransitionName: maskTransitionName,\n      ref: _this4.savePopup\n    }), typeof popup === 'function' ? popup() : popup);\n  };\n\n  this.getContainer = function () {\n    var props = _this4.props;\n    var popupContainer = document.createElement('div'); // Make sure default popup container will never cause scrollbar appearing\n    // https://github.com/react-component/trigger/issues/41\n\n    popupContainer.style.position = 'absolute';\n    popupContainer.style.top = '0';\n    popupContainer.style.left = '0';\n    popupContainer.style.width = '100%';\n    var mountNode = props.getPopupContainer ? props.getPopupContainer(findDOMNode(_this4)) : props.getDocument().body;\n    mountNode.appendChild(popupContainer);\n    return popupContainer;\n  };\n\n  this.setPoint = function (point) {\n    var alignPoint = _this4.props.alignPoint;\n    if (!alignPoint || !point) return;\n\n    _this4.setState({\n      point: {\n        pageX: point.pageX,\n        pageY: point.pageY\n      }\n    });\n  };\n\n  this.handlePortalUpdate = function () {\n    if (_this4.state.prevPopupVisible !== _this4.state.popupVisible) {\n      _this4.props.afterPopupVisibleChange(_this4.state.popupVisible);\n    }\n  };\n\n  this.savePopup = function (node) {\n    _this4._component = node;\n  };\n};\n\npolyfill(Trigger);\nexport default Trigger;"],"sourceRoot":""}